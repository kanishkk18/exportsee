"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[3786],{41046:(e,t,a)=>{a.d(t,{A:()=>v});var l=a(31206),n=a(4450),o=a(71778),i=a(35066),s=a(65043),r=a(71094),d=a(10216),c=a(76914),m=a(78152),u=a(85369),h=a(70579);function v(e){const{columnsData:t,tableData:a,title:v,type:x,selectedValues:p,setSelectedValues:g}=e,S=(0,s.useMemo)((()=>t),[t]),j=(0,s.useMemo)((()=>a),[a]),[f,b]=(JSON.parse(localStorage.getItem("user")),(0,s.useState)()),y=(0,r.useTable)({columns:S,data:j,initialState:{pageIndex:0}},r.useGlobalFilter,r.useSortBy,r.usePagination),{getTableProps:D,getTableBodyProps:C,headerGroups:z,prepareRow:T,page:I,canPreviousPage:B,canNextPage:W,pageOptions:A,pageCount:w,gotoPage:F,nextPage:P,previousPage:H,setPageSize:k,state:{pageIndex:O,pageSize:G}}=y;A.length<f&&b(A.length);const E=(0,l.dU)("gray.500","white"),N=(0,l.dU)("gray.200","whiteAlpha.100"),V=(e,t)=>{"multi"===x?e.target.checked?g((e=>[...e,t])):g((e=>e.filter((e=>e!==t)))):e.target.checked?g(t):g(null)};return(0,h.jsxs)(d.A,{direction:"column",w:"100%",px:"0px",style:{border:"1px solid gray.200"},overflowX:{sm:"scroll",lg:"hidden"},children:[(0,h.jsx)(n.Flex,{px:"25px",justify:"space-between",mb:"20px",align:"center",children:(0,h.jsxs)(n.Text,{color:E,fontSize:"22px",fontWeight:"700",lineHeight:"100%",children:[v,"  (",(0,h.jsx)(c.A,{targetNumber:null===j||void 0===j?void 0:j.length},null===j||void 0===j?void 0:j.length),")"]})}),(0,h.jsxs)(n.Box,{overflowY:"auto",className:"table-container-property",children:["+ +        ",(0,h.jsxs)(o.XI,{...D(),variant:"simple",color:"gray.500",mb:"24px",children:[(0,h.jsx)(o.d8,{zIndex:1,children:null===z||void 0===z?void 0:z.map(((e,t)=>(0,s.createElement)(o.Tr,{...e.getHeaderGroupProps(),key:t},e.headers.map(((e,t)=>(0,s.createElement)(o.Th,{...e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps()),pe:"10px",key:t,borderColor:N},(0,h.jsxs)(n.Flex,{align:"center",justifyContent:e.center?"center":"start",fontSize:{sm:"14px",lg:"16px"},color:" secondaryGray.900",children:[(0,h.jsx)("span",{style:{textTransform:"capitalize",marginRight:"8px"},children:e.render("Header")}),!1!==e.isSortable&&(0,h.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,h.jsx)(u.GOR,{}):(0,h.jsx)(u.XhJ,{}):(0,h.jsx)(u.MjW,{})})]})))))))}),(0,h.jsxs)(o.NN,{...C(),children:[0===(null===j||void 0===j?void 0:j.length)&&+ +(0,h.jsx)(o.Tr,{children:(0,h.jsx)(o.Td,{colSpan:S.length,children:"img"})}),null===I||void 0===I?void 0:I.map(((e,t)=>{var a;return T(e),(0,s.createElement)(o.Tr,{...null===e||void 0===e?void 0:e.getRowProps(),key:t},null===e||void 0===e||null===(a=e.cells)||void 0===a?void 0:a.map(((e,t)=>{let a="";var l;"#"===(null===e||void 0===e?void 0:e.column.Header)?a=(0,h.jsxs)(n.Flex,{align:"center",children:["multi"===x?(0,h.jsx)(i.Sc,{colorScheme:"brandScheme",value:p,isChecked:p.includes(null===e||void 0===e?void 0:e.value),onChange:t=>V(t,null===e||void 0===e?void 0:e.value),me:"10px"}):(0,h.jsx)(i.Sc,{colorScheme:"brandScheme",value:p,isChecked:p===(null===e||void 0===e?void 0:e.value),onChange:t=>V(t,null===e||void 0===e?void 0:e.value),me:"10px"}),(0,h.jsx)(n.Text,{color:E,fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.index)+1})]}):"title"===(null===e||void 0===e?void 0:e.column.Header)||"first Name"===(null===e||void 0===e?void 0:e.column.Header)||"last Name"===(null===e||void 0===e?void 0:e.column.Header)?a=(0,h.jsx)(n.Text,{me:"10px",color:E,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}):"phone Number"===(null===e||void 0===e?void 0:e.column.Header)||"Email Address"===(null===e||void 0===e?void 0:e.column.Header)?a=(0,h.jsx)(n.Text,{fontSize:"sm",fontWeight:"700",color:E,children:null===e||void 0===e?void 0:e.value}):("physical Address"===(null===e||void 0===e?void 0:e.column.Header)||"mailing Address"===(null===e||void 0===e?void 0:e.column.Header)||"Contact Method"===(null===e||void 0===e?void 0:e.column.Header))&&(a=(0,h.jsx)(n.Text,{color:E,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}));return(0,s.createElement)(o.Td,{...null===e||void 0===e?void 0:e.getCellProps(),key:t,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"},a)})))}))]})]})]}),(null===j||void 0===j?void 0:j.length)>5&&(0,h.jsx)(m.A,{gotoPage:F,gopageValue:f,setGopageValue:b,pageCount:w,canPreviousPage:B,previousPage:H,canNextPage:W,pageOptions:A,setPageSize:k,nextPage:P,pageSize:G,pageIndex:O})]})}},47913:(e,t,a)=>{a.r(t),a.d(t,{default:()=>W});var l=a(65043),n=a(14034),o=a(19754),i=a(4450),s=a(85376),r=a(22554),d=a(79621),c=a(95574),m=a(88031),u=a(17368),h=a(73216),v=a(35475),x=a(63516),p=a(80899),g=a(57360),S=a(78510),j=a(67682),f=a(19488),b=(a(86178),a(43017)),y=a(97508),D=a(70579);const C=e=>{const{allData:t,advanceSearch:a,setAdvanceSearch:l,isLoding:n,setSearchedData:o,setDisplaySearchData:s,setSearchbox:d}=e,c=(0,y.wA)(),m=p.Ik({agenda:p.Yj(),createBy:p.Yj().email("Invalid email format")}),u=(0,x.Wx)({initialValues:{agenda:"",createBy:"",startDate:"",endDate:"",timeStartDate:"",timeEndDate:""},validationSchema:m,onSubmit:(e,a)=>{let{resetForm:n}=a;c((0,b.gB)(e)),c((0,b.DW)({values:e,allData:t,type:"Meeting"}));const o=`${(null===e||void 0===e?void 0:e.startDate)&&`From: ${null===e||void 0===e?void 0:e.startDate}`}${(null===e||void 0===e?void 0:e.endDate)&&` To: ${null===e||void 0===e?void 0:e.endDate}`}`,i=`${(null===e||void 0===e?void 0:e.timeStartDate)&&`From: ${null===e||void 0===e?void 0:e.timeStartDate}`}${(null===e||void 0===e?void 0:e.timeEndDate)&&` To: ${null===e||void 0===e?void 0:e.timeEndDate}`}`,r=[{name:["agenda"],value:e.agenda},{name:["createBy"],value:e.createBy},{name:["startDate","endDate"],value:o},{name:["timeStartDate","timeEndDate"],value:i}];c((0,b.Tr)(r.filter((e=>e.value)))),s(!0),l(!1),n(),d("")}}),{errors:h,touched:v,values:C,handleBlur:z,handleChange:T,handleSubmit:I,setFieldValue:B,resetForm:W,dirty:A}=u;return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)(g.aF,{onClose:()=>{l(!1),W()},isOpen:a,isCentered:!0,children:[(0,D.jsx)(g.mH,{}),(0,D.jsxs)(g.$m,{children:[(0,D.jsx)(g.rQ,{children:"Advance Search"}),(0,D.jsx)(g.s_,{onClick:()=>{l(!1),W()}}),(0,D.jsx)(g.cw,{children:(0,D.jsxs)(i.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:2,children:[(0,D.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,D.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Agenda"}),(0,D.jsx)(j.Input,{fontSize:"sm",onChange:T,onBlur:z,value:null===C||void 0===C?void 0:C.agenda,name:"agenda",placeholder:"Enter Lead Name",fontWeight:"500"}),(0,D.jsxs)(i.Text,{mb:"10px",color:"red",children:[" ",h.agenda&&v.agenda&&h.agenda]})]}),(0,D.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,D.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Create By"}),(0,D.jsx)(j.Input,{fontSize:"sm",onChange:T,onBlur:z,value:null===C||void 0===C?void 0:C.createBy,name:"createBy",placeholder:"Enter Lead Email",fontWeight:"500"}),(0,D.jsxs)(i.Text,{mb:"10px",color:"red",children:[" ",h.createBy&&v.createBy&&h.createBy]})]}),(0,D.jsx)(i.GridItem,{colSpan:{base:12},children:(0,D.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Date & time"})}),(0,D.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,D.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"From"}),(0,D.jsx)(j.Input,{fontSize:"sm",onChange:T,onBlur:z,value:C.startDate,type:"date",name:"startDate",fontWeight:"500"})]}),(0,D.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,D.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"To"}),(0,D.jsx)(j.Input,{fontSize:"sm",onChange:T,onBlur:z,value:C.endDate,min:C.startDate,type:"date",name:"endDate",fontWeight:"500"})]}),(0,D.jsx)(i.GridItem,{colSpan:{base:12},children:(0,D.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Time Stamp"})}),(0,D.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,D.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"From"}),(0,D.jsx)(j.Input,{fontSize:"sm",onChange:T,onBlur:z,value:C.timeStartDate,type:"date",name:"timeStartDate",fontWeight:"500"})]}),(0,D.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,D.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"To"}),(0,D.jsx)(j.Input,{fontSize:"sm",onChange:T,onBlur:z,value:C.timeEndDate,min:C.timeStartDate,type:"date",name:"timeEndDate",fontWeight:"500"})]})]})}),(0,D.jsxs)(g.jl,{children:[(0,D.jsx)(r.Button,{size:"sm",variant:"brand",mr:2,onClick:I,disabled:!(!n&&A),children:n?(0,D.jsx)(f.A,{}):"Search"}),(0,D.jsx)(r.Button,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>W(),children:"Clear"})]})]})]})})};var z=a(47936),T=a(48177),I=a(47503),B=a(77272);const W=()=>{const e=(0,h.Zp)(),[t,a]=(0,l.useState)(!1),{isOpen:x,onOpen:p,onClose:g}=(0,o.j1)(),[S,j]=(0,l.useState)([]),[f,b]=(0,l.useState)(!1),[W,A]=(0,l.useState)([]),[w,F]=(0,l.useState)(""),[P,H]=(JSON.parse(localStorage.getItem("user")),(0,l.useState)(!1)),[k,O]=(0,l.useState)(!1),[G,E]=(0,l.useState)([]),[N,V]=(0,l.useState)(!1),[L,$]=(0,l.useState)([]),[M]=(0,c.h)(["Meetings"]),_=(0,y.wA)(),R={Header:"Action",isSortable:!1,center:!0,cell:t=>{let{row:a}=t;return(0,D.jsx)(i.Text,{fontSize:"md",fontWeight:"900",textAlign:"center",children:(0,D.jsxs)(s.W1,{isLazy:!0,children:[(0,D.jsx)(s.IU,{children:(0,D.jsx)(u.txp,{})}),(0,D.jsxs)(s.cO,{minW:"fit-content",transform:"translate(1520px, 173px);",children:[(null===M||void 0===M?void 0:M.view)&&(0,D.jsx)(s.Dr,{py:2.5,color:"green",onClick:()=>e(`/metting/${null===a||void 0===a?void 0:a.values._id}`),icon:(0,D.jsx)(n.ViewIcon,{fontSize:15}),children:"View"}),(null===M||void 0===M?void 0:M.delete)&&(0,D.jsx)(s.Dr,{py:2.5,color:"red",onClick:()=>{var e;H(!0),j([null===a||void 0===a||null===(e=a.values)||void 0===e?void 0:e._id])},icon:(0,D.jsx)(n.DeleteIcon,{fontSize:15}),children:"Delete"})]})]})})}},Y=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Agenda",accessor:"agenda",cell:e=>{var t;return(0,D.jsxs)(v.N_,{to:`/metting/${null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.values._id}`,children:[" ",(0,D.jsx)(i.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e?void 0:e.value)||" - "})]})}},{Header:"Date & Time",accessor:"dateTime"},{Header:"Time Stamp",accessor:"timestamp"},{Header:"Create By",accessor:"createdByName"},...null!==M&&void 0!==M&&M.update||null!==M&&void 0!==M&&M.view||null!==M&&void 0!==M&&M.delete?[R]:[]];return(0,l.useEffect)((()=>{(async()=>{O(!0);const e=await _((0,B.Y)());var t;200===e.payload.status?E(null===e||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.data):I.oR.error("Failed to fetch data","error"),O(!1)})()}),[t]),(0,D.jsxs)("div",{children:[(0,D.jsx)(m.A,{title:"Meeting",isLoding:k,columnData:null!==Y&&void 0!==Y?Y:[],allData:null!==G&&void 0!==G?G:[],tableData:G,searchDisplay:N,setSearchDisplay:V,searchedDataOut:L,setSearchedDataOut:$,tableCustomFields:[],access:M,onOpen:p,selectedValues:S,setSelectedValues:j,setDelete:H,AdvanceSearch:(0,D.jsx)(r.Button,{variant:"outline",colorScheme:"brand",leftIcon:(0,D.jsx)(n.SearchIcon,{}),mt:{sm:"5px",md:"0"},size:"sm",onClick:()=>b(!0),children:"Advance Search"}),getTagValuesOutSide:W,searchboxOutside:w,setGetTagValuesOutside:A,setSearchboxOutside:F,handleSearchType:"MeetingSearch"}),(0,D.jsx)(C,{advanceSearch:f,setAdvanceSearch:b,setSearchedData:$,setDisplaySearchData:V,allData:null!==G&&void 0!==G?G:[],setAction:a,setGetTagValues:A,setSearchbox:F}),(0,D.jsx)(z.A,{setAction:a,isOpen:x,onClose:g}),(0,D.jsx)(T.A,{isOpen:P,onClose:()=>H(!1),type:"Meetings",handleDeleteData:async e=>{try{O(!0),200===(await(0,d.Vn)("api/meeting/deleteMany",e)).status&&(j([]),H(!1),a((e=>!e)))}catch(t){console.log(t)}finally{O(!1)}},ids:S})]})}}}]);
//# sourceMappingURL=3786.da16698b.chunk.js.map