"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[8195],{10708:(e,l,i)=>{i.d(l,{A:()=>j});var o=i(14034),n=i(57360),t=i(22554),d=i(4450),a=i(19488),s=i(63516),r=i(65043),c=i(73216),u=i(79621),v=i(22030),m=i(80899),h=i(48908),x=i(70579);const j=e=>{var l,i;const{data:j}=e,[p,f]=(0,r.useState)(!1),g=Object.fromEntries(((null===e||void 0===e||null===(l=e.contactData)||void 0===l?void 0:l.fields)||[]).map((e=>[null===e||void 0===e?void 0:e.name,""]))),[b,y]=(0,r.useState)({...g,createBy:JSON.parse(localStorage.getItem("user"))._id}),S=(0,c.g)(),C=(0,s.Wx)({initialValues:b,enableReinitialize:!0,validationSchema:m.Ik().shape((0,v.g)(null===e||void 0===e||null===(i=e.contactData)||void 0===i?void 0:i.fields)),onSubmit:(e,l)=>{let{resetForm:i}=l;T()}}),{errors:w,touched:A,values:I,handleBlur:D,handleChange:k,handleSubmit:z,setFieldValue:H}=C,T=async()=>{try{f(!0),200===(await(0,u.yP)(`api/form/edit/${(null===e||void 0===e?void 0:e.selectedId)||S.id}`,{...I,moduleId:null===e||void 0===e?void 0:e.moduleId})).status&&(e.onClose(),e.setAction((e=>!e)))}catch(l){console.log(l)}finally{f(!1)}},N=()=>{e.onClose(!1),e.setSelectedId&&(null===e||void 0===e||e.setSelectedId())};let B;return(0,r.useEffect)((()=>{(async()=>{if(j)y((e=>({...e,...j})));else if(null!==e&&void 0!==e&&e.selectedId||S.id)try{f(!0),B=await(0,u.x4)("api/contact/view/",null!==e&&void 0!==e&&e.selectedId?null===e||void 0===e?void 0:e.selectedId:S.id),y((e=>{var l,i;return{...e,...null===(l=B)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.contact}}))}catch(l){console.error(l)}finally{f(!1)}})()}),[null===e||void 0===e?void 0:e.selectedId,j]),(0,x.jsx)("div",{children:(0,x.jsxs)(n._s,{isOpen:e.isOpen,size:e.size,children:[(0,x.jsx)(n.QP,{}),(0,x.jsxs)(n.zj,{children:[(0,x.jsxs)(n.BE,{alignItems:"center",justifyContent:"space-between",display:"flex",children:["Edit Contact",(0,x.jsx)(t.IconButton,{onClick:N,icon:(0,x.jsx)(o.CloseIcon,{})})]}),(0,x.jsx)(n.ys,{children:p?(0,x.jsx)(d.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,x.jsx)(a.A,{})}):(0,x.jsx)(h.A,{moduleData:e.contactData,values:I,setFieldValue:H,handleChange:k,handleBlur:D,errors:w,touched:A})}),(0,x.jsxs)(n.tb,{children:[(0,x.jsx)(t.Button,{sx:{textTransform:"capitalize"},variant:"brand",type:"submit",size:"sm",disabled:!!p,onClick:z,children:p?(0,x.jsx)(a.A,{}):"Update"}),(0,x.jsx)(t.Button,{variant:"outline",colorScheme:"red",size:"sm",sx:{marginLeft:2,textTransform:"capitalize"},onClick:N,children:"Close"})]})]})]})})}},40265:(e,l,i)=>{i.d(l,{A:()=>h});var o=i(14034),n=i(57360),t=i(22554),d=i(19488),a=i(63516),s=i(65043),r=i(79621),c=i(22030),u=i(48908),v=i(80899),m=i(70579);const h=e=>{var l,i;const[h,x]=(0,s.useState)(!1),j={...Object.fromEntries(((null===e||void 0===e||null===(l=e.contactData)||void 0===l?void 0:l.fields)||[]).map((e=>[null===e||void 0===e?void 0:e.name,""]))),createBy:JSON.parse(localStorage.getItem("user"))._id},p=(0,a.Wx)({initialValues:j,validationSchema:v.Ik().shape((0,c.g)(null===e||void 0===e||null===(i=e.contactData)||void 0===i?void 0:i.fields)),onSubmit:(e,l)=>{let{resetForm:i}=l;A(),i()}}),{errors:f,touched:g,values:b,handleBlur:y,handleChange:S,handleSubmit:C,setFieldValue:w}=p,A=async()=>{try{var l;x(!0),200===(await(0,r.d_)("api/form/add",{...b,moduleId:null===e||void 0===e||null===(l=e.contactData)||void 0===l?void 0:l._id})).status&&(e.onClose(),e.setAction((e=>!e)))}catch(i){console.log(i)}finally{x(!1)}};return(0,m.jsx)("div",{children:(0,m.jsxs)(n._s,{isOpen:e.isOpen,size:e.size,children:[(0,m.jsx)(n.QP,{}),(0,m.jsxs)(n.zj,{children:[(0,m.jsxs)(n.BE,{alignItems:"center",justifyContent:"space-between",display:"flex",children:["Add Client",(0,m.jsx)(t.IconButton,{onClick:e.onClose,icon:(0,m.jsx)(o.CloseIcon,{})})]}),(0,m.jsx)(n.ys,{children:(0,m.jsx)(u.A,{moduleData:e.contactData,values:b,setFieldValue:w,handleChange:S,handleBlur:y,errors:f,touched:g})}),(0,m.jsxs)(n.tb,{children:[(0,m.jsx)(t.Button,{sx:{textTransform:"capitalize"},variant:"brand",disabled:!!h,type:"submit",size:"sm",onClick:C,children:h?(0,m.jsx)(d.A,{}):"Save"}),(0,m.jsx)(t.Button,{variant:"outline",colorScheme:"red",size:"sm",sx:{marginLeft:2,textTransform:"capitalize"},onClick:()=>{p.resetForm(),e.onClose()},children:"Close"})]})]})]})})}},78195:(e,l,i)=>{i.r(l),i.d(l,{default:()=>Y});var o=i(14034),n=i(31206),t=i(19754),d=i(4450),a=i(78858),s=i(85376),r=i(22554),c=i(20962),u=i(10216),v=i(63994),m=i(19488),h=i(62770),x=i(65043),j=i(67805),p=i(2127),f=i(85369),g=i(34960),b=i(73216),y=i(35475),S=i(47503),C=i(79621),w=i(6),A=i(47936),I=i(9250),D=i(40265),k=i(10708),z=(i(14406),i(57360)),H=i(53288),T=i(97508),N=i(88031),B=i(33915),O=i(70579);const F=e=>{var l,i;const{onClose:o,isOpen:n,fetchData:t,id:a,interestProperty:s}=e,[c,u]=(0,x.useState)([]),[v,h]=(0,x.useState)(!1),[j,p]=(0,x.useState)([]),[f,g]=(0,x.useState)([]),b=(0,T.wA)(),y=(0,T.d4)((e=>e.propertyData.data)),S=[...new Set(c)];return(0,x.useEffect)((()=>{b((0,H.g)()),(async()=>{var e,l,i,o,n,t;h(!0);const d=await b((0,B.R)());p(null===d||void 0===d||null===(e=d.payload)||void 0===e?void 0:e.data);const a=[{Header:"#",accessor:"_id",isSortable:!1,width:10},...null===d||void 0===d||null===(l=d.payload)||void 0===l||null===(i=l.data)||void 0===i||null===(o=i[0])||void 0===o||null===(n=o.fields)||void 0===n||null===(t=n.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||void 0===t?void 0:t.map((e=>({Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name})))];g(a),h(!1)})()}),[]),(0,x.useEffect)((()=>{null===s||void 0===s||s.map((e=>u((l=>[...l,e]))))}),[s]),(0,O.jsxs)(z.aF,{onClose:o,size:"full",isOpen:n,children:[(0,O.jsx)(z.mH,{}),(0,O.jsxs)(z.$m,{children:[(0,O.jsx)(z.rQ,{children:"Select Client's Property"}),(0,O.jsx)(z.s_,{}),(0,O.jsx)(z.cw,{children:v?(0,O.jsx)(d.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,O.jsx)(m.A,{})}):(0,O.jsx)(N.A,{title:"Properties",isLoding:v,columnData:null!==f&&void 0!==f?f:[],allData:null!==y&&void 0!==y?y:[],tableData:y,tableCustomFields:(null===j||void 0===j||null===(l=j[0])||void 0===l||null===(i=l.fields)||void 0===i?void 0:i.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],AdvanceSearch:()=>"",ManageGrid:!1,deleteMany:!1,selectedValues:c,setSelectedValues:u,selectType:"multiple",customSearch:!1})}),(0,O.jsxs)(z.jl,{children:[(0,O.jsxs)(r.Button,{size:"sm",variant:"brand",onClick:async()=>{try{h(!0);let e=await(0,C.d_)(`api/contact/add-property-interest/${a}`,S);e&&200===e.status&&(t(),o())}catch(e){console.log(e)}finally{h(!1)}},disabled:!!v,children:[" ",v?(0,O.jsx)(m.A,{}):"Save"]}),(0,O.jsx)(r.Button,{size:"sm",sx:{marginLeft:2,textTransform:"capitalize"},variant:"outline",colorScheme:"red",onClick:()=>o(),children:"Close"})]})]})]})};i(71094),i(78152);var G=i(52853);var E=i(95574),_=i(99702),P=i(57818),W=i(48177),M=i(86178),$=i.n(M),L=i(1887),R=i(20850),V=i(90074),q=i.n(V),U=i(2096),Q=i(24450);const Y=()=>{var e,l,i,z,H,M,V,Y,J,K,Z,X,ee,le,ie,oe,ne,te,de,ae,se,re,ce,ue,ve,me,he,xe,je;const pe=(0,b.g)(),fe=(0,n.dU)("gray.500","white"),ge=JSON.parse(localStorage.getItem("user")),[be,ye]=((0,n.dU)("gray.200","white"),(0,x.useState)([])),[Se,Ce]=(0,x.useState)([]),{isOpen:we,onOpen:Ae,onClose:Ie}=(0,t.j1)(),[De,ke]=(0,x.useState)(!1),[ze,He]=(0,x.useState)(!1),[Te,Ne]=(0,x.useState)(!1),[Be,Oe]=(0,x.useState)(!1),[Fe,Ge]=(0,x.useState)(!1),[Ee,_e]=(0,x.useState)(!1),[Pe,We]=(0,x.useState)(!1),[Me,$e]=(0,x.useState)(!1),[Le,Re]=(0,x.useState)(!1),[Ve,qe]=(0,x.useState)(!1),[Ue,Qe]=(0,x.useState)(!1),[Ye,Je]=(0,x.useState)(!1),[Ke,Ze]=(0,x.useState)(!1),[Xe,el]=(0,x.useState)(!1),[ll,il]=(0,x.useState)(!1),[ol,nl]=(0,x.useState)(!1),[tl,dl]=(0,x.useState)(!1),[al,sl]=(0,x.useState)(!1),[rl,cl]=(0,x.useState)(0),ul=(0,b.Zp)(),vl=(0,T.wA)(),ml=(0,T.d4)((e=>{var l,i;return null===e||void 0===e||null===(l=e.contactCustomFiled)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.data})),[hl,xl]=(0,x.useState)([]),[jl,pl]=(0,x.useState)([]),[fl,gl,bl,yl,Sl,Cl,wl,Al]=(0,E.h)(["Contacts","Calls","Emails","Tasks","Meetings","Quotes","Invoices","Account"]),Il=[{Header:"sender",accessor:"senderName"},{Header:"recipient",accessor:"createByName",cell:e=>{var l,i;return(0,O.jsx)(y.N_,{to:`/Email/${null===e||void 0===e||null===(l=e.row)||void 0===l||null===(i=l.original)||void 0===i?void 0:i._id}`,children:(0,O.jsx)(d.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e?void 0:e.value)||"-"})})}},{Header:"time stamp",accessor:"timestamp",cell:e=>(0,O.jsx)("div",{className:"selectOpt",children:(0,O.jsx)(d.Text,{color:fe,fontSize:"sm",fontWeight:"700",children:$()(null===e||void 0===e?void 0:e.value).fromNow()})})},{Header:"Created",accessor:"createBy",cell:e=>{var l;return(0,O.jsx)("div",{className:"selectOpt",children:(0,O.jsx)(d.Text,{color:fe,fontSize:"sm",fontWeight:"700",children:$()(null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.values.timestamp).format("h:mma (DD/MM)")})})}}],Dl=[{Header:"sender",accessor:"senderName"},{Header:"recipient",accessor:"createByName",cell:e=>{var l,i;return(0,O.jsx)(y.N_,{to:`/phone-call/${null===e||void 0===e||null===(l=e.row)||void 0===l||null===(i=l.original)||void 0===i?void 0:i._id}`,children:(0,O.jsx)(d.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e?void 0:e.value)||"-"})})}},{Header:"time stamp",accessor:"timestamp",cell:e=>(0,O.jsx)("div",{className:"selectOpt",children:(0,O.jsx)(d.Text,{color:fe,fontSize:"sm",fontWeight:"700",children:$()(null===e||void 0===e?void 0:e.value).fromNow()})})},{Header:"Created",accessor:"createBy",cell:e=>{var l;return(0,O.jsx)("div",{className:"selectOpt",children:(0,O.jsx)(d.Text,{color:fe,fontSize:"sm",fontWeight:"700",children:$()(null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.values.timestamp).format("h:mma (DD/MM)")})})}}],kl=[{Header:"agenda",accessor:"agenda",cell:e=>{var l,i;return(0,O.jsx)(y.N_,{to:`/metting/${null===e||void 0===e||null===(l=e.row)||void 0===l||null===(i=l.original)||void 0===i?void 0:i._id}`,children:(0,O.jsx)(d.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e?void 0:e.value)||"-"})})}},{Header:"date Time",accessor:"dateTime"},{Header:"times tamp",accessor:"timestamp",cell:e=>(0,O.jsx)("div",{className:"selectOpt",children:(0,O.jsx)(d.Text,{color:fe,fontSize:"sm",fontWeight:"700",children:$()(null===e||void 0===e?void 0:e.value).fromNow()})})},{Header:"create By",accessor:"createdByName"}],zl=[{Header:"Quote Number",accessor:"quoteNumber",isSortable:!1,width:10},{Header:"Title",accessor:"title",cell:e=>(0,O.jsx)("div",{className:"selectOpt",children:(0,O.jsx)(d.Text,{onClick:()=>{var l;return ul(`/quotesView/${null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.original._id}`)},me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"},cursor:"pointer"},color:"brand.600",fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value})})},{Header:"Quote Stage",accessor:"quoteStage"},{Header:"Contact",accessor:"contact",cell:e=>{var l,i,o,n;return(0,O.jsx)(d.Text,{children:null!==e&&void 0!==e&&null!==(l=e.row)&&void 0!==l&&null!==(i=l.original)&&void 0!==i&&i.contactName?null===e||void 0===e||null===(o=e.row)||void 0===o||null===(n=o.original)||void 0===n?void 0:n.contactName:"-"})}},{Header:"Account",accessor:"account",cell:e=>{var l,i,o,n,t,a,s,r;return"superAdmin"===ge.role||null!==Al&&void 0!==Al&&Al.view?(0,O.jsx)("div",{className:"selectOpt",children:(0,O.jsx)(d.Text,{onClick:()=>{var l,i;return ul(null!==(null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.original.account)&&`/accountView/${null===e||void 0===e||null===(i=e.row)||void 0===i?void 0:i.original.account}`)},me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"},cursor:"pointer"},color:"brand.600",fontSize:"sm",fontWeight:"700",children:null!==e&&void 0!==e&&null!==(l=e.row)&&void 0!==l&&null!==(i=l.original)&&void 0!==i&&i.accountName?null===e||void 0===e||null===(o=e.row)||void 0===o||null===(n=o.original)||void 0===n?void 0:n.accountName:"-"})}):(0,O.jsx)(d.Text,{children:null!==e&&void 0!==e&&null!==(t=e.row)&&void 0!==t&&null!==(a=t.original)&&void 0!==a&&a.accountName?null===e||void 0===e||null===(s=e.row)||void 0===s||null===(r=s.original)||void 0===r?void 0:r.accountName:"-"})}},{Header:"Grand Total",accessor:"grandTotal",cell:e=>{var l,i,o,n;return(0,O.jsx)("div",{className:"selectOpt",children:(0,O.jsx)(d.Text,{children:null!==e&&void 0!==e&&null!==(l=e.row)&&void 0!==l&&null!==(i=l.original)&&void 0!==i&&i.grandTotal?`$${null===e||void 0===e||null===(o=e.row)||void 0===o||null===(n=o.original)||void 0===n?void 0:n.grandTotal}`:"-"})})}},{Header:"valid Until",accessor:"validUntil"}],Hl=[{Header:"Invoice Number",accessor:"invoiceNumber",isSortable:!1,width:10},{Header:"Title",accessor:"title",cell:e=>(0,O.jsx)("div",{className:"selectOpt",children:(0,O.jsx)(d.Text,{onClick:()=>{var l;return ul(`/invoicesView/${null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.original._id}`)},me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"},cursor:"pointer"},color:"brand.600",fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value})})},{Header:"Status",accessor:"status"},{Header:"Contact",accessor:"contact",cell:e=>{var l,i,o,n;return(0,O.jsx)(d.Text,{children:null!==e&&void 0!==e&&null!==(l=e.row)&&void 0!==l&&null!==(i=l.original)&&void 0!==i&&i.contactName?null===e||void 0===e||null===(o=e.row)||void 0===o||null===(n=o.original)||void 0===n?void 0:n.contactName:"-"})}},{Header:"Account",accessor:"account",cell:e=>{var l,i,o,n,t,a,s,r;return"superAdmin"===ge.role||null!==Al&&void 0!==Al&&Al.view?(0,O.jsx)("div",{className:"selectOpt",children:(0,O.jsx)(d.Text,{onClick:()=>{var l,i;return ul(null!==(null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.original.account)&&`/accountView/${null===e||void 0===e||null===(i=e.row)||void 0===i?void 0:i.original.account}`)},me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"},cursor:"pointer"},color:"brand.600",fontSize:"sm",fontWeight:"700",children:null!==e&&void 0!==e&&null!==(l=e.row)&&void 0!==l&&null!==(i=l.original)&&void 0!==i&&i.accountName?null===e||void 0===e||null===(o=e.row)||void 0===o||null===(n=o.original)||void 0===n?void 0:n.accountName:"-"})}):(0,O.jsx)(d.Text,{children:null!==e&&void 0!==e&&null!==(t=e.row)&&void 0!==t&&null!==(a=t.original)&&void 0!==a&&a.accountName?null===e||void 0===e||null===(s=e.row)||void 0===s||null===(r=s.original)||void 0===r?void 0:r.accountName:"-"})}},{Header:"Grand Total",accessor:"grandTotal",cell:e=>{var l,i,o,n;return(0,O.jsx)("div",{className:"selectOpt",children:(0,O.jsx)(d.Text,{children:null!==e&&void 0!==e&&null!==(l=e.row)&&void 0!==l&&null!==(i=l.original)&&void 0!==i&&i.grandTotal?`$${null===e||void 0===e||null===(o=e.row)||void 0===o||null===(n=o.original)||void 0===n?void 0:n.grandTotal}`:"-"})})}}],Tl=[{Header:"Title",accessor:"title",cell:e=>{var l,i;return(0,O.jsx)(y.N_,{to:`/view/${null===e||void 0===e||null===(l=e.row)||void 0===l||null===(i=l.original)||void 0===i?void 0:i._id}`,children:(0,O.jsx)(d.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e?void 0:e.value)||"-"})})}},{Header:"Category",accessor:"category"},{Header:"Assign To",accessor:"assignToName"},{Header:"Start Date",accessor:"start"},{Header:"End Date",accessor:"end"}],Nl=async e=>{if(e){let l=await(0,C.x4)("api/document/download/",e);l&&200===l.status?(window.open(`${h.d.baseUrl}api/document/download/${e}`),S.oR.success("file Download successful")):l&&404===l.response.status&&S.oR.error("file Not Found")}},Bl=async e=>{var l;Oe(!0);let i=await(0,C.x4)("api/contact/view/",pe.id);ye(null===(l=i.data)||void 0===l?void 0:l.contact),Ce(null===i||void 0===i?void 0:i.data),Oe(!1),cl(e)};(0,x.useEffect)((()=>{Bl()}),[Fe]),(0,x.useEffect)((()=>{(async()=>{var e,l,i,o,n,t;Oe(!0);const d=await vl((0,B.R)());xl(null===d||void 0===d||null===(e=d.payload)||void 0===e?void 0:e.data);const a=[{Header:"#",accessor:"_id",isSortable:!1,width:10},...null===d||void 0===d||null===(l=d.payload)||void 0===l||null===(i=l.data)||void 0===i||null===(o=i[0])||void 0===o||null===(n=o.fields)||void 0===n||null===(t=n.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||void 0===t?void 0:t.map((e=>({Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name})))];pl(a),Oe(!1)})()}),[]),(0,x.useEffect)((()=>{vl((0,R.I)())}),[]);const Ol=null===Object||void 0===Object?void 0:Object.values(pe)[0],Fl=null===Ol||void 0===Ol?void 0:Ol.split("/");return(0,O.jsxs)(O.Fragment,{children:[Be?(0,O.jsx)(d.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,O.jsx)(m.A,{})}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(d.Heading,{size:"lg",mt:0,m:3,children:(null===be||void 0===be?void 0:be.fullName)||""}),(0,O.jsxs)(a.tU,{onChange:e=>{cl(e)},index:rl,children:[(0,O.jsxs)(d.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:1,children:[(0,O.jsx)(d.GridItem,{colSpan:{base:12,md:6},children:(0,O.jsxs)(a.wb,{sx:{width:"100%",overflowX:"auto",border:"none","& button:focus":{boxShadow:"none"},"& button":{margin:{sm:"0 3px",md:"0 5px"},padding:{sm:"5px",md:"8px"},fontSize:{sm:"12px",md:"16px"},border:"2px solid #8080803d",borderTopLeftRadius:"10px",borderTopRightRadius:"10px",borderBottom:0},'& button[aria-selected="true"]':{border:"2px solid brand.200",borderBottom:0,zIndex:"0"}},children:[(0,O.jsx)(a.oz,{children:"Information"}),((null===bl||void 0===bl?void 0:bl.view)||(null===gl||void 0===gl?void 0:gl.view)||(null===yl||void 0===yl?void 0:yl.view)||(null===Sl||void 0===Sl?void 0:Sl.view))&&(0,O.jsx)(a.oz,{children:" Communication"}),(0,O.jsx)(a.oz,{children:"Document"})]})}),(0,O.jsx)(d.GridItem,{colSpan:{base:12,md:6},mt:{sm:"3px",md:"5px"},children:(0,O.jsxs)(d.Flex,{justifyContent:"right",children:[(0,O.jsxs)(s.W1,{children:[("superAdmin"===ge.role||(null===fl||void 0===fl?void 0:fl.create)||(null===fl||void 0===fl?void 0:fl.update)||(null===fl||void 0===fl?void 0:fl.delete))&&(0,O.jsx)(s.IU,{size:"sm",variant:"outline",colorScheme:"blackAlpha",va:!0,mr:2.5,as:r.Button,rightIcon:(0,O.jsx)(o.ChevronDownIcon,{}),children:"Actions"}),(0,O.jsx)(s.Nj,{}),(0,O.jsxs)(s.cO,{minWidth:2,zIndex:"99",children:[("superAdmin"===ge.role||(null===fl||void 0===fl?void 0:fl.create))&&(0,O.jsx)(s.Dr,{alignItems:"start",onClick:()=>Ae(),color:"blue",icon:(0,O.jsx)(o.AddIcon,{}),children:"Add"}),("superAdmin"===ge.role||(null===fl||void 0===fl?void 0:fl.update))&&(0,O.jsx)(s.Dr,{alignItems:"start",onClick:()=>ke(!0),icon:(0,O.jsx)(o.EditIcon,{}),children:"Edit"}),(0,O.jsx)(s.Dr,{onClick:()=>{const e=document.getElementById("reports");e?(e.style.display="block",e.style.width="100%",e.style.height="auto",q()().from(e).set({margin:[0,0,0,0],filename:`Contact_Details_${$()().format("DD-MM-YYYY")}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,allowTaint:!0},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).save().then((()=>{e.style.display=""}))):console.error("Element with ID 'reports' not found.")},alignItems:"start",icon:(0,O.jsx)(f.kl1,{}),display:"flex",style:{alignItems:"center"},children:"Print as PDF"}),("superAdmin"===ge.role||(null===fl||void 0===fl?void 0:fl.delete))&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(s.Nj,{}),(0,O.jsx)(s.Dr,{alignItems:"start",onClick:()=>He(!0),color:"red",icon:(0,O.jsx)(o.DeleteIcon,{}),children:"Delete"})]})]})]}),(0,O.jsx)(y.N_,{to:"/contacts",children:(0,O.jsx)(r.Button,{leftIcon:(0,O.jsx)(g.m6W,{}),size:"sm",variant:"brand",children:"Back"})})]})})]}),(0,O.jsxs)(a.T2,{children:[(0,O.jsx)(a.Kp,{pt:4,p:0,children:(0,O.jsx)(_.A,{data:null===ml||void 0===ml?void 0:ml[0],fieldData:be,toCamelCase:function(e){return null===e||void 0===e?void 0:e.replace(/([a-z])([A-Z])/g,"$1 $2")},moduleId:null===ml||void 0===ml||null===(e=ml[0])||void 0===e?void 0:e._id,fetchData:Bl,id:"reports"})}),(0,O.jsx)(a.Kp,{pt:4,p:0,children:(0,O.jsx)(d.GridItem,{colSpan:{base:12},children:(0,O.jsx)(d.Grid,{templateColumns:{base:"1fr"},gap:4,children:(0,O.jsxs)(d.Grid,{templateColumns:"repeat(12, 1fr)",gap:4,children:[(null===bl||void 0===bl?void 0:bl.view)&&(0,O.jsx)(d.GridItem,{colSpan:{base:12,md:6},children:(0,O.jsxs)(u.A,{overflow:"scroll",children:[(0,O.jsx)(N.A,{title:"Email",isLoding:Be,columnData:null!==Il&&void 0!==Il?Il:[],allData:Ye?Se.EmailHistory:(null===Se||void 0===Se||null===(l=Se.EmailHistory)||void 0===l?void 0:l.length)>0?[Se.EmailHistory[0]]:[],tableData:Ye?Se.EmailHistory:(null===Se||void 0===Se||null===(i=Se.EmailHistory)||void 0===i?void 0:i.length)>0?[Se.EmailHistory[0]]:[],AdvanceSearch:!1,dataLength:null===Se||void 0===Se||null===(z=Se.EmailHistory)||void 0===z?void 0:z.length,tableCustomFields:[],checkBox:!1,deleteMany:!0,ManageGrid:!1,onOpen:()=>We(!0),access:bl}),(null===Se||void 0===Se||null===(H=Se.EmailHistory)||void 0===H?void 0:H.length)>1&&(0,O.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,O.jsx)(r.Button,{colorScheme:"brand",variant:"outline",size:"sm",display:"flex",justifyContant:"end",onClick:()=>Je(!Ye),children:Ye?"Show less":"Show more"})})]})}),(null===gl||void 0===gl?void 0:gl.view)&&(0,O.jsx)(d.GridItem,{colSpan:{base:12,md:6},children:(0,O.jsxs)(u.A,{overflow:"scroll",children:[(0,O.jsx)(N.A,{title:"Call",isLoding:Be,columnData:null!==Dl&&void 0!==Dl?Dl:[],allData:Ke?null===Se||void 0===Se?void 0:Se.phoneCallHistory:(null===Se||void 0===Se||null===(M=Se.phoneCallHistory)||void 0===M?void 0:M.length)>0?[null===Se||void 0===Se?void 0:Se.phoneCallHistory[0]]:[],tableData:Ke?null===Se||void 0===Se?void 0:Se.phoneCallHistory:(null===Se||void 0===Se||null===(V=Se.phoneCallHistory)||void 0===V?void 0:V.length)>0?[null===Se||void 0===Se?void 0:Se.phoneCallHistory[0]]:[],AdvanceSearch:!1,tableCustomFields:[],dataLength:null===Se||void 0===Se||null===(Y=Se.phoneCallHistory)||void 0===Y?void 0:Y.length,checkBox:!1,deleteMany:!0,ManageGrid:!1,onOpen:()=>$e(!0),access:gl}),(null===Se||void 0===Se||null===(J=Se.phoneCallHistory)||void 0===J?void 0:J.length)>1&&(0,O.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,O.jsx)(r.Button,{colorScheme:"brand",variant:"outline",size:"sm",display:"flex",justifyContant:"end",onClick:()=>Ze(!Ke),children:Ke?"Show less":"Show more"})})]})}),(null===yl||void 0===yl?void 0:yl.view)&&(0,O.jsx)(d.GridItem,{colSpan:{base:12,md:6},children:(0,O.jsxs)(u.A,{overflow:"scroll",children:[(0,O.jsx)(N.A,{title:"Task",isLoding:Be,columnData:null!==Tl&&void 0!==Tl?Tl:[],allData:Xe?null===Se||void 0===Se?void 0:Se.task:(null===Se||void 0===Se||null===(K=Se.task)||void 0===K?void 0:K.length)>0?[null===Se||void 0===Se?void 0:Se.task[0]]:[],tableData:Xe?null===Se||void 0===Se?void 0:Se.task:(null===Se||void 0===Se||null===(Z=Se.task)||void 0===Z?void 0:Z.length)>0?[null===Se||void 0===Se?void 0:Se.task[0]]:[],AdvanceSearch:!1,dataLength:null===Se||void 0===Se||null===(X=Se.task)||void 0===X?void 0:X.length,tableCustomFields:[],checkBox:!1,deleteMany:!0,ManageGrid:!1,onOpen:()=>_e(!0),access:yl}),(null===Se||void 0===Se||null===(ee=Se.task)||void 0===ee?void 0:ee.length)>1&&(0,O.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,O.jsx)(r.Button,{colorScheme:"brand",variant:"outline",size:"sm",display:"flex",justifyContant:"end",onClick:()=>el(!Xe),children:Xe?"Show less":"Show more"})})]})}),(null===Sl||void 0===Sl?void 0:Sl.view)&&(0,O.jsx)(d.GridItem,{colSpan:{base:12,md:6},children:(0,O.jsxs)(u.A,{overflow:"scroll",children:[(0,O.jsx)(N.A,{title:"Meeting",isLoding:Be,columnData:null!==kl&&void 0!==kl?kl:[],dataLength:null===Se||void 0===Se||null===(le=Se.meetingHistory)||void 0===le?void 0:le.length,allData:ll?null===Se||void 0===Se?void 0:Se.meetingHistory:(null===Se||void 0===Se||null===(ie=Se.meetingHistory)||void 0===ie?void 0:ie.length)>0?[null===Se||void 0===Se?void 0:Se.meetingHistory[0]]:[],tableData:ll?null===Se||void 0===Se?void 0:Se.meetingHistory:(null===Se||void 0===Se||null===(oe=Se.meetingHistory)||void 0===oe?void 0:oe.length)>0?[null===Se||void 0===Se?void 0:Se.meetingHistory[0]]:[],AdvanceSearch:!1,tableCustomFields:[],checkBox:!1,deleteMany:!0,ManageGrid:!1,onOpen:()=>Qe(!0),access:Sl}),(null===Se||void 0===Se||null===(ne=Se.meetingHistory)||void 0===ne?void 0:ne.length)>1&&(0,O.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,O.jsx)(r.Button,{colorScheme:"brand",size:"sm",variant:"outline",display:"flex",justifyContant:"end",onClick:()=>il(!ll),children:ll?"Show less":"Show more"})})]})}),(null===Cl||void 0===Cl?void 0:Cl.view)&&(0,O.jsx)(d.GridItem,{colSpan:{base:12,md:6},children:(0,O.jsxs)(u.A,{overflow:"scroll",children:[(0,O.jsx)(N.A,{title:"Quotes",isLoding:Be,columnData:null!==zl&&void 0!==zl?zl:[],dataLength:null===Se||void 0===Se||null===(te=Se.quotes)||void 0===te?void 0:te.length,allData:ol?null===Se||void 0===Se?void 0:Se.quotes:(null===Se||void 0===Se||null===(de=Se.quotes)||void 0===de?void 0:de.length)>0?[null===Se||void 0===Se?void 0:Se.quotes[0]]:[],tableData:ol?null===Se||void 0===Se?void 0:Se.quotes:(null===Se||void 0===Se||null===(ae=Se.quotes)||void 0===ae?void 0:ae.length)>0?[null===Se||void 0===Se?void 0:Se.quotes[0]]:[],AdvanceSearch:!1,tableCustomFields:[],checkBox:!1,deleteMany:!0,ManageGrid:!1,onOpen:()=>Re(!0),access:Cl}),(null===Se||void 0===Se||null===(se=Se.quotes)||void 0===se?void 0:se.length)>1&&(0,O.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,O.jsx)(r.Button,{colorScheme:"brand",size:"sm",variant:"outline",display:"flex",justifyContant:"end",onClick:()=>nl(!ol),children:ol?"Show less":"Show more"})})]})}),(null===wl||void 0===wl?void 0:wl.view)&&(0,O.jsx)(d.GridItem,{colSpan:{base:12,md:6},children:(0,O.jsxs)(u.A,{overflow:"scroll",children:[(0,O.jsx)(N.A,{title:"Invoices",isLoding:Be,columnData:null!==Hl&&void 0!==Hl?Hl:[],dataLength:null===Se||void 0===Se||null===(re=Se.invoice)||void 0===re?void 0:re.length,allData:tl?null===Se||void 0===Se?void 0:Se.invoice:(null===Se||void 0===Se||null===(ce=Se.invoice)||void 0===ce?void 0:ce.length)>0?[null===Se||void 0===Se?void 0:Se.invoice[0]]:[],tableData:tl?null===Se||void 0===Se?void 0:Se.invoice:(null===Se||void 0===Se||null===(ue=Se.invoice)||void 0===ue?void 0:ue.length)>0?[null===Se||void 0===Se?void 0:Se.invoice[0]]:[],AdvanceSearch:!1,tableCustomFields:[],checkBox:!1,deleteMany:!0,ManageGrid:!1,onOpen:()=>qe(!0),access:wl}),(null===Se||void 0===Se||null===(ve=Se.invoice)||void 0===ve?void 0:ve.length)>1&&(0,O.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,O.jsx)(r.Button,{colorScheme:"brand",size:"sm",variant:"outline",display:"flex",justifyContant:"end",onClick:()=>dl(!tl),children:tl?"Show less":"Show more"})})]})})]})})})}),(0,O.jsx)(a.Kp,{pt:4,p:0,children:(0,O.jsx)(d.GridItem,{colSpan:{base:12},children:(0,O.jsxs)(u.A,{minH:"40vh",children:[(0,O.jsxs)(d.Flex,{alignItems:"center",justifyContent:"space-between",mb:"2",children:[(0,O.jsx)(d.Heading,{size:"md",mb:3,children:"Documents"}),(0,O.jsx)(r.Button,{leftIcon:(0,O.jsx)(o.AddIcon,{}),size:"sm",variant:"brand",onClick:()=>sl(!0),children:"Add Document"})]}),(0,O.jsx)(v.E,{}),(0,O.jsx)(d.VStack,{mt:4,alignItems:"flex-start",children:(null===Se||void 0===Se||null===(me=Se.Document)||void 0===me?void 0:me.length)>0?null===Se||void 0===Se||null===(he=Se.Document)||void 0===he?void 0:he.map((e=>{var l;return(0,O.jsx)(c.A,{name:e.folderName,item:e,children:null===e||void 0===e||null===(l=e.files)||void 0===l?void 0:l.map((e=>(0,O.jsx)(c.A,{download:Nl,data:e,name:e.fileName,isFile:!0,from:"contact"})))})})):(0,O.jsx)(d.Text,{textAlign:"center",width:"100%",color:fe,fontSize:"sm",fontWeight:"700",children:(0,O.jsx)(G.A,{})})})]})})}),(0,O.jsx)(a.Kp,{pt:4,p:0,children:(0,O.jsx)(d.GridItem,{colSpan:{base:12},children:(0,O.jsx)(u.A,{children:(0,O.jsxs)(d.Grid,{templateColumns:{base:"1fr"},gap:4,children:[(0,O.jsx)(d.GridItem,{colSpan:2,children:(0,O.jsxs)(d.Box,{children:[(0,O.jsx)(d.Heading,{size:"md",mb:3,children:"Social Media Profiles"}),(0,O.jsx)(v.E,{})]})}),null!==be&&void 0!==be&&be.linkedInProfile||null!==be&&void 0!==be&&be.facebookProfile||null!==be&&void 0!==be&&be.twitterHandle||null!==be&&void 0!==be&&be.otherProfiles?(0,O.jsxs)(d.Grid,{templateColumns:"repeat(12, 1fr)",gap:4,my:3,flexWrap:"wrap",display:"flex",justifyContent:"center",children:[(null===be||void 0===be?void 0:be.linkedInProfile)&&(0,O.jsxs)(d.GridItem,{textAlign:"center",colSpan:{base:2,md:1},children:[(0,O.jsx)("a",{target:"_blank",href:null===be||void 0===be?void 0:be.linkedInProfile,children:(0,O.jsx)(r.IconButton,{colorScheme:"brand","aria-label":"Call Fred",borderRadius:"10px",size:"md",icon:(0,O.jsx)(j.LnC,{})})}),(0,O.jsx)(d.Text,{fontSize:"sm",mt:2,fontWeight:"bold",color:"blackAlpha.900",children:" LinkedIn Profile  "})]}),(null===be||void 0===be?void 0:be.facebookProfile)&&(0,O.jsxs)(d.GridItem,{textAlign:"center",colSpan:{base:2,md:1},children:[(0,O.jsx)("a",{target:"_blank",href:`https://www.facebook.com/${be.facebookProfile}`,children:(0,O.jsx)(r.IconButton,{colorScheme:"brand","aria-label":"Call Fred",borderRadius:"10px",size:"md",icon:(0,O.jsx)(f.iYk,{})})}),(0,O.jsx)(d.Text,{fontSize:"sm",mt:2,fontWeight:"bold",color:"blackAlpha.900",children:" Facebook Profile  "})]}),(null===be||void 0===be?void 0:be.linkedInProfile)&&(0,O.jsxs)(d.GridItem,{textAlign:"center",colSpan:{base:2,md:1},children:[(0,O.jsx)("a",{target:"_blank",href:`https://www.facebook.com/${be.facebookProfile}`,children:(0,O.jsx)(r.IconButton,{colorScheme:"brand","aria-label":"Call Fred",borderRadius:"10px",size:"md",icon:(0,O.jsx)(p.Pj_,{})})}),(0,O.jsx)(d.Text,{fontSize:"sm",mt:2,px:2,fontWeight:"bold",color:"blackAlpha.900",children:"Twitter Handle "})]}),(null===be||void 0===be?void 0:be.linkedInProfile)&&(0,O.jsxs)(d.GridItem,{textAlign:"center",colSpan:{base:2,md:1},children:[(0,O.jsx)("a",{target:"_blank",href:null===be||void 0===be?void 0:be.otherProfiles,children:(0,O.jsx)(r.IconButton,{colorScheme:"brand","aria-label":"Call Fred",borderRadius:"10px",size:"md",icon:(0,O.jsx)(j.o9J,{})})}),(0,O.jsx)(d.Text,{fontSize:"sm",mt:2,fontWeight:"bold",color:"blackAlpha.900",children:" Other Profiles  "})]})]}):(0,O.jsx)(d.Grid,{templateColumns:"repeat(2, 1fr)",gap:4,children:(0,O.jsx)(d.GridItem,{colSpan:{base:2},textAlign:"center",children:(0,O.jsxs)(d.Text,{textAlign:"center",width:"100%",color:fe,fontSize:"sm",fontWeight:"700",children:[" ",(0,O.jsx)(G.A,{})]})})})]})})})})]})]}),("superAdmin"===ge.role||(null===fl||void 0===fl?void 0:fl.update)||(null===fl||void 0===fl?void 0:fl.delete))&&(0,O.jsx)(u.A,{mt:3,children:(0,O.jsx)(d.Grid,{templateColumns:"repeat(6, 1fr)",gap:1,children:(0,O.jsx)(d.GridItem,{colStart:6,children:(0,O.jsxs)(d.Flex,{justifyContent:"right",children:[(null===fl||void 0===fl?void 0:fl.update)&&(0,O.jsx)(r.Button,{size:"sm",onClick:()=>ke(!0),leftIcon:(0,O.jsx)(o.EditIcon,{}),mr:2.5,variant:"outline",colorScheme:"green",children:"Edit"}),(null===fl||void 0===fl?void 0:fl.delete)&&(0,O.jsx)(r.Button,{size:"sm",style:{background:"red.800"},onClick:()=>He(!0),leftIcon:(0,O.jsx)(o.DeleteIcon,{}),colorScheme:"red",children:"Delete"})]})})})})]}),we&&(0,O.jsx)(D.A,{isOpen:we,size:"lg",onClose:Ie,interestProperty:null===be||void 0===be?void 0:be.interestProperty,contactData:null===hl||void 0===hl?void 0:hl[0],id:pe.id}),(0,O.jsx)(k.A,{isOpen:De,contactData:null===ml||void 0===ml?void 0:ml[0],size:"lg",onClose:ke,setAction:Ge,moduleId:null===ml||void 0===ml||null===(xe=ml[0])||void 0===xe?void 0:xe._id,data:be}),(0,O.jsx)(W.A,{isOpen:ze,onClose:()=>He(!1),type:"Contact",handleDeleteData:async e=>{try{Oe(!0),200===(await(0,C.Gx)("api/contact/delete/",e)).status&&(He(!1),Ge((e=>!e)),ul("/contacts"))}catch(l){console.log(l)}finally{Oe(!1)}},ids:pe.id}),(0,O.jsx)(w.A,{lead:"false",contactEmail:null===Se||void 0===Se||null===(je=Se.contact)||void 0===je?void 0:je.email,fetchData:Bl,isOpen:Pe,onClose:We,id:pe.id}),(0,O.jsx)(P.A,{addDocument:al,setAddDocument:sl,linkId:pe.id,from:"contact",setAction:Ge,fetchData:Bl}),(0,O.jsx)(A.A,{fetchData:Bl,leadContect:Fl[0],isOpen:Ue,onClose:Qe,from:"contact",id:pe.id,setAction:Ge,view:!0}),(0,O.jsx)(L.A,{isOpen:Ee,fetchData:Bl,leadContect:Fl[0],onClose:_e,id:pe.id,userAction:"add",view:!0}),(0,O.jsx)(I.A,{viewData:Se,fetchData:Bl,setAction:Ge,isOpen:Me,onClose:$e,data:null===be||void 0===be?void 0:be.contact,id:pe.id,cData:be}),(0,O.jsx)(U.A,{isOpen:Le,size:"lg",onClose:()=>Re(!1),setAction:Ge,type:"add",contactId:pe.id}),(0,O.jsx)(Q.A,{isOpen:Ve,size:"lg",onClose:()=>qe(!1),setAction:Ge,type:"add",contactId:pe.id}),(0,O.jsx)(F,{fetchData:Bl,isOpen:Te,onClose:Ne,id:pe.id,interestProperty:null===be||void 0===be?void 0:be.interestProperty})]})}}}]);
//# sourceMappingURL=8195.97529368.chunk.js.map