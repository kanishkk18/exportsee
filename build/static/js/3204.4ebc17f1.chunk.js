"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[3204],{3204:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var l=a(65043),i=a(14034),s=a(19754),d=a(4450),o=a(85376),n=a(79621),r=a(95574),c=a(88031),u=a(17368),v=a(73216),p=a(97508),m=a(47503),S=a(48177),h=a(42101),x=a(70579);const y=()=>{const[e,t]=(0,l.useState)(!1),{isOpen:a,onOpen:y,onClose:j}=(0,s.j1)(),[f,D]=(0,l.useState)(!1),[O,b]=(0,l.useState)(!1),[g,w]=(0,l.useState)(""),[C,T]=(0,l.useState)(),[k,E]=(0,l.useState)([]),[_,z]=(0,l.useState)([]),[V,A]=(0,l.useState)(""),[I,H]=(JSON.parse(localStorage.getItem("user")),(0,l.useState)(!1)),[N,W]=(0,l.useState)(!1),[F,L]=(0,l.useState)(!1),[$,G]=(0,l.useState)([]),[J,M]=(0,l.useState)(!1),[R,U]=(0,l.useState)([]),[Z,q]=(0,l.useState)(""),[B]=(0,r.h)(["Email Template"]),K=((0,v.zy)(),(0,v.Zp)()),P=(0,p.wA)(),Q={Header:"Action",isSortable:!1,center:!0,cell:e=>{let{row:t}=e;return(0,x.jsx)(d.Text,{fontSize:"md",fontWeight:"900",textAlign:"center",children:(0,x.jsxs)(o.W1,{isLazy:!0,children:[(0,x.jsx)(o.IU,{children:(0,x.jsx)(u.txp,{})}),(0,x.jsxs)(o.cO,{minW:"fit-content",transform:"translate(1520px, 173px);",children:[(null===B||void 0===B?void 0:B.update)&&(0,x.jsx)(o.Dr,{py:2.5,icon:(0,x.jsx)(i.EditIcon,{fontSize:15,mb:1}),onClick:()=>(e=>{var t,a;y(),q("edit"),K("/email-template/email-template-addEdit",{state:{type:"edit",id:null===e||void 0===e||null===(t=e.values)||void 0===t?void 0:t._id}}),T(null===e||void 0===e||null===(a=e.values)||void 0===a?void 0:a._id)})(t),children:"Edit"}),(null===B||void 0===B?void 0:B.view)&&(0,x.jsx)(o.Dr,{py:2.5,color:"green",icon:(0,x.jsx)(i.ViewIcon,{fontSize:15,mb:1}),onClick:()=>{var e;return K(`/email-template/${null===t||void 0===t||null===(e=t.values)||void 0===e?void 0:e._id}`)},children:"View"}),(null===B||void 0===B?void 0:B.delete)&&(0,x.jsx)(o.Dr,{py:2.5,color:"red",icon:(0,x.jsx)(i.DeleteIcon,{fontSize:15,mb:1}),onClick:()=>{var e;H(!0),E([null===t||void 0===t||null===(e=t.values)||void 0===e?void 0:e._id])},children:"Delete"})]})]})})}},X=[{Header:"#",accessor:"_id",isSortable:!1,width:5},{Header:"Template Name",accessor:"templateName",cell:e=>(0,x.jsx)("div",{className:"selectOpt",children:(0,x.jsx)(d.Text,{onClick:()=>{var t;return K(`/email-template/${null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.original._id}`)},me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"},cursor:"pointer"},color:"brand.600",fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value})})},{Header:"Description",accessor:"description"},...null!==B&&void 0!==B&&B.update||null!==B&&void 0!==B&&B.delete?[Q]:[]];return(0,l.useEffect)((()=>{(async()=>{L(!0);const e=await P((0,h.t)());var t;200===e.payload.status?G(null===e||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.data):m.oR.error("Failed to fetch data","error"),L(!1)})()}),[e]),(0,x.jsxs)("div",{children:[(0,x.jsx)(c.A,{title:"Email Template",isLoding:F,columnData:null!==X&&void 0!==X?X:[],allData:null!==$&&void 0!==$?$:[],searchDisplay:J,setSearchDisplay:M,searchedDataOut:R,setSearchedDataOut:U,tableCustomFields:[],access:B,onOpen:()=>{K("/email-template/email-template-addEdit",{state:{type:"add"}}),q("add")},selectedValues:k,setSelectedValues:E,setDelete:H,AdvanceSearch:!1,getTagValuesOutSide:_,searchboxOutside:V,setGetTagValuesOutside:z,setSearchboxOutside:A,handleSearchType:"template"}),(0,x.jsx)(S.A,{isOpen:I,onClose:()=>H(!1),type:"Email Template",handleDeleteData:async e=>{try{L(!0),200===(await(0,n.Vn)("api/email-temp/deleteMany",e)).status&&(E([]),H(!1),t((e=>!e)))}catch(a){console.log(a)}finally{L(!1)}},ids:k})]})}}}]);
//# sourceMappingURL=3204.4ebc17f1.chunk.js.map