{"version":3,"file":"static/js/3093.e5bd6cb4.chunk.js","mappings":"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","sources":["views/admin/phoneCall/View.js"],"sourcesContent":["import { Box, Button, Flex, Grid, GridItem, Heading, Text } from \"@chakra-ui/react\";\r\nimport Card from \"components/card/Card\";\r\nimport { HSeparator } from \"components/separator/Separator\";\r\nimport Spinner from \"components/spinner/Spinner\";\r\nimport moment from \"moment\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { IoIosArrowBack } from \"react-icons/io\";\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\nimport { HasAccess } from \"../../../redux/accessUtils\";\r\nimport { getApi } from \"services/api\";\r\nimport { FaFilePdf } from \"react-icons/fa\";\r\nimport html2pdf from \"html2pdf.js\";\r\nconst View = () => {\r\n\r\n    const param = useParams()\r\n    const navigate = useNavigate()\r\n\r\n    const [data, setData] = useState()\r\n    const user = JSON.parse(localStorage.getItem(\"user\"))\r\n    const [isLoding, setIsLoding] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const fetchData = async () => {\r\n        setIsLoding(true)\r\n        let response = await getApi('api/phoneCall/view/', param.id)\r\n        setData(response?.data);\r\n        setIsLoding(false)\r\n    }\r\n    const generatePDF = () => {\r\n        setLoading(true)\r\n        const element = document.getElementById(\"reports\");\r\n        const hideBtn = document.getElementById(\"hide-btn\");\r\n\r\n        if (element) {\r\n            hideBtn.style.display = 'none';\r\n            html2pdf()\r\n                .from(element)\r\n                .set({\r\n                    margin: [0, 0, 0, 0],\r\n                    filename: `PhoneCall_Details_${moment().format(\"DD-MM-YYYY\")}.pdf`,\r\n                    image: { type: \"jpeg\", quality: 0.98 },\r\n                    html2canvas: { scale: 2, useCORS: true, allowTaint: true },\r\n                    jsPDF: { unit: \"in\", format: \"letter\", orientation: \"portrait\" },\r\n                })\r\n                .save().then(() => {\r\n                    setLoading(false)\r\n                    hideBtn.style.display = '';\r\n                })\r\n            // }, 500);\r\n        } else {\r\n            console.error(\"Element with ID 'reports' not found.\");\r\n            setLoading(false)\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        fetchData()\r\n    }, [])\r\n\r\n    const [contactAccess, leadAccess] = HasAccess(['Contacts', 'Leads'])\r\n\r\n    return (\r\n        <>\r\n\r\n            {isLoding ?\r\n                <Flex justifyContent={'center'} alignItems={'center'} width=\"100%\" >\r\n                    <Spinner />\r\n                </Flex> : <>\r\n                    <Grid templateColumns=\"repeat(4, 1fr)\" gap={3} id=\"reports\">\r\n                        <GridItem colSpan={{ base: 4 }}>\r\n                            <Heading size=\"lg\" m={3}>\r\n                                {data?.senderName || \"\"}\r\n                            </Heading>\r\n                        </GridItem>\r\n                        <GridItem colSpan={{ base: 4 }}>\r\n                            <Card >\r\n                                <Grid gap={4}>\r\n                                    <GridItem colSpan={2}>\r\n                                        <Box>\r\n                                            <Box display={\"flex\"} justifyContent={\"space-between\"}>\r\n                                                <Heading size=\"md\" mb={3}>\r\n                                                    Call Details\r\n                                                </Heading>\r\n                                                <Box id=\"hide-btn\">\r\n                                                    <Button leftIcon={<FaFilePdf />} size='sm' variant=\"brand\" onClick={generatePDF} disabled={loading}>\r\n                                                        {loading ? \"Please Wait...\" : \"Print as PDF\"}\r\n                                                    </Button>\r\n                                                    <Button leftIcon={<IoIosArrowBack />} size='sm' variant=\"brand\" onClick={() => navigate(-1)} style={{ marginLeft: 10 }}>\r\n                                                        Back\r\n                                                    </Button>\r\n                                                </Box>\r\n\r\n                                            </Box>\r\n                                            <HSeparator />\r\n                                        </Box>\r\n                                    </GridItem>\r\n                                    <GridItem colSpan={{ base: 2, md: 1 }}>\r\n                                        <Text fontSize=\"sm\" fontWeight=\"bold\" color={'blackAlpha.900'}> Sender </Text>\r\n                                        <Text>{data?.senderName ? data?.senderName : ' - '}</Text>\r\n                                    </GridItem>\r\n                                    <GridItem colSpan={{ base: 2, md: 1 }}>\r\n                                        <Text fontSize=\"sm\" fontWeight=\"bold\" color={'blackAlpha.900'}> Recipient </Text>\r\n                                        <Text>{data?.recipient ? data?.recipient : ' - '}</Text>\r\n                                    </GridItem>\r\n                                    <GridItem colSpan={{ base: 2, md: 1 }}>\r\n                                        <Text fontSize=\"sm\" fontWeight=\"bold\" color={'blackAlpha.900'}> Create to </Text>\r\n                                        {data?.createBy ?\r\n                                            <Link to={contactAccess?.view && `/contactView/${data?.createBy}`}>\r\n                                                <Text color={contactAccess?.view ? 'blue.500' : 'blackAlpha.900'} sx={{ '&:hover': { color: contactAccess?.view ? 'blue.500' : 'blackAlpha.900', textDecoration: contactAccess?.view ? 'underline' : 'none' } }}>{data?.createByName ? data?.createByName : ' - '}</Text>\r\n                                            </Link> : <Link to={leadAccess?.view && `/leadView/${data?.createByLead}`}>\r\n                                                <Text color={leadAccess?.view ? 'blue.500' : 'blackAlpha.900'} sx={{ '&:hover': { color: leadAccess?.view ? 'blue.500' : 'blackAlpha.900', textDecoration: leadAccess?.view ? 'underline' : 'none' } }}>{data?.createByName ? data?.createByName : ' - '}</Text>\r\n                                            </Link>\r\n                                        }\r\n                                    </GridItem>\r\n                                    <GridItem colSpan={{ base: 2, md: 1 }}>\r\n                                        <Text fontSize=\"sm\" fontWeight=\"bold\" color={'blackAlpha.900'}> Realeted To </Text>\r\n                                        <Text>{data?.createBy ? \"contact\" : data?.createByLead && \"lead\"}</Text>\r\n                                    </GridItem>\r\n\r\n                                    <GridItem colSpan={{ base: 2, md: 1 }}>\r\n                                        <Text fontSize=\"sm\" fontWeight=\"bold\" color={'blackAlpha.900'}> Start Date </Text>\r\n                                        <Text> {data?.startDate ? moment(data?.startDate).format('lll ') : ' - '} </Text>\r\n                                    </GridItem>\r\n                                   \r\n                                    <GridItem colSpan={{ base: 2, md: 1 }}>\r\n                                        <Text fontSize=\"sm\" fontWeight=\"bold\" color={'blackAlpha.900'}> Timestamp </Text>\r\n                                        <Text> {data?.timestamp ? moment(data?.timestamp).format('DD-MM-YYYY  h:mma ') : ' - '} [{data?.timestamp ? moment(data?.timestamp).toNow() : ' - '}]</Text>\r\n                                    </GridItem>\r\n                                    <GridItem colSpan={{ base: 2, md: 1 }}>\r\n                                        <Text fontSize=\"sm\" fontWeight=\"bold\" color={'blackAlpha.900'}> Call Duration </Text>\r\n                                        <Text>{data?.callDuration ? data?.callDuration : ' - '}</Text>\r\n                                    </GridItem>\r\n                                    <GridItem colSpan={{ base: 2 }}>\r\n                                        <Text fontSize=\"sm\" fontWeight=\"bold\" color={'blackAlpha.900'}> Call Notes </Text>\r\n                                        <pre style={{ whiteSpace: 'pre-wrap' }}>{data?.callNotes ? data?.callNotes : ' - '}</pre>\r\n                                    </GridItem>\r\n                                </Grid>\r\n                            </Card>\r\n                        </GridItem>\r\n\r\n                    </Grid>\r\n                </>}\r\n\r\n        </>\r\n    );\r\n};\r\n\r\nexport default View;\r\n"],"names":["View","param","useParams","navigate","useNavigate","data","setData","useState","isLoding","setIsLoding","JSON","parse","localStorage","getItem","loading","setLoading","useEffect","async","response","getApi","id","fetchData","contactAccess","leadAccess","HasAccess","_jsx","_Fragment","children","Flex","justifyContent","alignItems","width","Spinner","_jsxs","Grid","templateColumns","gap","GridItem","colSpan","base","Heading","size","m","senderName","Card","Box","display","mb","Button","leftIcon","FaFilePdf","variant","onClick","generatePDF","element","document","getElementById","hideBtn","style","html2pdf","from","set","margin","filename","moment","format","image","type","quality","html2canvas","scale","useCORS","allowTaint","jsPDF","unit","orientation","save","then","console","error","disabled","IoIosArrowBack","marginLeft","HSeparator","md","Text","fontSize","fontWeight","color","recipient","createBy","Link","to","view","sx","textDecoration","createByName","createByLead","startDate","timestamp","toNow","callDuration","whiteSpace","callNotes"],"sourceRoot":""}