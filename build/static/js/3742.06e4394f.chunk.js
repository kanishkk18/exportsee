"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[3742],{1089:(e,l,s)=>{s.d(l,{cn:()=>n});var t=s(58387),r=s(89359);function n(){for(var e=arguments.length,l=new Array(e),s=0;s<e;s++)l[s]=arguments[s];return(0,r.QP)((0,t.$)(l))}},22876:(e,l,s)=>{s(19488),s(65043),s(47503),s(14731),s(89849),s(79621),s(97508),s(84066),s(70579)},49201:(e,l,s)=>{s(19488),s(65043),s(47503),s(89849),s(79621),s(70579)},58387:(e,l,s)=>{function t(e){var l,s,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(l=0;l<n;l++)e[l]&&(s=t(e[l]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function r(){for(var e,l,s=0,r="",n=arguments.length;s<n;s++)(e=arguments[s])&&(l=t(e))&&(r&&(r+=" "),r+=l);return r}s.d(l,{$:()=>r,A:()=>n});const n=r},63742:(e,l,s)=>{s.r(l),s.d(l,{default:()=>H});var t=s(14034),r=s(4450),n=s(85376),o=s(22554),i=s(78510),a=s(10216),d=s(63994),c=s(19488),x=s(65043),m=s(34960),u=s(73216),h=s(35475),p=s(79621),f=(s(49201),s(22876),s(31206)),v=s(71778),j=s(71094),g=s(76914),b=s(52853),N=s(85369),y=s(70579);function w(e){const{columnsData:l,tableData:s,title:t,fetchData:n,selectedValues:i,setSelectedValues:d,roleModal:c,setRoleModal:m}=e,u=(0,x.useMemo)((()=>l),[l]),h=(0,x.useMemo)((()=>s),[s]),p=JSON.parse(localStorage.getItem("user")),[w,S]=(0,x.useState)(),I=(0,f.dU)("gray.200","white"),k=(0,f.dU)("secondaryGray.900","white"),C=(0,f.dU)("gray.200","whiteAlpha.100"),A=(0,j.useTable)({columns:u,data:h,initialState:{pageIndex:0}},j.useGlobalFilter,j.useSortBy,j.usePagination),{getTableProps:z,getTableBodyProps:T,headerGroups:E,prepareRow:P,page:D,pageOptions:F,state:{pageIndex:B,pageSize:W}}=A;return F.length<w&&S(F.length),(0,y.jsxs)(a.A,{direction:"column",w:"100%",padding:"0",px:"0px",style:{border:"1px solid gray.200"},overflowX:{sm:"scroll",lg:"hidden"},children:[(0,y.jsxs)(r.Flex,{px:"25px",justify:"space-between",mb:"20px",align:"center",children:[(0,y.jsxs)(r.Text,{color:k,fontSize:"22px",fontWeight:"700",lineHeight:"100%",children:[t,"  (",(0,y.jsx)(g.A,{targetNumber:null===h||void 0===h?void 0:h.length},null===h||void 0===h?void 0:h.length),")"]}),"superAdmin"===(null===p||void 0===p?void 0:p.role)&&(0,y.jsx)(o.Button,{onClick:()=>m(!0),leftIcon:(0,y.jsx)(N.obu,{}),bg:I,size:"sm",colorScheme:"gray",children:"Change Role"})]}),(0,y.jsx)(r.Box,{overflowY:"auto",className:"table-container-property",children:(0,y.jsxs)(v.XI,{...z(),variant:"simple",color:"gray.500",mb:"24px",children:[(0,y.jsx)(v.d8,{children:null===E||void 0===E?void 0:E.map(((e,l)=>(0,x.createElement)(v.Tr,{...e.getHeaderGroupProps(),key:l},e.headers.map(((e,l)=>(0,x.createElement)(v.Th,{...e.getHeaderProps(e.getSortByToggleProps()),pe:"10px",key:l,borderColor:C},(0,y.jsx)(r.Flex,{justify:"space-between",align:"center",fontSize:{sm:"10px",lg:"12px"},color:"gray.400",children:e.render("Header")})))))))}),(0,y.jsxs)(v.NN,{...T(),children:[0===(null===h||void 0===h?void 0:h.length)&&(0,y.jsx)(v.Tr,{children:(0,y.jsx)(v.Td,{colSpan:u.length,children:(0,y.jsx)(r.Text,{textAlign:"center",width:"100%",color:k,fontSize:"sm",fontWeight:"700",children:(0,y.jsx)(b.A,{})})})}),null===D||void 0===D?void 0:D.map(((e,l)=>{var s;return P(e),(0,x.createElement)(v.Tr,{...null===e||void 0===e?void 0:e.getRowProps(),key:l},null===e||void 0===e||null===(s=e.cells)||void 0===s?void 0:s.map(((e,l)=>{let s="";var t;"#"===(null===e||void 0===e?void 0:e.column.Header)?s=(0,y.jsx)(r.Flex,{align:"center",children:(0,y.jsx)(r.Text,{color:k,fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.index)+1})}):"Role Name"===(null===e||void 0===e?void 0:e.column.Header)?s=(0,y.jsx)(r.Text,{me:"10px",color:k,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}):"Description"===(null===e||void 0===e?void 0:e.column.Header)&&(s=(0,y.jsx)(r.Text,{me:"10px",fontSize:"sm",fontWeight:"700",color:k,children:null===e||void 0===e?void 0:e.value}));return(0,x.createElement)(v.Td,{...null===e||void 0===e?void 0:e.getCellProps(),key:l,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"},s)})))}))]})]})})]})}var S=s(57360),I=s(35066);const k=e=>{const{columnsData:l,tableData:s,fetchData:n,isOpen:i,id:a,onClose:d,interestRoles:m}=e,u=(0,f.dU)("secondaryGray.900","white"),h=(0,f.dU)("gray.200","whiteAlpha.100"),g=(0,x.useMemo)((()=>l),[l]),[N,w]=(0,x.useState)([]),[k,C]=(0,x.useState)(!1),[A,z]=(0,x.useState)(),T=(0,x.useMemo)((()=>s),[s]),E=(0,j.useTable)({columns:g,data:T,initialState:{pageIndex:0}},j.useGlobalFilter,j.useSortBy,j.usePagination),{getTableProps:P,getTableBodyProps:D,headerGroups:F,prepareRow:B,page:W,pageOptions:G,state:{pageIndex:R,pageSize:H}}=E;G.length<A&&z(G.length);const U=[...new Set(N)];return(0,x.useEffect)((()=>{null===m||void 0===m||m.map((e=>w((l=>[...l,e]))))}),[m]),(0,y.jsxs)(S.aF,{onClose:d,size:"full",isOpen:i,children:[(0,y.jsx)(S.mH,{}),(0,y.jsxs)(S.$m,{children:[(0,y.jsx)(S.rQ,{children:"Change Role"}),(0,y.jsx)(S.s_,{}),(0,y.jsx)(S.cw,{children:k?(0,y.jsx)(r.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,y.jsx)(c.A,{})}):(0,y.jsx)(r.Box,{overflowY:"auto",className:"table-fix-container",children:(0,y.jsxs)(v.XI,{...P(),variant:"simple",color:"gray.500",mb:"24px",children:[(0,y.jsx)(v.d8,{children:null===F||void 0===F?void 0:F.map(((e,l)=>{var s;return(0,x.createElement)(v.Tr,{...e.getHeaderGroupProps(),key:l},null===(s=e.headers)||void 0===s?void 0:s.map(((e,l)=>(0,x.createElement)(v.Th,{...e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps()),pe:"10px",key:l,borderColor:h},(0,y.jsx)(r.Flex,{justify:"space-between",align:"center",fontSize:{sm:"10px",lg:"12px"},color:"gray.400",children:e.render("Header")})))))}))}),(0,y.jsx)(v.NN,{...D(),children:k?(0,y.jsx)(v.Tr,{children:(0,y.jsx)(v.Td,{colSpan:null===g||void 0===g?void 0:g.length,children:(0,y.jsx)(r.Flex,{justifyContent:"center",alignItems:"center",width:"100%",color:u,fontSize:"sm",fontWeight:"700",children:(0,y.jsx)(c.A,{})})})}):0===(null===T||void 0===T?void 0:T.length)?(0,y.jsx)(v.Tr,{children:(0,y.jsx)(v.Td,{colSpan:g.length,children:(0,y.jsx)(r.Text,{textAlign:"center",width:"100%",color:u,fontSize:"sm",fontWeight:"700",children:(0,y.jsx)(b.A,{})})})}):null===W||void 0===W?void 0:W.map(((e,l)=>{var s;return B(e),(0,x.createElement)(v.Tr,{...null===e||void 0===e?void 0:e.getRowProps(),key:l},null===e||void 0===e||null===(s=e.cells)||void 0===s?void 0:s.map(((e,l)=>{let s="";var t;"#"===(null===e||void 0===e?void 0:e.column.Header)?s=(0,y.jsxs)(r.Flex,{align:"center",children:[(0,y.jsx)(I.Sc,{colorScheme:"brandScheme",value:N,isChecked:N.includes(null===e||void 0===e?void 0:e.value),onChange:l=>((e,l)=>{e.target.checked?w((e=>[...e,l])):w((e=>e.filter((e=>e!==l))))})(l,null===e||void 0===e?void 0:e.value),me:"10px"}),(0,y.jsx)(r.Text,{color:u,fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.index)+1})]}):"Role Name"===(null===e||void 0===e?void 0:e.column.Header)?s=(0,y.jsx)(r.Text,{me:"10px",color:u,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}):"Description"===(null===e||void 0===e?void 0:e.column.Header)&&(s=(0,y.jsx)(r.Text,{me:"10px",color:u,fontSize:"sm",fontWeight:"700",children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:" - "}));return(0,x.createElement)(v.Td,{...null===e||void 0===e?void 0:e.getCellProps(),key:l,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"},s)})))}))})]})})}),(0,y.jsxs)(S.jl,{children:[(0,y.jsxs)(o.Button,{size:"sm",variant:"brand",onClick:async()=>{try{C(!0);let e=await(0,p.yP)(`api/user/change-roles/${a}`,U);e&&200===e.status&&(n(),d())}catch(e){console.log(e)}finally{C(!1)}},disabled:!!k,leftIcon:(0,y.jsx)(t.AddIcon,{}),children:[" ",k?(0,y.jsx)(c.A,{}):"Add"]}),(0,y.jsx)(o.Button,{size:"sm",variant:"outline",colorScheme:"red",sx:{marginLeft:2,textTransform:"capitalize"},onClick:()=>d(),children:"Close"})]})]})]})};var C=s(97508),A=s(84066),z=s(48177),T=s(66854),E=s(27149),P=s(90221),D=s(1089);const F=x.forwardRef(((e,l)=>{let{className:s,type:t,...r}=e;return(0,y.jsx)("input",{type:t,className:(0,D.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:l,...r})}));F.displayName="Input";var B=s(2127);const W=()=>{const[e,l]=(0,x.useState)({usedStorage:0,totalStorage:1}),[s,t]=(0,x.useState)(!1);(0,x.useEffect)((()=>{(async()=>{t(!0);const e=await(0,p.x4)("api/reporting");e&&200===e.status&&l((null===e||void 0===e?void 0:e.data)||{usedStorage:0,totalStorage:1}),t(!1)})()}),[]);const{usedStorage:r=0,totalStorage:n=1}=e,o=n>0?r/n*100:0;return(0,y.jsxs)(a.A,{className:"h-full rounded-[20px] border-none shadow-none justify-end items-end py-8 ",extra:"w-full min-h-full  p-4",children:[(0,y.jsxs)("div",{className:"mb-auto mt-4 flex flex-col items-center justify-center",children:[(0,y.jsx)("div",{className:"mt-4 mb-2 flex items-center justify-center rounded-full p-[26px] text-5xl font-bold text-brand-500 bg-blue-600 text-white",children:(0,y.jsx)(B.HVJ,{})}),(0,y.jsx)("h4",{className:"mb-px mt-4 text-2xl font-bold text-navy-700 dark:text-white",children:"Your storage"}),(0,y.jsx)("p",{className:"px-5 text-center text-base font-normal text-gray-600 md:!px-0 xl:!px-8",children:"Supervise your drive space in the easiest way"})]}),(0,y.jsxs)("div",{className:"flex w-full flex-col mt-6 p-4",children:[(0,y.jsxs)("div",{className:"flex justify-between",children:[(0,y.jsxs)("p",{className:"text-sm font-medium text-gray-600",children:[r.toFixed(1)," GB"]}),(0,y.jsxs)("p",{className:"text-sm font-medium text-gray-600",children:[n.toFixed(1)," GB"]})]}),(0,y.jsx)("div",{className:"mt-4 flex h-3 w-full items-center rounded-full bg-blue-100",children:(0,y.jsx)("span",{className:"h-full rounded-full bg-blue-600 dark:bg-blue-600",style:{width:`${o}%`}})})]}),s&&(0,y.jsx)("div",{className:" text-center text-gray-500",children:"Loading storage details..."})]})};var G=s(47503),R=s(87070);const H=()=>{var e,l,s;const f=[{Header:"#",accessor:"_id",width:10,display:!1},{Header:"Role Name",accessor:"roleName"},{Header:"Description",accessor:"description"}],v=(0,C.wA)(),j=(0,C.d4)((e=>e.user.user)),[g,b]=(0,x.useState)(!1),N=("string"===typeof j&&JSON.parse(j),(0,u.g)()),S=(0,u.Zp)(),I=e=>{O(!0),v((0,A.gV)(e))},[D,B]=(0,x.useState)(),[H,U]=(0,x.useState)([]),[L,O]=(0,x.useState)(!1),[_,J]=(0,x.useState)(!1),[M,$]=(0,x.useState)(!1),[V,Y]=(0,x.useState)(!1),[Q,X]=(0,x.useState)(!1),[Z,q]=(0,x.useState)(""),[K,ee]=(0,x.useState)(!1),le=e=>{q(e),ee(!0)},se=async()=>{Y(!0);let e=await(0,p.x4)("api/user/view/",N.id);B(e.data),Y(!1)};(0,x.useEffect)((()=>{N.id&&se()}),[Q]),(0,x.useEffect)((async()=>{Y(!0);let e=await(0,p.x4)("api/role-access");U(e.data),Y(!1)}),[]);const te=e=>{localStorage.clear(),sessionStorage.clear(),S("/auth"),e?G.oR.error(e):G.oR.success("Log out Successfully"),b(!0)};return(0,x.useEffect)((()=>{const e=localStorage.getItem("token")||sessionStorage.getItem("token");if(e)try{const l=(0,R.A)(e),s=Date.now()/1e3;if(l.exp<s)g||te("Token has expired");else{const e=1e3*(l.exp-s);setTimeout((()=>{g||te("Token has expired")}),e)}}catch(l){console.error("Error decoding token:",l)}}),[g]),(0,y.jsxs)(y.Fragment,{children:[V?(0,y.jsx)(r.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,y.jsx)(c.A,{})}):(0,y.jsxs)("div",{className:"",children:[(0,y.jsx)(T.A,{isOpen:K,onClose:()=>{ee(!1)},data:D,selectedId:null===N||void 0===N?void 0:N.id,userAction:Z,setUserAction:q,fetchData:se}),(0,y.jsx)(z.A,{isOpen:_,onClose:()=>J(!1),type:"User",handleDeleteData:async()=>{try{Y(!0),200===(await(0,p.Gx)("api/user/delete/",N.id)).status&&(J(!1),S(-1),X((e=>!e)))}catch(e){console.log(e)}finally{Y(!1)}},ids:"",selectedValues:N.id}),(0,y.jsxs)(a.A,{display:"none",children:[(0,y.jsxs)(r.Grid,{templateColumns:"repeat(12, 1fr)",gap:4,children:[(0,y.jsx)(r.GridItem,{colSpan:{base:12,md:6},children:(0,y.jsxs)(r.Heading,{size:"md",mb:3,textTransform:"capitalize",children:[null!==D&&void 0!==D&&D.firstName||null!==D&&void 0!==D&&D.lastName?`${null===D||void 0===D?void 0:D.firstName} ${null===D||void 0===D?void 0:D.lastName}`:"User"," Information"]})}),(0,y.jsx)(r.GridItem,{colSpan:{base:12,md:6},className:"hidden",children:(0,y.jsxs)(r.Flex,{justifyContent:{base:"start",sm:"start",md:"end"},children:["superAdmin"===(null===D||void 0===D?void 0:D.role)&&(0,y.jsxs)(n.W1,{children:[(0,y.jsx)(n.IU,{variant:"outline",colorScheme:"blackAlpha",size:"sm",va:!0,mr:2.5,as:o.Button,rightIcon:(0,y.jsx)(t.ChevronDownIcon,{}),children:"Actions"}),(0,y.jsx)(n.Nj,{}),(0,y.jsxs)(n.cO,{minWidth:"13rem",children:[(0,y.jsx)(n.Dr,{alignItems:"start",onClick:()=>le("add"),icon:(0,y.jsx)(t.AddIcon,{}),children:"Add"}),(0,y.jsx)(n.Dr,{alignItems:"start",onClick:()=>le("edit"),icon:(0,y.jsx)(t.EditIcon,{}),color:"green",children:"Edit"}),"superAdmin"!==(null===D||void 0===D?void 0:D.role)&&"superAdmin"===(null===(e=JSON.parse(localStorage.getItem("user")))||void 0===e?void 0:e.role)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.Nj,{}),(0,y.jsx)(n.Dr,{alignItems:"start",onClick:()=>J(!0),icon:(0,y.jsx)(t.DeleteIcon,{}),children:"Delete"})]})]})]}),(0,y.jsx)(h.N_,{to:"/user",children:(0,y.jsx)(o.Button,{leftIcon:(0,y.jsx)(m.m6W,{}),variant:"brand",size:"sm",children:"Back"})})]})})]}),(0,y.jsx)(d.E,{}),(0,y.jsxs)(r.Grid,{templateColumns:"repeat(2, 1fr)",gap:4,mt:"5",display:"none",children:[(0,y.jsxs)(r.GridItem,{colSpan:{base:2,md:1},children:[(0,y.jsx)(r.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" First Name "}),(0,y.jsx)(r.Text,{children:null!==D&&void 0!==D&&D.firstName?null===D||void 0===D?void 0:D.firstName:" - "})]}),(0,y.jsxs)(r.GridItem,{colSpan:{base:2,md:1},children:[(0,y.jsx)(r.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Last Name "}),(0,y.jsx)(r.Text,{children:null!==D&&void 0!==D&&D.lastName?null===D||void 0===D?void 0:D.lastName:" - "})]}),(0,y.jsxs)(r.GridItem,{colSpan:{base:2,md:1},children:[(0,y.jsx)(r.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:"Phone Number"}),(0,y.jsx)(r.Text,{children:null!==D&&void 0!==D&&D.phoneNumber?null===D||void 0===D?void 0:D.phoneNumber:" - "})]}),(0,y.jsxs)(r.GridItem,{colSpan:{base:2,md:1},children:[(0,y.jsx)(r.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" User Email "}),(0,y.jsx)(r.Text,{children:null!==D&&void 0!==D&&D.username?null===D||void 0===D?void 0:D.username:" - "})]})]})]}),"superAdmin"!==(null===D||void 0===D?void 0:D.role)&&(0,y.jsx)(a.A,{mt:3,children:(0,y.jsx)(w,{fetchData:se,columnsData:null!==f&&void 0!==f?f:[],roleModal:M,setRoleModal:$,tableData:(null===D||void 0===D?void 0:D.roles)||[],title:"Role"})}),(0,y.jsx)(k,{fetchData:se,isOpen:M,onClose:$,columnsData:null!==f&&void 0!==f?f:[],id:N.id,tableData:null!==H&&void 0!==H?H:[],interestRoles:null===D||void 0===D?void 0:D.roles.map((e=>e._id))}),(0,y.jsx)(a.A,{mt:3,display:"none",children:(0,y.jsx)(r.Grid,{templateColumns:"repeat(6, 1fr)",gap:1,children:(0,y.jsx)(r.GridItem,{colStart:6,children:(0,y.jsxs)(r.Flex,{justifyContent:"right",children:[(0,y.jsx)(o.Button,{onClick:()=>{I(j),le("edit")},leftIcon:(0,y.jsx)(t.EditIcon,{}),mr:2.5,variant:"outline",size:"sm",colorScheme:"green",children:"Edit"}),"superAdmin"!==(null===D||void 0===D?void 0:D.role)&&"superAdmin"===(null===(l=JSON.parse(localStorage.getItem("user")))||void 0===l?void 0:l.role)&&(0,y.jsx)(o.Button,{size:"sm",style:{background:"red.800"},onClick:()=>J(!0),leftIcon:(0,y.jsx)(t.DeleteIcon,{}),colorScheme:"red",children:"Delete"})]})})})})]}),(0,y.jsxs)("div",{className:"flex bg-muted/100 dark:bg-transparent p-10 w-full flex-col gap-5",children:[(0,y.jsxs)("div",{className:"flex justify-end w-full ",children:["superAdmin"===(null===D||void 0===D?void 0:D.role)&&(0,y.jsxs)(n.W1,{children:[(0,y.jsx)(n.IU,{variant:"outline",colorScheme:"blackAlpha",size:"sm",va:!0,mr:2.5,as:o.Button,rightIcon:(0,y.jsx)(t.ChevronDownIcon,{}),children:"Actions"}),(0,y.jsx)(n.Nj,{}),(0,y.jsxs)(n.cO,{minWidth:"13rem",children:[(0,y.jsx)(n.Dr,{alignItems:"start",onClick:()=>le("add"),icon:(0,y.jsx)(t.AddIcon,{}),children:"Add"}),(0,y.jsx)(n.Dr,{alignItems:"start",onClick:()=>le("edit"),icon:(0,y.jsx)(t.EditIcon,{}),color:"green",children:"Edit"}),"superAdmin"!==(null===D||void 0===D?void 0:D.role)&&"superAdmin"===(null===(s=JSON.parse(localStorage.getItem("user")))||void 0===s?void 0:s.role)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.Nj,{}),(0,y.jsx)(n.Dr,{alignItems:"start",onClick:()=>J(!0),icon:(0,y.jsx)(t.DeleteIcon,{}),children:"Delete"})]})]})]}),(0,y.jsx)(h.N_,{to:"/user",children:(0,y.jsx)(o.Button,{leftIcon:(0,y.jsx)(m.m6W,{}),variant:"brand",size:"sm",children:"Back"})})]}),(0,y.jsxs)("div",{className:"w-full flex h-fit flex-col gap-5 lg:grid lg:grid-cols-12",children:[(0,y.jsx)("div",{className:"col-span-4 lg:!mb-0",children:(0,y.jsxs)(a.A,{extra:"items-center w-full h-full p-[16px] bg-cover",children:[(0,y.jsx)("div",{className:"relative mt-0 flex h-32 w-full justify-center rounded-xl bg-cover",style:{backgroundImage:"url(https://horizon-ui.com/chakra-pro/static/media/NftBanner3.b1cb888b1b6c5b0f4b8e.png)"},children:(0,y.jsx)("div",{className:"absolute -bottom-12 flex h-[87px] w-[87px] items-center justify-center rounded-full border-[4px] border-white bg-pink-400 dark:!border-navy-700",children:(0,y.jsx)("img",{src:"https://i.pinimg.com/736x/b2/c3/13/b2c313cc44ec3a772b47f2dcec621ffd.jpg",alt:"profile",className:"h-full w-full rounded-full object-cover cursor-pointer"})})}),(0,y.jsx)("div",{className:" flex w-full justify-end pt-3 ",children:(0,y.jsx)("span",{className:"text-3xl text-red-600 cursor-pointer",onClick:te,children:(0,y.jsx)(P.HSs,{})})}),(0,y.jsxs)("div",{className:"mt-8 flex flex-col items-center",children:[(0,y.jsx)("h4",{className:"text-2xl font-bold pb-5 text-navy-700 dark:text-white",children:null!==D&&void 0!==D&&D.firstName||null!==D&&void 0!==D&&D.lastName?`${null===D||void 0===D?void 0:D.firstName} ${null===D||void 0===D?void 0:D.lastName}`:"User"}),(0,y.jsxs)("p",{className:"text-small font-semibold ",children:["Id : ",null===D||void 0===D?void 0:D._id]})]}),(0,y.jsxs)("div",{className:"mt-6 mb-3 flex justify-between ",children:[(0,y.jsxs)("div",{className:"flex flex-col space-y-2 items-center justify-center",children:[(0,y.jsx)("p",{className:"text-md font-bold text-navy-700 dark:text-white",children:null===D||void 0===D?void 0:D.phoneNumber}),(0,y.jsx)("p",{className:"text-sm font-normal text-gray-600",children:"Number"})]}),(0,y.jsxs)("div",{className:"flex flex-col space-y-2 items-center justify-center",children:[(0,y.jsx)("p",{className:"text-md font-bold text-navy-700 dark:text-white",children:null!==D&&void 0!==D&&D.username?null===D||void 0===D?void 0:D.username:" - "}),(0,y.jsx)("p",{className:"text-sm font-normal text-gray-600",children:"Email"})]}),(0,y.jsxs)("div",{className:"flex flex-col space-y-2 items-center justify-center",children:[(0,y.jsx)("p",{className:"text-md font-bold text-navy-700 dark:text-white",children:null===D||void 0===D?void 0:D.role}),(0,y.jsx)("p",{className:"text-sm font-normal text-gray-600",children:"Role"})]})]})]})}),(0,y.jsx)("div",{className:"col-span-3 lg:!mb-0",children:(0,y.jsx)(W,{})}),(0,y.jsx)("div",{className:"z-0 col-span-5 lg:!zzmb-0",children:(0,y.jsxs)(a.A,{className:"grid h-full w-full grid-cols-1 gap-3 rounded-[20px] bg-white bg-clip-border p-3 font-dm shadow-3xl shadow-shadow-500  dark:shadow-none 2xl:grid-cols-11",children:[(0,y.jsx)(h.N_,{to:"/documents",className:"col-span-5 h-full w-full rounded-xl bg-muted/80 dark:!bg-navy-700 2xl:col-span-6",children:(0,y.jsxs)("button",{className:"flex h-full w-full flex-col items-center justify-center rounded-xl border-[2px] border-dashed border-gray-200 py-3 dark:!border-navy-700 lg:pb-0",children:[(0,y.jsx)(E.t76,{className:"text-[80px] text-blue-600 "}),(0,y.jsx)("h4",{className:"text-xl font-bold text-blue-600 dark:text-white",children:"Upload Files"}),(0,y.jsx)("p",{className:"mt-2 text-sm font-medium text-blue-600",children:"PNG, JPG and GIF files are allowed"})]})}),(0,y.jsxs)("div",{className:"col-span-5 flex h-full w-full flex-col justify-center overflow-hidden rounded-xl bg-white pl-3 pb-4 dark:!bg-navy-800",children:[(0,y.jsx)("h5",{className:"text-left text-xl font-bold leading-9 text-navy-700 dark:text-white",children:"Upload Files                "}),(0,y.jsx)("p",{className:"leading-1 mt-2 text-base font-normal text-gray-600",children:"Accepted File Types (Images, PDFs, Word docs, Powerpoint, Excel, ZIP, and video files - 15MB max)"}),(0,y.jsx)("button",{href:" ",className:"linear mt-4 flex items-center justify-center rounded-xl bg-blue-600 px-2 py-2 text-base font-medium text-white transition duration-200 hover:bg-brand-600 active:bg-brand-700 dark:bg-brand-400 dark:text-white dark:hover:bg-brand-300 dark:active:bg-brand-200",children:"Publish now"})]})]})})]}),(0,y.jsx)("div",{className:"grid h-full grid-cols-1 gap-5 lg:!grid-cols-12",children:(0,y.jsx)("div",{className:"col-span-5 lg:col-span-6 lg:mb-0 3xl:col-span-5",children:(0,y.jsxs)(a.A,{extra:"w-full h-full p-3",children:[(0,y.jsx)("div",{className:"mt-2 mb-8 w-full",children:(0,y.jsx)("h4",{className:"px-2 text-xl font-bold text-navy-700 dark:text-white",children:"Update User Info"})}),(0,y.jsxs)("div",{className:"p-6",children:[(0,y.jsxs)("form",{action:"",className:"space-y-3 flex w-full flex-col  ",children:[(0,y.jsx)(i.FormLabel,{children:"Name"}),(0,y.jsx)(F,{type:"text",placeholder:"Username",id:"username",defaultValue:null===D||void 0===D?void 0:D.firstName,className:"border p-3 rounded-lg"}),(0,y.jsx)(i.FormLabel,{children:"Phone"}),(0,y.jsx)(F,{type:"phone",placeholder:"Phone",id:"phone",defaultValue:null===D||void 0===D?void 0:D.phoneNumber,className:"border p-3 rounded-lg"}),(0,y.jsx)(i.FormLabel,{children:"Email"}),(0,y.jsx)(F,{type:"email",placeholder:"Email",id:"email",defaultValue:null===D||void 0===D?void 0:D.username,className:"border p-3 rounded-lg"}),(0,y.jsx)(o.Button,{onClick:()=>{I(j),le("edit")},leftIcon:(0,y.jsx)(t.EditIcon,{}),mr:2.5,mt:4,variant:"outline",size:"sm",colorScheme:"green",children:"Edit"})]}),(0,y.jsxs)("div",{className:"flex py-4 justify-between items-center",children:[(0,y.jsxs)("button",{className:"bg-red-500 text-white flex justify-center items-center gap-2 p-2 text-sm rounded-lg",onClick:()=>J(!0),children:[(0,y.jsx)(t.DeleteIcon,{})," Delete Account"]}),(0,y.jsxs)("button",{className:"bg-blue-600 p-1 flex rounded-lg justify-center items-center gap-2 cursor-pointer text-xl text-white",variant:"outline",onClick:te,children:[(0,y.jsx)(P.HSs,{})," Logout"]})]})]})]})})})]})]})}},66854:(e,l,s)=>{s.d(l,{A:()=>b});var t=s(65043),r=s(57360),n=s(22554),o=s(4450),i=s(78510),a=s(67682),d=s(84626),c=s(3458),x=s(14034),m=s(27149),u=s(22285),h=s(63516),p=s(47503),f=s(89849),v=s(79621),j=s(19488),g=s(70579);const b=e=>{const{onClose:l,isOpen:s,setAction:b,data:N,userAction:y,userData:w,selectedId:S,fetchData:I,setUserAction:k}=e,[C,A]=(0,t.useState)(!1),[z,T]=t.useState(!1),E={firstName:"add"===y?"":null===N||void 0===N?void 0:N.firstName,lastName:"add"===y?"":null===N||void 0===N?void 0:N.lastName,username:"add"===y?"":null===N||void 0===N?void 0:N.username,phoneNumber:"add"===y?"":null===N||void 0===N?void 0:N.phoneNumber,password:"add"===y?"":null===N||void 0===N?void 0:N.password,passwordExpirationPeriod:"add"===y?"3days":null===N||void 0===N?void 0:N.passwordExpirationPeriod},P=JSON.parse(window.localStorage.getItem("user")),D=(0,h.Wx)({initialValues:E,validationSchema:f.vJ,enableReinitialize:!0,onSubmit:e=>{L()}}),{errors:F,touched:B,values:W,handleBlur:G,handleChange:R,handleSubmit:H,resetForm:U}=D,L=async()=>{if("add"===y)try{A(!0);let s=await(0,v.d_)("api/user/register",W);var e;if(s&&200===s.status)l(),U(),b((e=>!e)),k("");else p.oR.error(null===(e=s.response.data)||void 0===e?void 0:e.message)}catch(t){console.log(t)}finally{A(!1)}else if("edit"===y)try{A(!0);let e=await(0,v.yP)(`api/user/edit/${S}`,W);if(e&&200===e.status){I();let e=w;(null===P||void 0===P?void 0:P._id)===S&&(e&&"object"===typeof e&&(e={...e,firstName:null===W||void 0===W?void 0:W.firstName,lastName:null===W||void 0===W?void 0:W.lastName,passwordExpirationPeriod:null===W||void 0===W?void 0:W.passwordExpirationPeriod}),localStorage.setItem("user",JSON.stringify(e))),l(),k(""),b((e=>!e))}else{var s;p.oR.error(null===(s=e.response.data)||void 0===s?void 0:s.message)}}catch(t){console.log(t)}finally{A(!1)}};return(0,g.jsxs)(r.aF,{isOpen:s,isCentered:!0,children:[(0,g.jsx)(r.mH,{}),(0,g.jsxs)(r.$m,{children:[(0,g.jsxs)(r.rQ,{justifyContent:"space-between",display:"flex",children:["add"===y?"Add":"Edit"," User",(0,g.jsx)(n.IconButton,{onClick:l,icon:(0,g.jsx)(x.CloseIcon,{})})]}),(0,g.jsx)(r.cw,{children:(0,g.jsxs)(o.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,g.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,g.jsxs)(i.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["First Name",(0,g.jsx)(o.Text,{color:"red",children:"*"})]}),(0,g.jsx)(a.Input,{fontSize:"sm",onChange:R,onBlur:G,value:W.firstName,name:"firstName",placeholder:"First Name",fontWeight:"500",borderColor:F.firstName&&B.firstName?"red.300":null}),(0,g.jsx)(o.Text,{mb:"10px",color:"red",children:F.firstName&&B.firstName&&F.firstName})]}),(0,g.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,g.jsx)(i.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Last Name"}),(0,g.jsx)(a.Input,{fontSize:"sm",onChange:R,onBlur:G,value:W.lastName,name:"lastName",placeholder:"Last Name",fontWeight:"500",borderColor:F.lastName&&B.lastName?"red.300":null}),(0,g.jsx)(o.Text,{mb:"10px",color:"red",children:F.lastName&&B.lastName&&F.lastName})]}),(0,g.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,g.jsxs)(i.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Email",(0,g.jsx)(o.Text,{color:"red",children:"*"})]}),(0,g.jsx)(a.Input,{fontSize:"sm",type:"email",onChange:R,onBlur:G,value:W.username,name:"username",placeholder:"Email Address",fontWeight:"500",borderColor:F.username&&B.username?"red.300":null}),(0,g.jsx)(o.Text,{mb:"10px",color:"red",children:F.username&&B.username&&F.username})]}),(0,g.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,g.jsxs)(i.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Phone Number",(0,g.jsx)(o.Text,{color:"red",children:"*"})]}),(0,g.jsxs)(a.InputGroup,{children:[(0,g.jsx)(a.InputLeftElement,{pointerEvents:"none",children:(0,g.jsx)(x.PhoneIcon,{color:"gray.300",borderRadius:"16px"})}),(0,g.jsx)(a.Input,{type:"tel",fontSize:"sm",onChange:R,onBlur:G,value:W.phoneNumber,name:"phoneNumber",fontWeight:"500",borderColor:F.phoneNumber&&B.phoneNumber?"red.300":null,placeholder:"Phone number",borderRadius:"16px"})]}),(0,g.jsx)(o.Text,{mb:"10px",color:"red",children:F.phoneNumber&&B.phoneNumber&&F.phoneNumber})]}),(0,g.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,g.jsxs)(i.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Password Expiration",(0,g.jsx)(o.Text,{color:"red",children:"*"})]}),(0,g.jsxs)(d.l6,{name:"passwordExpirationPeriod",value:W.passwordExpirationPeriod,onChange:R,onBlur:G,fontSize:"sm",fontWeight:"500",children:[(0,g.jsx)("option",{value:"3days",children:"3 Days"}),(0,g.jsx)("option",{value:"1month",children:"1 Month"}),(0,g.jsx)("option",{value:"6months",children:"6 Months"}),(0,g.jsx)("option",{value:"1year",children:"1 Year"}),(0,g.jsx)("option",{value:"forever",children:"Forever"})]})]}),"edit"!==y&&(0,g.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,g.jsx)(i.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Password"}),(0,g.jsxs)(a.InputGroup,{size:"md",children:[(0,g.jsx)(a.Input,{isRequired:!0,fontSize:"sm",placeholder:"Enter Your Password",name:"password",size:"lg",variant:"auth",type:z?"text":"password",value:W.password,onChange:R,onBlur:G,borderColor:F.password&&B.password?"red.300":null,className:F.password&&B.password?"isInvalid":null}),(0,g.jsx)(a.InputRightElement,{display:"flex",alignItems:"center",mt:"4px",children:(0,g.jsx)(c.In,{color:"gray.400",_hover:{cursor:"pointer"},as:z?u.B6J:m.kIi,onClick:()=>T(!z)})})]}),(0,g.jsx)(o.Text,{mb:"10px",color:"red",children:F.password&&B.password&&F.password})]})]})}),(0,g.jsxs)(r.jl,{children:[(0,g.jsx)(n.Button,{variant:"brand",size:"sm",disabled:C,onClick:H,children:C?(0,g.jsx)(j.A,{}):"Save"}),(0,g.jsx)(n.Button,{sx:{marginLeft:2,textTransform:"capitalize"},variant:"outline",colorScheme:"red",size:"sm",onClick:()=>{D.resetForm(),l()},children:"Close"})]})]})]})}}}]);
//# sourceMappingURL=3742.06e4394f.chunk.js.map