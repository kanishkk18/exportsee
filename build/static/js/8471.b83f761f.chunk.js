"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[8471],{38471:(e,t,l)=>{l.r(t),l.d(t,{default:()=>P});var a=l(65043),n=l(73216),i=l(35475),o=l(14034),s=l(19754),r=l(4450),d=l(85376),c=l(22554),u=l(79621),m=l(95574),v=l(88031),x=l(17368),h=l(63516),p=l(80899),g=l(57360),j=l(78510),S=l(67682),f=l(84626),y=l(19488),b=l(43017),C=l(97508),B=l(70579);const T=e=>{const{state:t,allData:l,advanceSearch:a,setAdvanceSearch:n,isLoding:i,setSearchedData:o,setDisplaySearchData:s,setSearchClear:d,setSearchbox:u}=e,m=(0,C.wA)(),v=p.Ik({senderName:p.Yj(),realetedTo:p.Yj(),createByName:p.Yj()}),x=(0,h.Wx)({initialValues:{senderName:"",realetedTo:"",createByName:""},validationSchema:v,onSubmit:(e,t)=>{let{resetForm:a}=t;m((0,b.gB)(e)),m((0,b.DW)({values:e,allData:l,type:"Email"}));const i=[{name:["senderName"],value:e.senderName},{name:["realetedTo"],value:e.realetedTo},{name:["createByName"],value:e.createByName}];m((0,b.Tr)(i.filter((e=>e.value)))),s(!0),n(!1),a(),u("")}}),{errors:T,touched:w,values:z,handleBlur:N,handleChange:L,handleSubmit:D,setFieldValue:F,resetForm:A,dirty:W}=x;return(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(g.aF,{onClose:()=>{n(!1),A()},isOpen:a,isCentered:!0,children:[(0,B.jsx)(g.mH,{}),(0,B.jsxs)(g.$m,{children:[(0,B.jsx)(g.rQ,{children:"Advance Search"}),(0,B.jsx)(g.s_,{onClick:()=>{n(!1),A()}}),(0,B.jsx)(g.cw,{children:(0,B.jsxs)(r.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:2,children:[(0,B.jsxs)(r.GridItem,{colSpan:{base:12},children:[(0,B.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Sender Name"}),(0,B.jsx)(S.Input,{fontSize:"sm",onChange:L,onBlur:N,value:null===z||void 0===z?void 0:z.senderName,name:"senderName",placeholder:"Enter Sender Name",fontWeight:"500"}),(0,B.jsxs)(r.Text,{mb:"10px",color:"red",children:[" ",T.senderName&&w.senderName&&T.senderName]})]}),(0,B.jsxs)(r.GridItem,{colSpan:{base:12},children:[(0,B.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Realeted To"}),(0,B.jsxs)(f.l6,{value:null===z||void 0===z?void 0:z.realetedTo,fontSize:"sm",name:"realetedTo",onChange:L,fontWeight:"500",placeholder:"Select Realeted To",children:[(0,B.jsx)("option",{value:"contact",children:"Contact"}),(0,B.jsx)("option",{value:"lead",children:"Lead"})]}),(0,B.jsxs)(r.Text,{mb:"10px",color:"red",children:[" ",T.realetedTo&&w.realetedTo&&T.realetedTo]})]}),(0,B.jsxs)(r.GridItem,{colSpan:{base:12},children:[(0,B.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"CreateBy Name"}),(0,B.jsx)(S.Input,{fontSize:"sm",onChange:L,onBlur:N,value:null===z||void 0===z?void 0:z.createByName,name:"createByName",placeholder:"Enter CreateBy Name",fontWeight:"500"}),(0,B.jsxs)(r.Text,{mb:"10px",color:"red",children:[" ",T.createByName&&w.createByName&&T.createByName]})]})]})}),(0,B.jsxs)(g.jl,{children:[(0,B.jsx)(c.Button,{size:"sm",variant:"brand",mr:2,onClick:D,disabled:!(!i&&W),children:i?(0,B.jsx)(y.A,{}):"Search"}),(0,B.jsx)(c.Button,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>A(),children:"Clear"})]})]})]})})};var w=l(86178),z=l.n(w),N=l(27149),L=l(34960),D=l(95104),F=l(53186),A=l(49565),W=l(91125),I=l(3388),k=l(89849),H=l(60446),O=l.n(H),V=l(42101),_=l(47503);const G=e=>{const{onClose:t,isOpen:l}=e,[n,i]=(0,a.useState)(!1),[o,s]=(0,a.useState)([]),[d,m]=(0,a.useState)([]),[v,x]=(0,a.useState)(!1),[p,b]=(0,a.useState)(!1),[T,w]=(0,a.useState)([]),z=(0,C.wA)(),N=JSON.parse(localStorage.getItem("user")),L=(new Date).toISOString().split(".")[0],H={sender:null===N||void 0===N?void 0:N._id,recipient:"",subject:"",callNotes:"",createByContact:"",createByLead:"",startDate:"",type:"message",html:"",category:"contact",createBy:null===N||void 0===N?void 0:N._id},G=(0,h.Wx)({initialValues:H,validationSchema:k.y4,onSubmit:(e,t)=>{let{resetForm:l}=t;Q(),l()}}),{errors:E,touched:P,values:M,handleBlur:$,handleChange:R,handleSubmit:Y,setFieldValue:J}=G,Q=async()=>{try{i(!0),200===(await(0,u.d_)("api/email/add",M)).status&&(e.onClose(),e.setAction((e=>!e)))}catch(t){console.log(t)}finally{i(!1)}};(0,a.useEffect)((async()=>{M.start=null===e||void 0===e?void 0:e.date;try{let e;var t;if("Contact"===M.category&&d.length<=0)e=await(0,u.x4)("superAdmin"===N.role?"api/contact/":`api/contact/?createBy=${N._id}`),m(null===(t=e)||void 0===t?void 0:t.data);else if("Lead"===M.category&&o<=0){var l;e=await(0,u.x4)("superAdmin"===N.role?"api/lead/":`api/lead/?createBy=${N._id}`),s(null===(l=e)||void 0===l?void 0:l.data)}}catch(a){console.log(a)}}),[e,M.category]);return(0,a.useEffect)((()=>{"template"===(null===M||void 0===M?void 0:M.type)&&(async()=>{i(!0);const e=await z((0,V.t)());var t;200===e.payload.status?w(null===e||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.data):_.oR.error("Failed to fetch data","error"),i(!1)})()}),[null===M||void 0===M?void 0:M.type]),(0,a.useEffect)((()=>{(async()=>{if(M.createByContact){let e=d.find((e=>e._id===M.createByContact));e&&J("recipient",e.email)}else if(M.createByLead){let e=o.find((e=>e._id===M.createByLead));e&&J("recipient",e.leadEmail)}else J("recipient","")})()}),[M.createByContact,M.createByLead]),(0,B.jsxs)(g.aF,{onClose:t,isOpen:l,isCentered:!0,children:[(0,B.jsx)(g.mH,{}),(0,B.jsxs)(g.$m,{height:"580px",children:[(0,B.jsx)(g.rQ,{children:"Add Email "}),(0,B.jsx)(g.s_,{}),(0,B.jsxs)(g.cw,{overflowY:"auto",height:"400px",children:[(0,B.jsx)(A.A,{isOpen:v,data:d,onClose:x,fieldName:"createByContact",setFieldValue:J}),(0,B.jsx)(W.A,{isOpen:p,data:o,onClose:b,fieldName:"createByLead",setFieldValue:J}),(0,B.jsxs)(r.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,B.jsxs)(r.GridItem,{colSpan:{base:12,md:6},children:[(0,B.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Related"}),(0,B.jsx)(D.z6,{onChange:e=>{J("category",e),J("createByContact",""),J("createByLead","")},value:M.category,children:(0,B.jsxs)(r.Stack,{direction:"row",children:[(0,B.jsx)(D.sx,{value:"Contact",children:"Contact"}),(0,B.jsx)(D.sx,{value:"Lead",children:"Lead"})]})})]}),(0,B.jsx)(r.GridItem,{colSpan:{base:12},children:"Contact"===M.category?(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(r.GridItem,{colSpan:{base:12,md:6},children:[(0,B.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Recipient  (Contact)"}),(0,B.jsxs)(r.Flex,{justifyContent:"space-between",children:[(0,B.jsx)(f.l6,{value:M.createByContact,name:"createByContact",onChange:R,mb:E.createByContact&&P.createByContact?void 0:"10px",fontWeight:"500",placeholder:"Assign To",borderColor:E.createByContact&&P.createByContact?"red.300":null,children:null===d||void 0===d?void 0:d.map((e=>(0,B.jsx)("option",{value:e._id,children:"Contact"===M.category?`${e.firstName} ${e.lastName}`:e.leadName},e._id)))}),(0,B.jsx)(c.IconButton,{onClick:()=>x(!0),ml:2,fontSize:"25px",icon:(0,B.jsx)(I.G2h,{})})]})]})}):"Lead"===M.category?(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(r.GridItem,{colSpan:{base:12,md:6},children:[(0,B.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Recipient (Lead)"}),(0,B.jsxs)(r.Flex,{justifyContent:"space-between",children:[(0,B.jsx)(f.l6,{value:M.createByLead,name:"createByLead",onChange:R,mb:E.createByLead&&P.createByLead?void 0:"10px",fontWeight:"500",placeholder:"Assign To",borderColor:E.createByLead&&P.createByLead?"red.300":null,children:null===o||void 0===o?void 0:o.map((e=>(0,B.jsx)("option",{value:e._id,children:"Contact"===M.category?`${e.firstName} ${e.lastName}`:e.leadName},e._id)))}),(0,B.jsx)(c.IconButton,{onClick:()=>b(!0),ml:2,fontSize:"25px",icon:(0,B.jsx)(I.G2h,{})})]})]})}):""}),(0,B.jsxs)(r.GridItem,{colSpan:{base:12},children:[(0,B.jsxs)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Recipient",(0,B.jsx)(r.Text,{color:"red",children:"*"})]}),(0,B.jsx)(S.Input,{fontSize:"sm",disabled:!0,value:M.recipient,name:"recipient",placeholder:"Recipient",fontWeight:"500",borderColor:E.recipient&&P.recipient?"red.300":null}),(0,B.jsxs)(r.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",E.recipient&&P.recipient&&E.recipient]})]}),(0,B.jsxs)(r.GridItem,{colSpan:{base:12},children:[(0,B.jsxs)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Start Date",(0,B.jsx)(r.Text,{color:"red",children:"*"})]}),(0,B.jsx)(S.Input,{type:"datetime-local",fontSize:"sm",onChange:R,onBlur:$,min:O()(L).format("YYYY-MM-DD HH:mm"),value:M.startDate,name:"startDate",fontWeight:"500",borderColor:null!==E&&void 0!==E&&E.startDate&&null!==P&&void 0!==P&&P.startDate?"red.300":null}),(0,B.jsxs)(r.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",E.startDate&&P.startDate&&E.startDate]})]}),(0,B.jsxs)(r.GridItem,{colSpan:{base:12},children:[(0,B.jsxs)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Subject",(0,B.jsx)(r.Text,{color:"red",children:"*"})]}),(0,B.jsx)(S.Input,{fontSize:"sm",onChange:R,onBlur:$,value:M.subject,name:"subject",placeholder:"subject",fontWeight:"500",borderColor:E.subject&&P.subject?"red.300":null}),(0,B.jsxs)(r.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",E.subject&&P.subject&&E.subject]})]}),(0,B.jsxs)(r.GridItem,{colSpan:{base:12},children:[(0,B.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Message"}),(0,B.jsx)(D.z6,{onChange:e=>{J("type",e)},value:M.type,children:(0,B.jsxs)(r.Stack,{direction:"row",children:[(0,B.jsx)(D.sx,{value:"message",children:"Message"}),(0,B.jsx)(D.sx,{value:"template",children:"Template"})]})})]}),(0,B.jsx)(r.GridItem,{colSpan:{base:12},children:"message"===(null===M||void 0===M?void 0:M.type)?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(F.T,{resize:"none",fontSize:"sm",placeholder:"Enter Message",onChange:R,onBlur:$,value:M.message,name:"message",fontWeight:"500",borderColor:E.message&&P.message?"red.300":null}),(0,B.jsxs)(r.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",E.message&&P.message&&E.message]})]}):(0,B.jsx)(f.l6,{name:"html",onChange:R,onBlur:$,value:M.html,fontWeight:"500",placeholder:"Select Template",children:null===T||void 0===T?void 0:T.map((e=>(0,B.jsx)("option",{value:null===e||void 0===e?void 0:e.html,children:null===e||void 0===e?void 0:e.templateName},e._id)))})})]})]}),(0,B.jsxs)(g.jl,{children:[(0,B.jsx)(c.Button,{variant:"brand",size:"sm",disabled:!!n,onClick:Y,children:n?(0,B.jsx)(y.A,{}):"Save"}),(0,B.jsx)(c.Button,{sx:{marginLeft:2,textTransform:"capitalize"},variant:"outline",colorScheme:"red",onClick:()=>{G.resetForm(),t()},size:"sm",children:"Close"})]})]})]})};var E=l(27560);const P=e=>{const[t,l]=(0,a.useState)(!1),{isOpen:u,onOpen:h,onClose:p}=(0,s.j1)(),[g,j]=(0,a.useState)(!1),[S,f]=(0,a.useState)([]),[y,b]=(0,a.useState)(!1),[w,D]=(0,a.useState)([]),[F,A]=(0,a.useState)(""),W=(JSON.parse(localStorage.getItem("user")),(0,n.Zp)()),I=(0,C.wA)(),[k,H]=(0,a.useState)(!1),[O,V]=(0,a.useState)([]),[P,M]=(0,a.useState)(!1),[$,R]=(0,a.useState)([]),[Y,J,Q]=(0,m.h)(["Emails","Leads","Contacts"]),U={Header:"Action",accessor:"action",isSortable:!1,center:!0,cell:e=>{var t;let{row:l}=e;return(0,B.jsx)(r.Text,{fontSize:"md",fontWeight:"900",textAlign:"center",children:(0,B.jsxs)(d.W1,{isLazy:!0,children:[(0,B.jsx)(d.IU,{children:(0,B.jsx)(x.txp,{})}),(0,B.jsxs)(d.cO,{minW:"fit-content",transform:"translate(1520px, 173px);",children:[(null===Y||void 0===Y?void 0:Y.view)&&(0,B.jsx)(d.Dr,{py:2.5,color:"green",onClick:()=>W(`/Email/${null===l||void 0===l?void 0:l.values._id}`),icon:(0,B.jsx)(o.ViewIcon,{mb:"2px",fontSize:15}),children:"View"}),null!==l&&void 0!==l&&null!==(t=l.original)&&void 0!==t&&t.createByContact&&null!==Q&&void 0!==Q&&Q.view?(0,B.jsxs)(d.Dr,{width:"165px",py:2.5,color:"black",onClick:()=>{var e;return W((null===l||void 0===l||null===(e=l.original)||void 0===e?void 0:e.createByContact)&&`/contactView/${null===l||void 0===l?void 0:l.original.createByContact}`)},icon:(null===l||void 0===l?void 0:l.original.createByContact)&&(0,B.jsx)(L.oau,{fontSize:15}),children:["  ",(null===l||void 0===l?void 0:l.original.createByContact)&&(null===Q||void 0===Q?void 0:Q.view)&&"contact"]}):"",null!==l&&void 0!==l&&l.original.createByLead&&null!==J&&void 0!==J&&J.view?(0,B.jsx)(d.Dr,{width:"165px",py:2.5,color:"black",onClick:()=>W(`/leadView/${null===l||void 0===l?void 0:l.original.createByLead}`),icon:(null===l||void 0===l?void 0:l.original.createByLead)&&(null===J||void 0===J?void 0:J.view)&&(0,B.jsx)(N.ju$,{style:{marginBottom:"4px"},fontSize:15}),children:(null===l||void 0===l?void 0:l.original.createByLead)&&(null===J||void 0===J?void 0:J.view)&&"lead"}):""]})]})})}},X=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"recipient",accessor:"createByName",cell:e=>{var t;return(0,B.jsx)(i.N_,{to:`/Email/${null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.values._id}`,children:(0,B.jsx)(r.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e?void 0:e.value)||"-"})})}},{Header:"sender Name",accessor:"senderName"},{Header:"Realeted To",accessor:"realeted",cell:e=>{let{row:t}=e;return(0,B.jsxs)(r.Text,{children:[null!==t&&void 0!==t&&t.original.createByContact&&null!==Q&&void 0!==Q&&Q.view?(0,B.jsx)(i.N_,{to:`/contactView/${null===t||void 0===t?void 0:t.original.createByContact}`,children:(0,B.jsx)(r.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===t||void 0===t?void 0:t.original.createByContact)&&"Contact"})}):(0,B.jsx)(r.Text,{me:"10px",fontSize:"sm",fontWeight:"700",children:(null===t||void 0===t?void 0:t.original.createByContact)&&"Contact"}),null!==J&&void 0!==J&&J.view&&null!==t&&void 0!==t&&t.original.createByLead?(0,B.jsx)(i.N_,{to:`/leadView/${null===t||void 0===t?void 0:t.original.createByLead}`,children:(0,B.jsx)(r.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===t||void 0===t?void 0:t.original.createByLead)&&"Lead"})}):(0,B.jsx)(r.Text,{me:"10px",fontSize:"sm",fontWeight:"700",children:(null===t||void 0===t?void 0:t.original.createByLead)&&"Lead"})]})}},{Header:"timestamp",accessor:"timestamp"},{Header:"Created",accessor:"created",cell:e=>{let{row:t}=e;return(0,B.jsx)(r.Text,{fontSize:"sm",fontWeight:"700",children:z()(null===t||void 0===t?void 0:t.values.timestamp).format("(DD/MM) h:mma")})}},...null!==Y&&void 0!==Y&&Y.update||null!==Y&&void 0!==Y&&Y.view||null!==Y&&void 0!==Y&&Y.delete?[U]:[]];return(0,a.useEffect)((()=>{(async()=>{var e;H(!0);const t=await I((0,E.q)());let l=[...null===t||void 0===t||null===(e=t.payload)||void 0===e?void 0:e.data];l&&(null===l||void 0===l?void 0:l.length)>0&&(null===l||void 0===l||l.forEach((e=>{if(Object.isExtensible(e))e.createByLead&&(e.realeted="Lead"),e.createBy&&(e.realeted="Contact");else{const t={...e};e.createByLead&&(t.realeted="Lead"),e.createBy&&(t.realeted="Contact"),e=t}}))),200===t.payload.status?V(l):_.oR.error("Failed to fetch data","error"),H(!1)})()}),[t]),(0,B.jsxs)("div",{children:[(0,B.jsx)(v.A,{title:"Email",isLoding:k,columnData:null!==X&&void 0!==X?X:[],allData:null!==O&&void 0!==O?O:[],tableData:O,searchDisplay:P,setSearchDisplay:M,searchedDataOut:$,setSearchedDataOut:R,tableCustomFields:[],access:Y,onOpen:h,selectedValues:S,setSelectedValues:f,setDelete:j,deleteMany:!0,AdvanceSearch:(0,B.jsx)(c.Button,{variant:"outline",colorScheme:"brand",leftIcon:(0,B.jsx)(o.SearchIcon,{}),mt:{sm:"5px",md:"0"},size:"sm",onClick:()=>b(!0),children:"Advance Search"}),getTagValuesOutSide:w,searchboxOutside:F,setGetTagValuesOutside:D,setSearchboxOutside:A,handleSearchType:"EmailSearch"}),(0,B.jsx)(T,{advanceSearch:y,setAdvanceSearch:b,setSearchedData:R,setDisplaySearchData:M,allData:null!==O&&void 0!==O?O:[],setAction:l,setGetTagValues:D,setSearchbox:A}),(0,B.jsx)(G,{isOpen:u,size:"sm",onClose:p,setAction:l})]})}},41046:(e,t,l)=>{l.d(t,{A:()=>x});var a=l(31206),n=l(4450),i=l(71778),o=l(35066),s=l(65043),r=l(71094),d=l(10216),c=l(76914),u=l(78152),m=l(85369),v=l(70579);function x(e){const{columnsData:t,tableData:l,title:x,type:h,selectedValues:p,setSelectedValues:g}=e,j=(0,s.useMemo)((()=>t),[t]),S=(0,s.useMemo)((()=>l),[l]),[f,y]=(JSON.parse(localStorage.getItem("user")),(0,s.useState)()),b=(0,r.useTable)({columns:j,data:S,initialState:{pageIndex:0}},r.useGlobalFilter,r.useSortBy,r.usePagination),{getTableProps:C,getTableBodyProps:B,headerGroups:T,prepareRow:w,page:z,canPreviousPage:N,canNextPage:L,pageOptions:D,pageCount:F,gotoPage:A,nextPage:W,previousPage:I,setPageSize:k,state:{pageIndex:H,pageSize:O}}=b;D.length<f&&y(D.length);const V=(0,a.dU)("gray.500","white"),_=(0,a.dU)("gray.200","whiteAlpha.100"),G=(e,t)=>{"multi"===h?e.target.checked?g((e=>[...e,t])):g((e=>e.filter((e=>e!==t)))):e.target.checked?g(t):g(null)};return(0,v.jsxs)(d.A,{direction:"column",w:"100%",px:"0px",style:{border:"1px solid gray.200"},overflowX:{sm:"scroll",lg:"hidden"},children:[(0,v.jsx)(n.Flex,{px:"25px",justify:"space-between",mb:"20px",align:"center",children:(0,v.jsxs)(n.Text,{color:V,fontSize:"22px",fontWeight:"700",lineHeight:"100%",children:[x,"  (",(0,v.jsx)(c.A,{targetNumber:null===S||void 0===S?void 0:S.length},null===S||void 0===S?void 0:S.length),")"]})}),(0,v.jsxs)(n.Box,{overflowY:"auto",className:"table-container-property",children:["+ +        ",(0,v.jsxs)(i.XI,{...C(),variant:"simple",color:"gray.500",mb:"24px",children:[(0,v.jsx)(i.d8,{zIndex:1,children:null===T||void 0===T?void 0:T.map(((e,t)=>(0,s.createElement)(i.Tr,{...e.getHeaderGroupProps(),key:t},e.headers.map(((e,t)=>(0,s.createElement)(i.Th,{...e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps()),pe:"10px",key:t,borderColor:_},(0,v.jsxs)(n.Flex,{align:"center",justifyContent:e.center?"center":"start",fontSize:{sm:"14px",lg:"16px"},color:" secondaryGray.900",children:[(0,v.jsx)("span",{style:{textTransform:"capitalize",marginRight:"8px"},children:e.render("Header")}),!1!==e.isSortable&&(0,v.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,v.jsx)(m.GOR,{}):(0,v.jsx)(m.XhJ,{}):(0,v.jsx)(m.MjW,{})})]})))))))}),(0,v.jsxs)(i.NN,{...B(),children:[0===(null===S||void 0===S?void 0:S.length)&&+ +(0,v.jsx)(i.Tr,{children:(0,v.jsx)(i.Td,{colSpan:j.length,children:"img"})}),null===z||void 0===z?void 0:z.map(((e,t)=>{var l;return w(e),(0,s.createElement)(i.Tr,{...null===e||void 0===e?void 0:e.getRowProps(),key:t},null===e||void 0===e||null===(l=e.cells)||void 0===l?void 0:l.map(((e,t)=>{let l="";var a;"#"===(null===e||void 0===e?void 0:e.column.Header)?l=(0,v.jsxs)(n.Flex,{align:"center",children:["multi"===h?(0,v.jsx)(o.Sc,{colorScheme:"brandScheme",value:p,isChecked:p.includes(null===e||void 0===e?void 0:e.value),onChange:t=>G(t,null===e||void 0===e?void 0:e.value),me:"10px"}):(0,v.jsx)(o.Sc,{colorScheme:"brandScheme",value:p,isChecked:p===(null===e||void 0===e?void 0:e.value),onChange:t=>G(t,null===e||void 0===e?void 0:e.value),me:"10px"}),(0,v.jsx)(n.Text,{color:V,fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e||null===(a=e.row)||void 0===a?void 0:a.index)+1})]}):"title"===(null===e||void 0===e?void 0:e.column.Header)||"first Name"===(null===e||void 0===e?void 0:e.column.Header)||"last Name"===(null===e||void 0===e?void 0:e.column.Header)?l=(0,v.jsx)(n.Text,{me:"10px",color:V,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}):"phone Number"===(null===e||void 0===e?void 0:e.column.Header)||"Email Address"===(null===e||void 0===e?void 0:e.column.Header)?l=(0,v.jsx)(n.Text,{fontSize:"sm",fontWeight:"700",color:V,children:null===e||void 0===e?void 0:e.value}):("physical Address"===(null===e||void 0===e?void 0:e.column.Header)||"mailing Address"===(null===e||void 0===e?void 0:e.column.Header)||"Contact Method"===(null===e||void 0===e?void 0:e.column.Header))&&(l=(0,v.jsx)(n.Text,{color:V,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}));return(0,s.createElement)(i.Td,{...null===e||void 0===e?void 0:e.getCellProps(),key:t,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"},l)})))}))]})]})]}),(null===S||void 0===S?void 0:S.length)>5&&(0,v.jsx)(u.A,{gotoPage:A,gopageValue:f,setGopageValue:y,pageCount:F,canPreviousPage:N,previousPage:I,canNextPage:L,pageOptions:D,setPageSize:k,nextPage:W,pageSize:O,pageIndex:H})]})}},49565:(e,t,l)=>{l.d(t,{A:()=>x});var a=l(57360),n=l(4450),i=l(22554),o=l(65043),s=(l(41046),l(19488)),r=l(8860),d=l(88031),c=l(20850),u=l(26547),m=l(97508),v=l(70579);const x=e=>{var t,l;const{onClose:x,isOpen:h,fieldName:p,setFieldValue:g,data:j}=e,[S,f]=(0,o.useState)(),[y,b]=(0,o.useState)([]),[C,B]=(0,o.useState)(!1),[T,w]=(0,o.useState)([]),z=(0,m.wA)();return(0,o.useEffect)((async()=>{await z((0,u.h)()),(async()=>{var e,t,l,a;B(!0);const n=await z((0,c.I)());b(null===n||void 0===n||null===(e=n.payload)||void 0===e?void 0:e.data);const i=[{Header:"#",accessor:"_id",isSortable:!1,width:10},...((null===n||void 0===n||null===(t=n.payload)||void 0===t||null===(l=t.data)||void 0===l||null===(a=l[0])||void 0===a?void 0:a.fields)||[]).filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))).map((e=>({Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name})))];w(i),B(!1)})()}),[]),(0,v.jsxs)(a.aF,{onClose:x,size:"full",isOpen:h,children:[(0,v.jsx)(a.mH,{}),(0,v.jsxs)(a.$m,{children:[(0,v.jsx)(a.rQ,{children:"Select Contact"}),(0,v.jsx)(a.s_,{}),(0,v.jsx)(a.cw,{children:C?(0,v.jsx)(n.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,v.jsx)(s.A,{})}):(0,v.jsx)(d.A,{title:"Contacts",isLoding:C,columnData:null!==T&&void 0!==T?T:[],allData:null!==j&&void 0!==j?j:[],tableData:j,tableCustomFields:(null===y||void 0===y||null===(t=y[0])||void 0===t||null===(l=t.fields)||void 0===l?void 0:l.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],AdvanceSearch:()=>"",ManageGrid:!1,deleteMany:!1,selectedValues:S,setSelectedValues:f,selectType:"single",customSearch:!1})}),(0,v.jsxs)(a.jl,{children:[(0,v.jsxs)(i.Button,{variant:"brand",size:"sm",me:2,onClick:async()=>{try{B(!0),g(p,S),x()}catch(e){console.log(e)}finally{B(!1)}},disabled:!!C,leftIcon:(0,v.jsx)(r.NLY,{}),children:[" ",C?(0,v.jsx)(s.A,{}):"Select"]}),(0,v.jsx)(i.Button,{variant:"outline",size:"sm",colorScheme:"red",onClick:()=>x(),children:"Close"})]})]})]})}},53186:(e,t,l)=>{l.d(t,{T:()=>d});var a=l(78510),n=l(59522),i=l(23216),o=l(65043);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},s.apply(this,arguments)}var r=["className","rows"],d=(0,n.Rf)((function(e,t){var l=(0,n.Vl)("Textarea",e),d=(0,n.MN)(e),c=d.className,u=d.rows,m=function(e,t){if(null==e)return{};var l,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)l=i[a],t.indexOf(l)>=0||(n[l]=e[l]);return n}(d,r),v=(0,a.useFormControl)(m),x=u?(0,i.cJ)(l,["h","minH","height","minHeight"]):l;return o.createElement(n.Bv.textarea,s({ref:t,rows:u},v,{className:(0,i.cx)("chakra-textarea",c),__css:x}))}));i.gt&&(d.displayName="Textarea")},91125:(e,t,l)=>{l.d(t,{A:()=>x});var a=l(57360),n=l(4450),i=l(22554),o=l(65043),s=l(19488),r=l(8860),d=l(88031),c=l(87892),u=l(97508),m=l(37801),v=l(70579);const x=e=>{var t,l;const{onClose:x,isOpen:h,fieldName:p,setFieldValue:g,data:j}=e,S=(0,u.wA)(),[f,y]=(0,o.useState)(!1),[b,C]=(0,o.useState)([]),[B,T]=(0,o.useState)([]),[w,z]=(0,o.useState)([]);return(0,o.useEffect)((()=>{S((0,m.T)()),(async()=>{var e,t,l,a,n,i;y(!0);const o=await S((0,c.y)());T(null===o||void 0===o||null===(e=o.payload)||void 0===e?void 0:e.data);const s=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Status",accessor:"leadStatus",isSortable:!0,center:!0,cell:e=>{let{row:t}=e;return t.original.leadStatus}},...(null===o||void 0===o||null===(t=o.payload)||void 0===t||null===(l=t.data)||void 0===l||null===(a=l[0])||void 0===a||null===(n=a.fields)||void 0===n||null===(i=n.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||void 0===i?void 0:i.map((e=>"leadStatus"!==(null===e||void 0===e?void 0:e.name)&&{Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name})))||[]];C(s),y(!1)})()}),[]),(0,v.jsxs)(a.aF,{onClose:x,size:"full",isOpen:h,children:[(0,v.jsx)(a.mH,{}),(0,v.jsxs)(a.$m,{children:[(0,v.jsx)(a.rQ,{children:"Select Lead"}),(0,v.jsx)(a.s_,{}),(0,v.jsx)(a.cw,{children:f?(0,v.jsx)(n.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,v.jsx)(s.A,{})}):(0,v.jsx)(d.A,{title:"Leads",isLoding:f,columnData:null!==b&&void 0!==b?b:[],allData:null!==j&&void 0!==j?j:[],tableData:j,tableCustomFields:(null===B||void 0===B||null===(t=B[0])||void 0===t||null===(l=t.fields)||void 0===l?void 0:l.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],AdvanceSearch:()=>"",ManageGrid:!1,deleteMany:!1,selectedValues:w,setSelectedValues:z,selectType:"single",customSearch:!1})}),(0,v.jsxs)(a.jl,{children:[(0,v.jsxs)(i.Button,{variant:"brand",size:"sm",me:2,disabled:!!f,leftIcon:(0,v.jsx)(r.NLY,{}),onClick:async()=>{try{y(!0),g(p,w),x()}catch(e){console.log(e)}finally{y(!1)}},children:[" ",f?(0,v.jsx)(s.A,{}):"Select"]}),(0,v.jsx)(i.Button,{variant:"outline",size:"sm",colorScheme:"red",onClick:()=>x(),children:"Close"})]})]})]})}}}]);
//# sourceMappingURL=8471.b83f761f.chunk.js.map