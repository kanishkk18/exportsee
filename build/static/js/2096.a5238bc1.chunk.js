"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[2096],{2096:(e,i,t)=>{t.d(i,{A:()=>A});var n=t(14034),l=t(57360),o=t(22554),s=t(4450),d=t(78510),r=t(67682),a=t(84626),p=t(53186),c=t(35066),u=t(71778),m=t(19488),x=t(60446),h=t.n(x),g=t(63516),v=t(65043),b=t(3388),S=t(79621),j=(t(22030),t(48908),t(80899),t(39109)),f=t(14614),C=t(40619),y=t(47503),T=t(97508),z=t(46524),I=t(12312),W=t(30390),F=t(49565),G=t(95574),L=t(70579);const A=e=>{var i,t;const{isOpen:x,size:A,onClose:N,type:P,setAction:k,selectedId:q,contactId:B}=e,[D,w]=(0,v.useState)(!1),[O,U]=(0,v.useState)(!1),[_,$]=(0,v.useState)(!1),[R,V]=(0,v.useState)([]),[Y,Q]=(0,v.useState)(!1),[E,H]=(0,v.useState)(!1),[J,M]=(0,v.useState)({}),X=(0,T.wA)(),K=JSON.parse(localStorage.getItem("user")),[Z,ee,ie]=(0,G.h)(["Account","Contacts","Opportunities"]),te=(0,T.d4)((e=>{var i,t;return null===e||void 0===e||null===(i=e.opportunityData)||void 0===i||null===(t=i.data)||void 0===t?void 0:t.data})),ne=(0,T.d4)((e=>{var i,t;return null===e||void 0===e||null===(i=e.accountData)||void 0===i||null===(t=i.data)||void 0===t?void 0:t.data})),le=(0,T.d4)((e=>{var i;return null===e||void 0===e||null===(i=e.contactData)||void 0===i?void 0:i.data})),oe={title:"edit"===P?null===J||void 0===J?void 0:J.title:"",oppotunity:"edit"===P?null===J||void 0===J?void 0:J.oppotunity:null,quoteStage:"edit"===P?null===J||void 0===J?void 0:J.quoteStage:"Draft",invoiceStatus:"edit"===P?null===J||void 0===J?void 0:J.invoiceStatus:"Not Invoiced",validUntil:"edit"===P?null===J||void 0===J?void 0:J.validUntil:"",assignedTo:"edit"===P?null===J||void 0===J?void 0:J.assignedTo:null,paymentTerms:"edit"===P?null===J||void 0===J?void 0:J.paymentTerms:"",approvalStatus:"edit"===P?null===J||void 0===J?void 0:J.approvalStatus:"",nonPrimaryEmail:"edit"===P?null===J||void 0===J?void 0:J.nonPrimaryEmail:"",approvalIssues:"edit"===P?null===J||void 0===J?void 0:J.approvalIssues:"",terms:"edit"===P?null===J||void 0===J?void 0:J.terms:"",description:"edit"===P?null===J||void 0===J?void 0:J.description:"",account:"edit"===P?null===J||void 0===J?void 0:J.account:null,contact:"edit"===P?null===J||void 0===J?void 0:J.contact:B||null,billingStreet:"edit"===P?null===J||void 0===J?void 0:J.billingStreet:"",shippingStreet:"edit"===P?null===J||void 0===J?void 0:J.shippingStreet:"",billingCity:"edit"===P?null===J||void 0===J?void 0:J.billingCity:"",shippingCity:"edit"===P?null===J||void 0===J?void 0:J.shippingCity:"",billingState:"edit"===P?null===J||void 0===J?void 0:J.billingState:"",shippingState:"edit"===P?null===J||void 0===J?void 0:J.shippingState:"",billingPostalCode:"edit"===P?null===J||void 0===J?void 0:J.billingPostalCode:"",shippingPostalCode:"edit"===P?null===J||void 0===J?void 0:J.shippingPostalCode:"",billingCountry:"edit"===P?null===J||void 0===J?void 0:J.billingCountry:"",shippingCountry:"edit"===P?null===J||void 0===J?void 0:J.shippingCountry:"",isCheck:"edit"===P&&(null===J||void 0===J?void 0:J.isCheck),currency:"edit"===P?null===J||void 0===J?void 0:J.currency:"$",total:"edit"===P?null===J||void 0===J?void 0:J.total:"",discount:"edit"===P?null===J||void 0===J?void 0:J.discount:"",subtotal:"edit"===P?null===J||void 0===J?void 0:J.subtotal:"",shipping:"edit"===P?null===J||void 0===J?void 0:J.shipping:"",shippingTax:"edit"===P?null===J||void 0===J?void 0:J.shippingTax:"",ptax:"edit"===P?null===J||void 0===J?void 0:J.ptax:"",tax:"edit"===P?null===J||void 0===J?void 0:J.tax:"",grandTotal:"edit"===P?null===J||void 0===J?void 0:J.grandTotal:"",discountType:"edit"===P?null===J||void 0===J?void 0:J.discountType:"none",items:"edit"===P?null===J||void 0===J?void 0:J.items:[],createBy:JSON.parse(localStorage.getItem("user"))._id,modifiedBy:JSON.parse(localStorage.getItem("user"))._id},se=()=>{de.resetForm(),N()},de=(0,g.Wx)({initialValues:oe,validationSchema:j.m,enableReinitialize:!0,onSubmit:(e,i)=>{let{resetForm:t}=i;if("add"===P)(async e=>{try{w(!0),200===(await(0,S.d_)("api/quotes/add",e)).status&&(N(),y.oR.success("Quotes Save successfully"),de.resetForm(),k((e=>!e)))}catch(i){console.log(i),y.oR.error("server error")}finally{w(!1)}})(e);else{(async e=>{try{w(!0),200===(await(0,S.yP)(`api/quotes/edit/${q}`,e)).status&&(N(),y.oR.success("Quotes Update successfully"),de.resetForm(),k((e=>!e)))}catch(i){console.log(i),y.oR.error("server error")}finally{w(!1)}})({...e,modifiedDate:new Date})}}}),{errors:re,touched:ae,values:pe,handleBlur:ce,handleChange:ue,handleSubmit:me,setFieldValue:xe}=de,he=e=>{xe("isCheck",e.target.checked),e.target.checked?(xe("shippingStreet",null===pe||void 0===pe?void 0:pe.billingStreet),xe("shippingCity",null===pe||void 0===pe?void 0:pe.billingCity),xe("shippingState",null===pe||void 0===pe?void 0:pe.billingState),xe("shippingPostalCode",null===pe||void 0===pe?void 0:pe.billingPostalCode),xe("shippingCountry",null===pe||void 0===pe?void 0:pe.billingCountry)):(xe("shippingStreet",""),xe("shippingCity",""),xe("shippingState",""),xe("shippingPostalCode",""),xe("shippingCountry",""))},ge=e=>{const i=e.reduce(((e,i)=>e+i.amount),0),t=e.reduce(((e,i)=>e+i.totalDiscount),0);return{totalAmount:i,netAmount:Number(i)-Number(t),discount:t}},ve=(e,i,t)=>{const n=pe.items.map(((n,l)=>{if(l===e){const e={...n,[i]:t};if(["qty","rate","discount","discountType"].includes(i)){const i="percent"===e.discountType?e.rate*e.qty*e.discount/100:"none"===e.discountType?0:e.discount;e.amount=e.rate*e.qty-i,e.totalDiscount=i}return e}return n}));xe("items",n);const{totalAmount:l,netAmount:o,discount:s}=ge(n);xe("discount",s),xe("total",l),xe("subtotal",l),xe("grandTotal",o)},be=(0,v.useCallback)((()=>{const e=pe.subtotal,i=Number(pe.shipping),t=Number(pe.ptax),n=Number(e)+Number(i),l=n*t/100,o=Number(n)+Number(l);xe("shippingTax",null===n||void 0===n?void 0:n.toFixed(2)),xe("tax",null===l||void 0===l?void 0:l.toFixed(2)),xe("grandTotal",null===o||void 0===o?void 0:o.toFixed(2))}),[pe.subtotal,pe.shipping,pe.ptax]);return(0,v.useEffect)((()=>{be()}),[be]),(0,v.useEffect)((()=>{"edit"===P&&(async()=>{if("edit"===P)try{w(!0);let i=await(0,S.x4)("api/quotes/view/",q);var e;200===(null===i||void 0===i?void 0:i.status)&&M(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.result)}catch(i){console.log(i)}finally{w(!1)}})(),"superAdmin"===K.role&&(async()=>{var e;w(!0);let i=await(0,S.x4)("api/user/");V(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.user),w(!1)})()}),[P,q]),(0,v.useEffect)((()=>{0!==(null===te||void 0===te?void 0:te.length)&&void 0!==te||X((0,z.o)()),0!==(null===ne||void 0===ne?void 0:ne.length)&&void 0!==ne||X((0,W.G)())}),[]),(0,L.jsxs)("div",{children:[O&&(0,L.jsx)(f.A,{onClose:()=>U(!1),isOpen:O,fieldName:"assignedTo",setFieldValue:xe,data:R,isLoding:D,setIsLoding:w}),_&&(0,L.jsx)(C.A,{onClose:()=>$(!1),isOpen:_,fieldName:"oppotunity",setFieldValue:xe,data:te,isLoding:D,setIsLoding:w,type:"quotes",billingState:"billingState",billingCity:"billingCity",billingPostalCode:"billingPostalCode",billingCountry:"billingCountry",billingStreet:"billingStreet"}),Y&&(0,L.jsx)(I.A,{onClose:()=>Q(!1),isOpen:Y,fieldName:"account",setFieldValue:xe,data:ne}),E&&(0,L.jsx)(F.A,{isOpen:E,data:le,onClose:H,values:pe,fieldName:"contact",setFieldValue:xe}),(0,L.jsxs)(l._s,{isOpen:x,size:A,children:[(0,L.jsx)(l.QP,{}),(0,L.jsxs)(l.zj,{children:[(0,L.jsxs)(l.BE,{alignItems:"center",justifyContent:"space-between",display:"flex",children:["add"===P?"Add":"Edit"," Quotes",(0,L.jsx)(o.IconButton,{onClick:()=>se(),icon:(0,L.jsx)(n.CloseIcon,{})})]}),(0,L.jsx)(l.ys,{children:(0,L.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,L.jsx)(s.GridItem,{colSpan:{base:12},children:(0,L.jsx)(s.Heading,{as:"h1",size:"md",mt:"10px",children:"Overview"})}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsxs)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Title",(0,L.jsx)(s.Text,{color:"red",children:"*"})]}),(0,L.jsx)(r.Input,{fontSize:"sm",value:pe.title,name:"title",onChange:ue,placeholder:"Title",fontWeight:"500",borderColor:re.title&&ae.title?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.title&&ae.title&&re.title]})]}),("superAdmin"===K.role||(null===ie||void 0===ie?void 0:ie.view))&&(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Opportunity"}),(0,L.jsxs)(s.Flex,{justifyContent:"space-between",children:[(0,L.jsx)(a.l6,{value:pe.oppotunity,name:"oppotunity",onChange:ue,mb:re.oppotunity&&ae.oppotunity?void 0:"10px",fontWeight:"500",placeholder:"Opportunity",borderColor:re.oppotunity&&ae.oppotunity?"red.300":null,children:(null===te||void 0===te?void 0:te.length)>0&&(null===te||void 0===te?void 0:te.map((e=>(0,L.jsx)("option",{value:e._id,children:`${null===e||void 0===e?void 0:e.opportunityName}`},e._id))))}),(0,L.jsx)(o.IconButton,{onClick:()=>$(!0),ml:2,fontSize:"25px",icon:(0,L.jsx)(b.G2h,{})})]}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.oppotunity&&ae.oppotunity&&re.oppotunity]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsxs)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Quote Stage",(0,L.jsx)(s.Text,{color:"red",children:"*"})]}),(0,L.jsxs)(a.l6,{value:pe.quoteStage,name:"quoteStage",onChange:ue,mb:re.quoteStage&&ae.quoteStage?void 0:"10px",fontWeight:"500",placeholder:"Quote Stage",borderColor:re.quoteStage&&ae.quoteStage?"red.300":null,children:[(0,L.jsx)("option",{value:"Draft",children:"Draft"}),(0,L.jsx)("option",{value:"Negotiation",children:"Negotiation"}),(0,L.jsx)("option",{value:"Delivered",children:"Delivered"}),(0,L.jsx)("option",{value:"On Hold",children:"On Hold"}),(0,L.jsx)("option",{value:"Confirmed",children:"Confirmed"}),(0,L.jsx)("option",{value:"Closed Accepted",children:"Closed Accepted"}),(0,L.jsx)("option",{value:"Closed Lost",children:"Closed Lost"}),(0,L.jsx)("option",{value:"Closed Dead",children:"Closed Dead"})]}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.quoteStage&&ae.quoteStage&&re.quoteStage]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Invoice Status"}),(0,L.jsxs)(a.l6,{value:pe.invoiceStatus,name:"invoiceStatus",onChange:ue,mb:re.invoiceStatus&&ae.invoiceStatus?void 0:"10px",fontWeight:"500",placeholder:"Invoice Status",borderColor:re.invoiceStatus&&ae.invoiceStatus?"red.300":null,children:[(0,L.jsx)("option",{value:"Not Invoiced",children:"Not Invoiced"}),(0,L.jsx)("option",{value:"Invoiced",children:"Invoiced"})]}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.invoiceStatus&&ae.invoiceStatus&&re.invoiceStatus]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsxs)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Valid Until",(0,L.jsx)(s.Text,{color:"red",children:"*"})]}),(0,L.jsx)(r.Input,{fontSize:"sm",value:h()(pe.validUntil).format("YYYY-MM-DD"),name:"validUntil",type:"date",onChange:ue,placeholder:"Valid Until",fontWeight:"500",borderColor:re.validUntil&&ae.validUntil?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.validUntil&&ae.validUntil&&re.validUntil]})]}),"superAdmin"===K.role&&(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Assigned To"}),(0,L.jsxs)(s.Flex,{justifyContent:"space-between",children:[(0,L.jsx)(a.l6,{value:pe.assignedTo,name:"assignedTo",onChange:ue,mb:re.assignedTo&&ae.assignedTo?void 0:"10px",fontWeight:"500",placeholder:"Assigned To",borderColor:re.assignedTo&&ae.assignedTo?"red.300":null,children:null===R||void 0===R?void 0:R.map((e=>(0,L.jsx)("option",{value:e._id,children:`${null===e||void 0===e?void 0:e.firstName} ${null===e||void 0===e?void 0:e.lastName}`},e._id)))}),(0,L.jsx)(o.IconButton,{onClick:()=>U(!0),ml:2,fontSize:"25px",icon:(0,L.jsx)(b.G2h,{})})]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Payment Terms"}),(0,L.jsxs)(a.l6,{value:pe.paymentTerms,name:"paymentTerms",onChange:ue,mb:re.paymentTerms&&ae.paymentTerms?void 0:"10px",fontWeight:"500",placeholder:"Payment Terms",borderColor:re.paymentTerms&&ae.paymentTerms?"red.300":null,children:[(0,L.jsx)("option",{value:"Nett 15",children:"Nett 15"}),(0,L.jsx)("option",{value:"Nett 30",children:"Nett 30"})]}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.paymentTerms&&ae.paymentTerms&&re.paymentTerms]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Approval Status"}),(0,L.jsx)(a.l6,{value:pe.approvalStatus,name:"approvalStatus",onChange:ue,mb:re.approvalStatus&&ae.approvalStatus?void 0:"10px",fontWeight:"500",placeholder:"Approval Status",borderColor:re.approvalStatus&&ae.approvalStatus?"red.300":null,children:(0,L.jsx)("option",{value:"Approved",children:"Approved"})}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.approvalStatus&&ae.approvalStatus&&re.approvalStatus]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Approval Issues"}),(0,L.jsx)(p.T,{fontSize:"sm",value:pe.approvalIssues,name:"approvalIssues",resize:"none",onChange:ue,placeholder:"Approval Issues",fontWeight:"500",borderColor:re.approvalIssues&&ae.approvalIssues?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.approvalIssues&&ae.approvalIssues&&re.approvalIssues]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Terms"}),(0,L.jsx)(p.T,{fontSize:"sm",value:pe.terms,name:"terms",resize:"none",onChange:ue,placeholder:"Terms",fontWeight:"500",borderColor:re.terms&&ae.terms?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.terms&&ae.terms&&re.terms]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Description"}),(0,L.jsx)(p.T,{fontSize:"sm",value:pe.description,name:"description",resize:"none",onChange:ue,placeholder:"Description",fontWeight:"500",borderColor:re.description&&ae.description?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.description&&ae.description&&re.description]})]}),(0,L.jsx)(s.GridItem,{colSpan:{base:12},children:(0,L.jsx)(s.Heading,{as:"h1",size:"md",mt:"10px",children:"Address Information"})}),("superAdmin"===K.role||(null===Z||void 0===Z?void 0:Z.view))&&(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Account"}),(0,L.jsxs)(s.Flex,{justifyContent:"space-between",children:[(0,L.jsx)(a.l6,{value:pe.account,name:"account",onChange:ue,mb:re.account&&ae.account?void 0:"10px",fontWeight:"500",placeholder:"Account",borderColor:re.account&&ae.account?"red.300":null,children:(null===ne||void 0===ne?void 0:ne.length)>0&&(null===ne||void 0===ne?void 0:ne.map((e=>(0,L.jsx)("option",{value:e._id,children:`${null===e||void 0===e?void 0:e.name}`},e._id))))}),(0,L.jsx)(o.IconButton,{onClick:()=>Q(!0),ml:2,fontSize:"25px",icon:(0,L.jsx)(b.G2h,{})})]}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.account&&ae.account&&re.account]})]}),("superAdmin"===K.role||(null===ee||void 0===ee?void 0:ee.view))&&(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Contact"}),(0,L.jsxs)(s.Flex,{justifyContent:"space-between",children:[(0,L.jsx)(a.l6,{value:pe.contact,name:"contact",onChange:ue,mb:re.contact&&ae.contact?void 0:"10px",fontWeight:"500",placeholder:"Contact",borderColor:re.contact&&ae.contact?"red.300":null,children:(null===le||void 0===le?void 0:le.length)>0&&(null===le||void 0===le?void 0:le.map((e=>(0,L.jsx)("option",{value:e._id,children:`${e.firstName} ${e.lastName}`},e._id))))}),(0,L.jsx)(o.IconButton,{onClick:()=>H(!0),ml:2,fontSize:"25px",icon:(0,L.jsx)(b.G2h,{})})]}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.contact&&ae.contact&&re.contact]})]}),(0,L.jsx)(s.GridItem,{colSpan:{base:12,md:6},children:(0,L.jsx)(s.Heading,{as:"h1",size:"md",mt:"10px",children:"Billing Address"})}),(0,L.jsx)(s.GridItem,{colSpan:{base:12,md:6},children:(0,L.jsx)(s.Heading,{as:"h1",size:"md",mt:"10px",children:"Shipping Address"})}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(c.Sc,{isChecked:null===pe||void 0===pe?void 0:pe.isCheck,onChange:e=>he(e),visibility:"hidden",children:"Copy address from left"}),(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",mt:3,children:"Billing Street"}),(0,L.jsx)(r.Input,{fontSize:"sm",value:pe.billingStreet,name:"billingStreet",onChange:ue,placeholder:"Billing Street",fontWeight:"500",borderColor:re.billingStreet&&ae.billingStreet?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.billingStreet&&ae.billingStreet&&re.billingStreet]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(c.Sc,{isChecked:null===pe||void 0===pe?void 0:pe.isCheck,onChange:e=>he(e),children:"Copy address from left"}),(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",mt:3,children:"Shipping Street"}),(0,L.jsx)(r.Input,{fontSize:"sm",value:pe.shippingStreet,name:"shippingStreet",disabled:null===pe||void 0===pe?void 0:pe.isCheck,onChange:ue,placeholder:"Shipping Street",fontWeight:"500",borderColor:re.shippingStreet&&ae.shippingStreet?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.shippingStreet&&ae.shippingStreet&&re.shippingStreet]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Billing City"}),(0,L.jsx)(r.Input,{fontSize:"sm",value:pe.billingCity,name:"billingCity",onChange:ue,placeholder:"Billing City",fontWeight:"500",borderColor:re.billingCity&&ae.billingCity?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.billingCity&&ae.billingCity&&re.billingCity]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Shipping City"}),(0,L.jsx)(r.Input,{fontSize:"sm",value:pe.shippingCity,name:"shippingCity",disabled:null===pe||void 0===pe?void 0:pe.isCheck,onChange:ue,placeholder:"Shipping City",fontWeight:"500",borderColor:re.shippingCity&&ae.shippingCity?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.shippingCity&&ae.shippingCity&&re.shippingCity]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Billing State"}),(0,L.jsx)(r.Input,{fontSize:"sm",value:pe.billingState,name:"billingState",onChange:ue,placeholder:"Billing State",fontWeight:"500",borderColor:re.billingState&&ae.billingState?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.billingState&&ae.billingState&&re.billingState]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Shipping State"}),(0,L.jsx)(r.Input,{fontSize:"sm",value:pe.shippingState,disabled:null===pe||void 0===pe?void 0:pe.isCheck,name:"shippingState",onChange:ue,placeholder:"Shipping State",fontWeight:"500",borderColor:re.shippingState&&ae.shippingState?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.shippingState&&ae.shippingState&&re.shippingState]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Billing Postal Code"}),(0,L.jsx)(r.Input,{fontSize:"sm",value:pe.billingPostalCode,name:"billingPostalCode",onChange:ue,type:"number",placeholder:"Billing Postal Code",fontWeight:"500",borderColor:re.billingPostalCode&&ae.billingPostalCode?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.billingPostalCode&&ae.billingPostalCode&&re.billingPostalCode]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Shipping Postal Code"}),(0,L.jsx)(r.Input,{fontSize:"sm",value:pe.shippingPostalCode,disabled:null===pe||void 0===pe?void 0:pe.isCheck,name:"shippingPostalCode",type:"number",onChange:ue,placeholder:"Shipping Postal Code",fontWeight:"500",borderColor:re.shippingPostalCode&&ae.shippingPostalCode?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.shippingPostalCode&&ae.shippingPostalCode&&re.shippingPostalCode]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Billing Country"}),(0,L.jsx)(r.Input,{fontSize:"sm",value:pe.billingCountry,name:"billingCountry",onChange:ue,placeholder:"Billing Country",fontWeight:"500",borderColor:re.billingCountry&&ae.billingCountry?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.billingCountry&&ae.billingCountry&&re.billingCountry]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Shipping Country"}),(0,L.jsx)(r.Input,{fontSize:"sm",value:pe.shippingCountry,name:"shippingCountry",onChange:ue,disabled:null===pe||void 0===pe?void 0:pe.isCheck,placeholder:"Shipping Country",fontWeight:"500",borderColor:re.shippingCountry&&ae.shippingCountry?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.shippingCountry&&ae.shippingCountry&&re.shippingCountry]})]}),(0,L.jsx)(s.GridItem,{colSpan:{base:12},children:(0,L.jsx)(s.Heading,{as:"h1",size:"md",mt:"10px",children:"Line Items"})}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Currency"}),(0,L.jsx)(a.l6,{value:pe.currency,name:"currency",onBlur:ce,onChange:ue,mb:re.currency&&ae.currency?void 0:"10px",fontWeight:"500",placeholder:"Select Currency",borderColor:re.currency&&ae.currency?"red.300":null,children:(0,L.jsx)("option",{value:"$",selected:!0,children:"INR"})}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.currency&&ae.currency&&re.currency]})]}),(0,L.jsx)(s.GridItem,{colSpan:{base:12},children:(0,L.jsx)(s.Box,{children:(0,L.jsxs)(u.XI,{variant:"simple",size:"sm",mt:5,backgroundColor:"#f9f9f9",children:[(0,L.jsx)(u.d8,{children:(0,L.jsxs)(u.Tr,{children:[(0,L.jsx)(u.Th,{}),(0,L.jsx)(u.Th,{children:"#"}),(0,L.jsx)(u.Th,{children:"Item"}),(0,L.jsx)(u.Th,{children:"Qty"}),(0,L.jsx)(u.Th,{children:"Rate"}),(0,L.jsx)(u.Th,{children:"Discount"}),(0,L.jsx)(u.Th,{children:"Amount"})]})}),(0,L.jsxs)(u.NN,{children:[(null===pe||void 0===pe||null===(i=pe.items)||void 0===i?void 0:i.length)>0&&(null===pe||void 0===pe||null===(t=pe.items)||void 0===t?void 0:t.map(((e,i)=>(0,L.jsxs)(u.Tr,{children:[(0,L.jsx)(u.Td,{className:"text-center",children:(0,L.jsx)(o.IconButton,{icon:(0,L.jsx)(n.CloseIcon,{}),onClick:()=>(e=>{const i=pe.items.filter(((i,t)=>t!==e));xe("items",i);const{totalAmount:t,netAmount:n,discount:l}=ge(i);xe("total",t),xe("grandTotal",n),xe("discount",l)})(i),colorScheme:"red",variant:"outline",size:"sm",style:{fontSize:"10px"}})}),(0,L.jsx)(u.Td,{children:i+1}),(0,L.jsx)(u.Td,{children:(0,L.jsx)(d.FormControl,{children:(0,L.jsx)(r.Input,{type:"text",value:null===e||void 0===e?void 0:e.productName,onChange:e=>ve(i,"productName",e.target.value),size:"sm"})})}),(0,L.jsx)(u.Td,{children:(0,L.jsx)(d.FormControl,{children:(0,L.jsx)(r.Input,{type:"number",value:null===e||void 0===e?void 0:e.qty,onChange:e=>ve(i,"qty",Number(e.target.value)),size:"sm"})})}),(0,L.jsx)(u.Td,{children:(0,L.jsx)(d.FormControl,{children:(0,L.jsx)(r.Input,{type:"number",value:null===e||void 0===e?void 0:e.rate,onChange:e=>ve(i,"rate",Number(e.target.value)),size:"sm"})})}),(0,L.jsx)(u.Td,{style:{display:"flex"},children:(0,L.jsxs)(d.FormControl,{children:[(0,L.jsx)(r.Input,{type:"number",value:null===e||void 0===e?void 0:e.discount,onChange:e=>ve(i,"discount",Number(e.target.value)),size:"sm",disabled:"none"===(null===e||void 0===e?void 0:e.discountType)}),(0,L.jsxs)(a.l6,{value:null===e||void 0===e?void 0:e.discountType,onChange:e=>{ve(i,"discountType",e.target.value)},size:"sm",children:[(0,L.jsx)("option",{value:"none",children:"none"}),(0,L.jsx)("option",{value:"percent",children:"%"}),(0,L.jsx)("option",{value:"flatAmount",children:null===pe||void 0===pe?void 0:pe.currency})]})]})}),(0,L.jsx)(u.Td,{children:(0,L.jsx)(d.FormControl,{children:(0,L.jsx)(r.Input,{type:"number",value:null===e||void 0===e?void 0:e.amount,readOnly:!0,size:"sm"})})})]},e.id)))),(0,L.jsxs)(u.Tr,{children:[(0,L.jsx)(u.Td,{colSpan:4,display:"flex",justifyContent:"end",children:(0,L.jsx)(o.IconButton,{icon:(0,L.jsx)(n.AddIcon,{}),onClick:()=>{xe("items",[...pe.items,{id:pe.items.length+1,productName:"",qty:0,rate:0,discount:0,discountType:"none",totalDiscount:0,amount:0}])},colorScheme:"green",variant:"outline",size:"sm",style:{fontSize:"10px"}})}),(0,L.jsx)(u.Td,{}),(0,L.jsx)(u.Td,{}),(0,L.jsx)(u.Td,{})]})]})]})})}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Total"}),(0,L.jsx)(r.Input,{fontSize:"sm",value:pe.total,name:"total",onChange:ue,placeholder:"Total",fontWeight:"500",type:"number",borderColor:re.total&&ae.total?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.total&&ae.total&&re.total]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Total Discount"}),(0,L.jsx)(r.Input,{fontSize:"sm",value:pe.discount,name:"discount",onBlur:ce,type:"number",onChange:ue,fontWeight:"500",borderColor:re.discount&&ae.discount?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.discount&&ae.discount&&re.discount]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Subtotal"}),(0,L.jsx)(r.Input,{fontSize:"sm",value:pe.subtotal,name:"subtotal",type:"number",onChange:ue,placeholder:"Subtotal",fontWeight:"500",borderColor:re.subtotal&&ae.subtotal?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.subtotal&&ae.subtotal&&re.subtotal]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Shipping"}),(0,L.jsx)(r.Input,{fontSize:"sm",value:pe.shipping,name:"shipping",type:"number",onChange:ue,placeholder:"Shipping",fontWeight:"500",borderColor:re.shipping&&ae.shipping?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.shipping&&ae.shipping&&re.shipping]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:10},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Shipping Tax"}),(0,L.jsx)(r.Input,{fontSize:"sm",value:pe.shippingTax,name:"shippingTax",onChange:ue,placeholder:"Shipping Tax",type:"number",fontWeight:"500",borderColor:re.shippingTax&&ae.shippingTax?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.shippingTax&&ae.shippingTax&&re.shippingTax]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:2},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",visibility:"hidden",children:"-"}),(0,L.jsxs)(a.l6,{value:pe.ptax,name:"ptax",onChange:ue,mb:re.ptax&&ae.ptax?void 0:"10px",fontWeight:"500",borderColor:re.ptax&&ae.ptax?"red.300":null,children:[(0,L.jsx)("option",{value:"0",children:"0%"}),(0,L.jsx)("option",{value:"10",children:"10%"}),(0,L.jsx)("option",{value:"18",children:"18%"})]}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.ptax&&ae.ptax&&re.ptax]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Tax"}),(0,L.jsx)(r.Input,{fontSize:"sm",value:pe.tax,name:"tax",onChange:ue,fontWeight:"500",type:"number",placeholder:"Tax",borderColor:re.tax&&ae.tax?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.tax&&ae.tax&&re.tax]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Grand Total"}),(0,L.jsx)(r.Input,{fontSize:"sm",value:pe.grandTotal,name:"grandTotal",onChange:ue,fontWeight:"500",type:"number",placeholder:"Grand Total",borderColor:re.grandTotal&&ae.grandTotal?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",re.grandTotal&&ae.grandTotal&&re.grandTotal]})]})]})}),(0,L.jsxs)(l.tb,{children:[(0,L.jsx)(o.Button,{sx:{textTransform:"capitalize"},size:"sm",disabled:!!D,variant:"brand",type:"submit",onClick:me,children:D?(0,L.jsx)(m.A,{}):"Save"}),(0,L.jsx)(o.Button,{variant:"outline",colorScheme:"red",size:"sm",sx:{marginLeft:2,textTransform:"capitalize"},onClick:se,children:"Close"})]})]})]})]})}},39109:(e,i,t)=>{t.d(i,{m:()=>l});var n=t(80899);const l=n.Ik({title:n.Yj().required("Title Is required"),quoteStage:n.Yj().required("Quote Stage Is required"),validUntil:n.Yj().required("Valid Until Is required"),shippingPostalcode:n.Yj().matches(/^\d{6}$/,"Shipping Postal Code must be exactly 6 digits").notRequired(),billingPostalcode:n.Yj().matches(/^\d{6}$/,"Billing Postal Code must be exactly 6 digits").notRequired()})}}]);
//# sourceMappingURL=2096.a5238bc1.chunk.js.map