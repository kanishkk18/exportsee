"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[2855],{23848:(e,t,l)=>{l.d(t,{A:()=>d});var o=l(31206),n=l(4450),s=l(3458),i=l(71997),a=l(27149),r=l(70579);function d(e){const{count:t,text:l,onFileSelect:d}=e,c=(0,o.dU)("secondaryGray.900","white"),u=(0,o.dU)("brand.500","white");return(0,r.jsxs)(n.Grid,{templateColumns:"repeat(12, 1fr)",gap:2,children:[(0,r.jsx)(n.GridItem,{colSpan:{base:12},children:(0,r.jsx)(i.A,{w:{base:"100%"},me:"36px",minH:200,img:"Property Photos"===l?"img":"",csv:"csv",height:"100%",onFileSelect:d,isMultipleAllow:!1,content:(0,r.jsxs)(n.Box,{children:[(0,r.jsx)(s.In,{as:a.vpy,w:"80px",h:"80px",color:u}),(0,r.jsx)(n.Flex,{justify:"center",mx:"auto",mb:"12px",children:(0,r.jsx)(n.Text,{fontSize:"xl",fontWeight:"700",color:u,children:"Upload File"})}),t>0&&(0,r.jsxs)(n.Text,{fontSize:"sm",fontWeight:"500",color:"secondaryGray.500",children:["Selected Files : ",t]})]})})}),(0,r.jsx)(n.GridItem,{colSpan:{base:12},children:(0,r.jsxs)(n.Flex,{direction:"column",children:[(0,r.jsxs)(n.Text,{color:c,fontWeight:"bold",textAlign:"start",fontSize:"2xl",mt:{base:"20px"},children:["Upload ",l]}),(0,r.jsx)(n.Text,{color:"gray.400",fontSize:"md",my:{base:"auto"},mx:"auto",textAlign:"start",children:"Accepted File Type (csv, xlsx file - 15MB max) only 1 file"})]})})]})}},25259:(e,t,l)=>{l.d(t,{A:()=>x});var o=l(57360),n=l(4450),s=l(22554),i=l(19488),a=l(63516),r=l(65043),d=l(73216),c=l(23848),u=l(70579);const x=e=>{const{onClose:t,isOpen:l,text:x,customFields:h}=e,[m,v]=(0,r.useState)(!1),p=(0,d.Zp)(),j=(0,a.Wx)({initialValues:{lead:""},onSubmit:(e,t)=>{let{resetForm:l}=t;C(),l()}}),{errors:S,touched:g,values:f,handleBlur:b,handleChange:T,handleSubmit:y,setFieldValue:k,resetForm:A}=j,C=async()=>{try{v(!0),A(),f.lead&&(t(),p("/leadImport",{state:{fileData:f.lead,customFields:h}}))}catch(e){console.log(e)}finally{v(!1)}};return(0,u.jsxs)(o.aF,{onClose:t,isOpen:l,isCentered:!0,children:[(0,u.jsx)(o.mH,{}),(0,u.jsxs)(o.$m,{children:[(0,u.jsx)(o.rQ,{children:"Import Leads"}),(0,u.jsx)(o.s_,{}),(0,u.jsx)(o.cw,{children:(0,u.jsx)(n.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:(0,u.jsxs)(n.GridItem,{colSpan:{base:12},children:[(0,u.jsx)(c.A,{count:f.lead.length,onFileSelect:e=>k("lead",e),text:x}),(0,u.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",S.lead&&g.lead&&(0,u.jsxs)(u.Fragment,{children:["Please Select ",x]})]})]})})}),(0,u.jsxs)(o.jl,{children:[(0,u.jsx)(s.Button,{variant:"brand",size:"sm",onClick:y,disabled:!!m,children:m?(0,u.jsx)(i.A,{}):"Save"}),(0,u.jsx)(s.Button,{variant:"outline",colorScheme:"red",sx:{marginLeft:2,textTransform:"capitalize"},size:"sm",onClick:()=>{t(),j.resetForm()},children:"Close"})]})]})]})}},52942:(e,t,l)=>{l.d(t,{A:()=>j});var o=l(14034),n=l(57360),s=l(22554),i=l(4450),a=l(19488),r=l(86178),d=l.n(r),c=l(65043),u=l(67805),x=l(35475),h=l(79621),m=l(73216),v=l(1887),p=l(70579);const j=e=>{const{onClose:t,isOpen:l,id:r,fetchData:j,setAction:S,action:g,access:f,contactAccess:b,leadAccess:T}=e,[y,k]=(0,c.useState)(),[A,C]=(0,c.useState)(!1),[w,I]=(0,c.useState)(!1),z=JSON.parse(localStorage.getItem("user")),[D,F]=(0,c.useState)(!1),W=(0,m.Zp)();(0,c.useEffect)((()=>{(async()=>{if(r){var e;F(!0);let t=await(0,h.x4)("api/task/view/",null!==r&&void 0!==r&&r.event?null===r||void 0===r||null===(e=r.event)||void 0===e?void 0:e.id:r);k(null===t||void 0===t?void 0:t.data),F(!1)}})()}),[g,r]);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(n.aF,{isOpen:l,size:"md",isCentered:!0,children:[(0,p.jsx)(n.mH,{}),(0,p.jsxs)(n.$m,{children:[(0,p.jsxs)(n.rQ,{justifyContent:"space-between",display:"flex",children:["Task",(0,p.jsx)(s.IconButton,{onClick:()=>t(!1),icon:(0,p.jsx)(o.CloseIcon,{})})]}),D?(0,p.jsx)(i.Flex,{justifyContent:"center",alignItems:"center",mb:30,width:"100%",children:(0,p.jsx)(a.A,{})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.cw,{children:(0,p.jsxs)(i.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,p.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Title "}),(0,p.jsx)(i.Text,{children:null!==y&&void 0!==y&&y.title?null===y||void 0===y?void 0:y.title:" - "})]}),(0,p.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Related To "}),(0,p.jsx)(i.Text,{children:null!==y&&void 0!==y&&y.category?null===y||void 0===y?void 0:y.category:" - "})]}),(0,p.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task start "}),(0,p.jsx)(i.Text,{children:null!==y&&void 0!==y&&y.start?d()(null===y||void 0===y?void 0:y.start).format("L LT"):" - "})]}),(0,p.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task end  "}),(0,p.jsx)(i.Text,{children:null!==y&&void 0!==y&&y.end?d()(null===y||void 0===y?void 0:y.end).format("L LT"):d()(null===y||void 0===y?void 0:y.start).format("L")})]}),(0,p.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Link "}),null!==y&&void 0!==y&&y.url?(0,p.jsx)("a",{target:"_blank",href:null===y||void 0===y?void 0:y.url,children:(0,p.jsx)(s.IconButton,{borderRadius:"10px",size:"md",icon:(0,p.jsx)(u.o9J,{})})}):"-"]}),(0,p.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task reminder "}),(0,p.jsx)(i.Text,{children:null!==y&&void 0!==y&&y.reminder?null===y||void 0===y?void 0:y.reminder:" - "})]}),(0,p.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" assignment To  "}),null!==y&&void 0!==y&&y.assignTo?(0,p.jsx)(x.N_,{to:(null===b||void 0===b?void 0:b.view)&&`/contactView/${null===y||void 0===y?void 0:y.assignTo}`,children:(0,p.jsx)(i.Text,{color:null!==b&&void 0!==b&&b.view?"blue.500":"blackAlpha.900",sx:{"&:hover":{color:null!==b&&void 0!==b&&b.view?"blue.500":"blackAlpha.900",textDecoration:null!==b&&void 0!==b&&b.view?"underline":"none"}},children:null!==y&&void 0!==y&&y.assignToFullName?null===y||void 0===y?void 0:y.assignToFullName:" - "})}):(0,p.jsx)(x.N_,{to:(null===T||void 0===T?void 0:T.view)&&`/leadView/${null===y||void 0===y?void 0:y.assignToLead}`,children:(0,p.jsx)(i.Text,{color:null!==T&&void 0!==T&&T.view?"blue.500":"blackAlpha.900",sx:{"&:hover":{color:null!==T&&void 0!==T&&T.view?"blue.500":"blackAlpha.900",textDecoration:null!==T&&void 0!==T&&T.view?"underline":"none"}},children:null!==y&&void 0!==y&&y.assignToName?null===y||void 0===y?void 0:y.assignToName:" - "})})]}),(0,p.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task createBy "}),(0,p.jsx)(i.Text,{children:null!==y&&void 0!==y&&y.createByName?null===y||void 0===y?void 0:y.createByName:" - "})]}),(0,p.jsxs)(i.GridItem,{colSpan:{base:12},children:[(0,p.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Description"}),(0,p.jsx)(i.Text,{children:null!==y&&void 0!==y&&y.description?null===y||void 0===y?void 0:y.description:" - "})]}),(0,p.jsxs)(i.GridItem,{colSpan:{base:12},children:[(0,p.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task notes "}),(0,p.jsx)(i.Text,{children:null!==y&&void 0!==y&&y.notes?null===y||void 0===y?void 0:y.notes:" - "})]})]})}),(0,p.jsxs)(n.tb,{children:[((null===f||void 0===f?void 0:f.view)||"superAdmin"===(null===z||void 0===z?void 0:z.role))&&(0,p.jsx)(s.IconButton,{variant:"outline",colorScheme:"green",onClick:()=>(()=>{var e;null!==r&&void 0!==r&&r.event?W(`/view/${null===r||void 0===r||null===(e=r.event)||void 0===e?void 0:e.id}`):W(`/view/${r}`)})(),borderRadius:"10px",size:"md",icon:(0,p.jsx)(o.ViewIcon,{})}),((null===f||void 0===f?void 0:f.update)||"superAdmin"===(null===z||void 0===z?void 0:z.role))&&(0,p.jsx)(s.IconButton,{variant:"outline",onClick:()=>C(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,p.jsx)(o.EditIcon,{})}),((null===f||void 0===f?void 0:f.delete)||"superAdmin"===(null===z||void 0===z?void 0:z.role))&&(0,p.jsx)(s.IconButton,{colorScheme:"red",onClick:()=>I(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,p.jsx)(o.DeleteIcon,{})}),(0,p.jsx)(v.A,{isOpen:A,fetchData:j,onClose:()=>C(!1),userAction:"edit",id:r,setAction:S})]})]})]})]})})}},53186:(e,t,l)=>{l.d(t,{T:()=>d});var o=l(78510),n=l(59522),s=l(23216),i=l(65043);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},a.apply(this,arguments)}var r=["className","rows"],d=(0,n.Rf)((function(e,t){var l=(0,n.Vl)("Textarea",e),d=(0,n.MN)(e),c=d.className,u=d.rows,x=function(e,t){if(null==e)return{};var l,o,n={},s=Object.keys(e);for(o=0;o<s.length;o++)l=s[o],t.indexOf(l)>=0||(n[l]=e[l]);return n}(d,r),h=(0,o.useFormControl)(x),m=u?(0,s.cJ)(l,["h","minH","height","minHeight"]):l;return i.createElement(n.Bv.textarea,a({ref:t,rows:u},h,{className:(0,s.cx)("chakra-textarea",c),__css:m}))}));s.gt&&(d.displayName="Textarea")},99208:(e,t,l)=>{l.r(t),l.d(t,{default:()=>D});var o=l(65043),n=l(14034),s=l(19754),i=l(4450),a=l(85376),r=l(84626),d=l(22554),c=l(79621),u=l(95574),x=l(88031),h=l(63516),m=l(80899),v=l(57360),p=l(78510),j=l(67682),S=l(19488),g=l(43017),f=l(97508),b=l(70579);const T=e=>{const{state:t,allData:l,advanceSearch:o,setAdvanceSearch:n,isLoding:s,setSearchedData:a,setDisplaySearchData:c,setSearchbox:u}=e,x=(0,f.wA)(),T=(0,f.d4)((e=>{var t;return null===e||void 0===e||null===(t=e.advanceSearchData)||void 0===t?void 0:t.searchResult})),y=m.Ik({title:m.Yj(),category:m.Yj(),start:m.p6(),end:m.p6(),leadAddress:m.Yj(),assignToName:m.Yj(),fromLeadScore:m.ai().min(0,"From Lead Score is invalid"),toLeadScore:m.ai().min(m.KR("fromLeadScore"),"To Lead Score must be greater than or equal to From Lead Score")}),k=(0,h.Wx)({initialValues:{title:"",category:"",start:"",end:"",status:"",leadAddress:"",assignToName:"",fromLeadScore:"",toLeadScore:""},validationSchema:y,onSubmit:(e,t)=>{let{resetForm:o}=t;x((0,g.gB)(e)),x((0,g.DW)({values:e,allData:l,type:"Tasks"}));const s=[{name:["title"],value:e.title},{name:["status"],value:e.status},{name:["category"],value:e.category},{name:["assignToName"],value:e.assignToName},{name:["start"],value:e.start},{name:["end"],value:e.end}];x((0,g.Tr)(s.filter((e=>e.value)))),a(T),c(!0),n(!1),o(),u("")}}),{errors:A,touched:C,values:w,handleBlur:I,handleChange:z,handleSubmit:D,setFieldValue:F,resetForm:W,dirty:O}=k;return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(v.aF,{onClose:()=>{n(!1),W()},isOpen:o,isCentered:!0,children:[(0,b.jsx)(v.mH,{}),(0,b.jsxs)(v.$m,{children:[(0,b.jsx)(v.rQ,{children:"Advance Search"}),(0,b.jsx)(v.s_,{onClick:()=>{n(!1),W()}}),(0,b.jsx)(v.cw,{children:(0,b.jsxs)(i.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:2,children:[(0,b.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,b.jsx)(p.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Title"}),(0,b.jsx)(j.Input,{fontSize:"sm",onChange:z,onBlur:I,value:null===w||void 0===w?void 0:w.title,name:"title",placeholder:"Enter Title",fontWeight:"500"}),(0,b.jsxs)(i.Text,{mb:"10px",color:"red",children:[" ",A.title&&C.title&&A.title]})]}),(0,b.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,b.jsx)(p.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Status"}),(0,b.jsxs)(r.l6,{value:null===w||void 0===w?void 0:w.status,fontSize:"sm",name:"status",onChange:z,fontWeight:"500",children:[!t&&(0,b.jsx)("option",{value:"",children:"Select Status"}),(0,b.jsx)("option",{value:"completed",children:"Completed"}),(0,b.jsx)("option",{value:"todo",children:"Todo"}),(0,b.jsx)("option",{value:"pending",children:"Pending"}),(0,b.jsx)("option",{value:"inProgress",children:"In Progress"}),(0,b.jsx)("option",{value:"onHold",children:"On Hold"})]}),(0,b.jsxs)(i.Text,{mb:"10px",color:"red",children:[" ",A.status&&C.status&&A.status]})]}),(0,b.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,b.jsx)(p.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Related"}),(0,b.jsxs)(r.l6,{value:null===w||void 0===w?void 0:w.category,fontSize:"sm",name:"category",onChange:z,fontWeight:"500",placeholder:"Select Category",children:[(0,b.jsx)("option",{value:"contact",children:"Contact"}),(0,b.jsx)("option",{value:"lead",children:"Lead"}),(0,b.jsx)("option",{value:"none",children:"None"})]}),(0,b.jsxs)(i.Text,{mb:"10px",color:"red",children:[" ",A.category&&C.category&&A.category]})]}),(0,b.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,b.jsx)(p.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Assign To"}),(0,b.jsx)(j.Input,{fontSize:"sm",onChange:z,onBlur:I,value:null===w||void 0===w?void 0:w.assignToName,name:"assignToName",placeholder:"Enter Assign To",fontWeight:"500"}),(0,b.jsxs)(i.Text,{mb:"10px",color:"red",children:[" ",A.assignToName&&C.assignToName&&A.assignToName]})]}),(0,b.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,b.jsx)(p.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Start Date"}),(0,b.jsx)(j.Input,{fontSize:"sm",onChange:z,onBlur:I,value:null===w||void 0===w?void 0:w.start,name:"start",type:"date",placeholder:"Enter Start Date",fontWeight:"500"}),(0,b.jsxs)(i.Text,{mb:"10px",color:"red",children:[" ",A.start&&C.start&&A.start]})]}),(0,b.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,b.jsx)(p.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"End Date"}),(0,b.jsx)(j.Input,{fontSize:"sm",type:"date",onChange:z,onBlur:I,value:null===w||void 0===w?void 0:w.end,min:null===w||void 0===w?void 0:w.start,name:"end",placeholder:"Enter  End Date",fontWeight:"500"}),(0,b.jsxs)(i.Text,{mb:"10px",color:"red",children:[" ",A.end&&C.end&&A.end]})]})]})}),(0,b.jsxs)(v.jl,{children:[(0,b.jsx)(d.Button,{size:"sm",variant:"brand",mr:2,onClick:D,disabled:!(!s&&O),children:s?(0,b.jsx)(S.A,{}):"Search"}),(0,b.jsx)(d.Button,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>W(),children:"Clear"})]})]})]})})};var y=l(17368),k=(l(52942),l(25259)),A=l(73216),C=l(48177),w=l(1887),I=l(3616),z=l(47503);const D=()=>{const[e,t]=(0,o.useState)(!1),{isOpen:l,onOpen:h,onClose:m}=(0,s.j1)(),[v,p]=(0,o.useState)(!1),[j,S]=(0,o.useState)(!1),[g,D]=(0,o.useState)(""),[F,W]=(0,o.useState)(),[O,L]=(0,o.useState)([]),[N,G]=(0,o.useState)(!1),[B,H]=(0,o.useState)([]),[V,_]=(0,o.useState)(""),[E,P]=(JSON.parse(localStorage.getItem("user")),(0,o.useState)(!1)),[R,$]=(0,o.useState)(!1),[U,J]=(0,o.useState)(!1),[M,Y]=(0,o.useState)([]),[Q,Z]=(0,o.useState)(!1),[q,K]=(0,o.useState)([]),[X,ee]=(0,o.useState)(""),[te,le,oe]=(0,u.h)(["Tasks","Leads","Contacts"]),ne=(0,A.zy)().state,se=(0,A.Zp)(),ie=(0,f.wA)();console.log("displaySearchData----::",Q);const ae={Header:"Action",isSortable:!1,center:!0,cell:e=>{let{row:t}=e;return(0,b.jsx)(i.Text,{fontSize:"md",fontWeight:"900",textAlign:"center",children:(0,b.jsxs)(a.W1,{isLazy:!0,children:[(0,b.jsx)(a.IU,{children:(0,b.jsx)(y.txp,{})}),(0,b.jsxs)(a.cO,{minW:"fit-content",transform:"translate(1520px, 173px);",children:[(null===te||void 0===te?void 0:te.update)&&(0,b.jsx)(a.Dr,{py:2.5,icon:(0,b.jsx)(n.EditIcon,{fontSize:15,mb:1}),onClick:()=>(e=>{var t;h(),ee("edit"),W(null===e||void 0===e||null===(t=e.values)||void 0===t?void 0:t._id)})(t),children:"Edit"}),(null===te||void 0===te?void 0:te.view)&&(0,b.jsx)(a.Dr,{py:2.5,color:"green",icon:(0,b.jsx)(n.ViewIcon,{mb:1,fontSize:15}),onClick:()=>{var e;D(null===t||void 0===t?void 0:t.original._id),xe(null===t||void 0===t||null===(e=t.values)||void 0===e?void 0:e._id)},children:"View"}),(null===te||void 0===te?void 0:te.delete)&&(0,b.jsx)(a.Dr,{py:2.5,color:"red",icon:(0,b.jsx)(n.DeleteIcon,{fontSize:15,mb:1}),onClick:()=>{var e;P(!0),L([null===t||void 0===t||null===(e=t.values)||void 0===e?void 0:e._id])},children:"Delete"})]})]})})}},re=[{Header:"#",accessor:"_id",isSortable:!1,width:5},{Header:"Title",accessor:"title",type:"text",formikType:"",cell:e=>(0,b.jsx)("div",{className:"selectOpt",children:(0,b.jsx)(i.Text,{onClick:()=>{var t;return xe(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.original._id)},me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"},cursor:"pointer"},color:"brand.600",fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value})})},{Header:"Related",accessor:"category",type:"text",formikType:""},{Header:"Status",accessor:"status",type:"select",formikType:"",cell:e=>(0,b.jsx)("div",{className:"selectOpt",children:(0,b.jsxs)(r.l6,{className:ue(e),onChange:t=>ce(e,t),height:7,width:130,value:null===e||void 0===e?void 0:e.value,style:{fontSize:"14px"},children:[(0,b.jsx)("option",{value:"completed",children:"Completed"}),(0,b.jsx)("option",{value:"todo",children:"Todo"}),(0,b.jsx)("option",{value:"onHold",children:"On Hold"}),(0,b.jsx)("option",{value:"inProgress",children:"In Progress"}),(0,b.jsx)("option",{value:"pending",children:"Pending"})]})})},{Header:"Assign To",accessor:"assignToName",type:"text",formikType:""},{Header:"Start Date",accessor:"start",type:"date",formikType:""},{Header:"End Date",accessor:"end",type:"date",formikType:""},...null!==te&&void 0!==te&&te.update||null!==te&&void 0!==te&&te.view||null!==te&&void 0!==te&&te.delete?[ae]:[]],de=async()=>{J(!0);const e=await ie((0,I.o)());var t;200===e.payload.status?Y(null===e||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.data):z.oR.error("Failed to fetch data","error");J(!1)},ce=async(e,l)=>{try{var o,n;J(!0),200===(await(0,c.yP)(`api/task/changeStatus/${null===e||void 0===e||null===(o=e.row)||void 0===o||null===(n=o.original)||void 0===n?void 0:n._id}`,{status:l.target.value})).status&&t((e=>!e))}catch(l){console.log(l)}finally{J(!1)}},ue=e=>{switch(e.value){case"pending":return"pending";case"completed":return"completed";case"todo":return"toDo";case"onHold":return"onHold";case"inProgress":return"inProgress";default:return""}},xe=e=>{se(`/view/${e}`)};return(0,o.useEffect)((()=>{de()}),[e]),(0,b.jsxs)("div",{children:[(0,b.jsx)(x.A,{title:"Tasks",isLoding:U,columnData:null!==re&&void 0!==re?re:[],allData:null!==M&&void 0!==M?M:[],searchDisplay:Q,setSearchDisplay:Z,searchedDataOut:q,setSearchedDataOut:K,tableCustomFields:[],access:te,state:ne,onOpen:()=>{h(),ee("add")},selectedValues:O,setSelectedValues:L,setDelete:P,AdvanceSearch:(0,b.jsx)(d.Button,{variant:"outline",colorScheme:"brand",leftIcon:(0,b.jsx)(n.SearchIcon,{}),mt:{sm:"5px",md:"0"},size:"sm",onClick:()=>G(!0),children:"Advance Search"}),getTagValuesOutSide:B,searchboxOutside:V,setGetTagValuesOutside:H,setSearchboxOutside:_,handleSearchType:"TasksSearch"}),(0,b.jsx)(T,{advanceSearch:N,setAdvanceSearch:G,state:ne,setSearchedData:K,setDisplaySearchData:Z,allData:null!==M&&void 0!==M?M:[],setAction:t,setGetTagValues:H,setSearchbox:_}),(0,b.jsx)(w.A,{isOpen:l,fetchData:de,onClose:()=>{m(),W("")},userAction:X,id:F,setAction:t}),(0,b.jsx)(C.A,{isOpen:E,onClose:()=>P(!1),type:"Tasks",handleDeleteData:async e=>{try{J(!0),200===(await(0,c.Vn)("api/task/deleteMany",e)).status&&(L([]),P(!1),t((e=>!e)))}catch(l){console.log(l)}finally{J(!1)}},ids:O}),(0,b.jsx)(k.A,{text:"Lead file",fetchData:de,isOpen:R,onClose:$})]})}}}]);
//# sourceMappingURL=2855.d283ad22.chunk.js.map