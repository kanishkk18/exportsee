"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[1404],{1089:(e,a,l)=>{l.d(a,{cn:()=>r});var s=l(58387),t=l(89359);function r(){for(var e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return(0,t.QP)((0,s.$)(a))}},3972:(e,a,l)=>{l.d(a,{A:()=>u});var s=l(65043),t=l(97508),r=l(86178),o=l.n(r),d=l(22019),i=l(31899),n=l.n(i),c=(l(25015),l(79621)),m=l(70579);const u=e=>{var a,l;let{dashboard:r=!1}=e;const[i,u]=(0,s.useState)({}),[x,p]=(0,s.useState)(new Date((new Date).setDate((new Date).getDate()-14))),[f,v]=(0,s.useState)(new Date),[h,w]=(0,s.useState)("all"),[g,b]=(0,s.useState)("day"),y=(0,t.d4)((e=>{var a;return null===e||void 0===e||null===(a=e.modules)||void 0===a?void 0:a.data})),N=JSON.parse(localStorage.getItem("user")),j=null===y||void 0===y||null===(a=y.find((e=>"Emails"===(null===e||void 0===e?void 0:e.moduleName))))||void 0===a?void 0:a.isActive,C=null===y||void 0===y||null===(l=y.find((e=>"Calls"===(null===e||void 0===e?void 0:e.moduleName))))||void 0===l?void 0:l.isActive;(0,s.useEffect)((()=>{(async()=>{const e={startDate:o()(x).format("YYYY-MM-DD"),endDate:o()(f).format("YYYY-MM-DD"),filter:g},a=await(0,c.d_)("superAdmin"===N.role?"api/reporting/index":`api/reporting/index?sender=${N._id}`,e);200===a.status&&u(null===a||void 0===a?void 0:a.data)})()}),[x,f,g]);const D=Object.keys(i).map((e=>{const a=i[e][0];let l=[];var s,t;null!==a&&void 0!==a&&a.Emails&&j&&(l=l.concat(null===a||void 0===a||null===(s=a.Emails)||void 0===s?void 0:s.map((e=>({x:new Date(null===e||void 0===e?void 0:e.date).getTime(),y:null===e||void 0===e?void 0:e.Emailcount})))));null!==a&&void 0!==a&&a.Calls&&C&&(l=l.concat(null===a||void 0===a||null===(t=a.Calls)||void 0===t?void 0:t.map((e=>({x:new Date(null===e||void 0===e?void 0:e.date).getTime(),y:null===e||void 0===e?void 0:e.Callcount})))));return{name:"Email"===e?"Emails":"Call"===e?"Calls":"",data:l}})).filter((e=>""!==e.name)),S="all"===h?D:D.filter((e=>e.name===h));return(0,m.jsx)("div",{className:"bg-white/10 w-full rounded-lg shadow-md overflow-hidden",children:(0,m.jsxs)("div",{className:"p-6",children:[(0,m.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Activity Report"}),(0,m.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Overview of emails and calls over time"}),!r&&(0,m.jsxs)("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0 mb-6",children:[(0,m.jsxs)("select",{value:h,onChange:e=>w(e.target.value),className:"w-full md:w-40 px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,m.jsx)("option",{value:"all",children:"All"}),(0,m.jsx)("option",{value:"Email",children:"Emails"}),(0,m.jsx)("option",{value:"Call",children:"Calls"})]}),(0,m.jsxs)("div",{className:"flex space-x-2",children:[(0,m.jsx)(n(),{selected:x,onChange:e=>p(e),className:"w-40 px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,m.jsx)(n(),{selected:f,onChange:e=>v(e),className:"w-40 px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,m.jsxs)("div",{className:"flex space-x-4",children:[(0,m.jsxs)("label",{className:"inline-flex items-center",children:[(0,m.jsx)("input",{type:"radio",className:"form-radio text-blue-600",name:"interval",value:"day",checked:"day"===g,onChange:e=>b(e.target.value)}),(0,m.jsx)("span",{className:"ml-2 text-gray-700",children:"Daily"})]}),(0,m.jsxs)("label",{className:"inline-flex items-center",children:[(0,m.jsx)("input",{type:"radio",className:"form-radio text-blue-600",name:"interval",value:"week",checked:"week"===g,onChange:e=>b(e.target.value)}),(0,m.jsx)("span",{className:"ml-2 text-gray-700",children:"Weekly"})]})]})]}),(0,m.jsx)("div",{className:"w-full h-[400px]",children:(0,m.jsx)(d.A,{options:{chart:{id:"area-chart",toolbar:{show:!1},zoom:{enabled:!1}},xaxis:{type:"datetime",labels:{style:{colors:"#64748b",fontSize:"12px"}}},yaxis:{title:{text:"Count",style:{color:"#64748b",fontSize:"14px",fontWeight:500}},labels:{style:{colors:"#64748b",fontSize:"12px"}}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#3b82f6","#10b981"],fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.3,stops:[0,90,100]}},tooltip:{x:{format:"dd MMM yyyy"}},legend:{position:"top",horizontalAlign:"right",labels:{colors:"#64748b"}}},series:S,type:"area",height:"100%"})})]})})}},41404:(e,a,l)=>{l.r(a),l.d(a,{default:()=>m});var s=l(65043),t=(l(25015),l(79621)),r=l(3972),o=l(88031),d=l(70579);const i=()=>(0,d.jsxs)("div",{className:"relative flex w-full flex-col rounded-[20px] bg-cover px-[30px] py-[40px] md:px-[64px] md:py-[66px] overflow-hidden",children:[(0,d.jsx)("video",{src:"https://cdn.pixabay.com/video/2019/06/07/24255-341474048_large.mp4",className:"absolute top-0 left-0 w-full h-full object-cover ",autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),(0,d.jsxs)("div",{className:"relative w-full",children:[(0,d.jsx)("h4",{className:"mb-[14px] max-w-full text-xl font-bold text-white md:w-[64%] md:text-3xl md:leading-[42px] lg:w-[46%] xl:w-[85%] 2xl:w-[75%] 3xl:w-[52%]",children:"Discover, collect, and Export with Exportseese"}),(0,d.jsx)("p",{className:"mb-[40px] max-w-full text-base font-medium text-white md:w-[64%] lg:w-[40%] xl:w-[72%] 2xl:w-[60%] 3xl:w-[45%]",children:"Enter in this creative world of Exportseese that allows you to discover, collect, and export your favorite products."})]})]});var n=l(1089);const c=s.forwardRef(((e,a)=>{let{className:l,...s}=e;return(0,d.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",l),...s})}));c.displayName="Card";s.forwardRef(((e,a)=>{let{className:l,...s}=e;return(0,d.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",l),...s})})).displayName="CardHeader";s.forwardRef(((e,a)=>{let{className:l,...s}=e;return(0,d.jsx)("h3",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",l),...s})})).displayName="CardTitle";s.forwardRef(((e,a)=>{let{className:l,...s}=e;return(0,d.jsx)("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",l),...s})})).displayName="CardDescription";s.forwardRef(((e,a)=>{let{className:l,...s}=e;return(0,d.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",l),...s})})).displayName="CardContent";s.forwardRef(((e,a)=>{let{className:l,...s}=e;return(0,d.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",l),...s})})).displayName="CardFooter";const m=()=>{const[e,a]=(0,s.useState)([]),[l,n]=(0,s.useState)(!1),[m,u]=(0,s.useState)([]),x=JSON.parse(localStorage.getItem("user")),p=[{Header:"Email Sent",accessor:"emailsent"},{Header:"Outbound Calls",accessor:"outboundcall"}];"superAdmin"===x.role&&p.unshift({Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Name",accessor:"firstName"});return(0,s.useEffect)((()=>{(async()=>{n(!0);let e=await(0,t.x4)("superAdmin"===x.role?"api/reporting":`api/reporting?_id=${x._id}`);e&&200===e.status&&a(null===e||void 0===e?void 0:e.data),n(!1)})()}),[]),(0,d.jsx)("div",{className:"p-8 bg-white rounded-[20px]",children:(0,d.jsxs)("div",{className:"mt-6 grid h-full grid-cols-1 gap-5 xl:grid-cols-2 2xl:grid-cols-3",children:[(0,d.jsxs)("div",{className:"col-span-1 h-fit w-full xl:col-span-1 2xl:col-span-2",children:[(0,d.jsx)(i,{}),(0,d.jsxs)(c,{className:"min-w-[57vw] rounded-xl flex p-4 mt-6",children:[" ",(0,d.jsx)(r.A,{})]})]}),(0,d.jsx)("div",{className:"col-span-1  space-y-6  w-full rounded-2xl 2xl:col-span-1",children:(0,d.jsx)(c,{mt:4,mb:4,className:"shadow-sm rounded-2xl",children:(0,d.jsx)(o.A,{title:"Reports",isLoding:l,columnData:null!==p&&void 0!==p?p:[],allData:null!==e&&void 0!==e?e:[],tableData:e,AdvanceSearch:!1,checkBox:!1,tableCustomFields:[],deleteMany:!0})})})]})})}}}]);
//# sourceMappingURL=1404.954fc2a9.chunk.js.map