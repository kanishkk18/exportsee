"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[2958],{92958:(e,l,t)=>{t.r(l),t.d(l,{default:()=>T});var i=t(4450),n=t(22554),d=t(10216),o=t(63994),a=t(19488),s=t(86178),r=t.n(s),c=t(65043),m=t(34960),h=t(73216),x=t(35475),u=t(95574),v=t(79621),j=t(14034),p=t(48177),b=t(85369),f=t(90074),g=t.n(f),S=t(70579);const T=()=>{const e=(0,h.g)(),[l,t]=(0,c.useState)(),[s,f]=(0,c.useState)(!1),T=JSON.parse(localStorage.getItem("user")),[y,I]=(0,c.useState)(!1),[k,D]=(0,c.useState)(!1),A=(0,h.Zp)(),w=(0,h.g)();(0,c.useEffect)((()=>{(async()=>{I(!0);let l=await(0,v.x4)("api/meeting/view/",e.id);t(null===l||void 0===l?void 0:l.data),I(!1)})()}),[]);const[C,G,N]=(0,u.h)(["Meetings","Contacts","Leads"]);return(0,S.jsxs)(S.Fragment,{children:[y?(0,S.jsx)(i.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,S.jsx)(a.A,{})}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(i.Grid,{templateColumns:"repeat(4, 1fr)",gap:3,id:"reports",children:[(0,S.jsx)(i.GridItem,{colSpan:{base:4},children:(0,S.jsx)(i.Heading,{size:"lg",m:3,children:(null===l||void 0===l?void 0:l.agenda)||""})}),(0,S.jsx)(i.GridItem,{colSpan:{base:4},children:(0,S.jsx)(d.A,{children:(0,S.jsxs)(i.Grid,{gap:4,children:[(0,S.jsx)(i.GridItem,{colSpan:2,children:(0,S.jsxs)(i.Box,{children:[(0,S.jsxs)(i.Flex,{justifyContent:"space-between",children:[(0,S.jsx)(i.Heading,{size:"md",mb:3,children:"Meeting Details"}),(0,S.jsxs)(i.Box,{id:"hide-btn",children:[(0,S.jsx)(n.Button,{leftIcon:(0,S.jsx)(b.kl1,{}),size:"sm",variant:"brand",onClick:()=>{D(!0);const e=document.getElementById("reports"),l=document.getElementById("hide-btn");e?(l.style.display="none",g()().from(e).set({margin:[0,0,0,0],filename:`Meeting_Details_${r()().format("DD-MM-YYYY")}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,allowTaint:!0},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).save().then((()=>{D(!1),l.style.display=""}))):(console.error("Element with ID 'reports' not found."),D(!1))},disabled:k,children:k?"Please Wait...":"Print as PDF"}),(0,S.jsx)(n.Button,{leftIcon:(0,S.jsx)(m.m6W,{}),size:"sm",variant:"brand",onClick:()=>A(-1),style:{marginLeft:10},children:"Back"})]})]}),(0,S.jsx)(o.E,{})]})}),(0,S.jsxs)(i.GridItem,{colSpan:{base:2,md:1},children:[(0,S.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Agenda "}),(0,S.jsx)(i.Text,{children:null!==l&&void 0!==l&&l.agenda?null===l||void 0===l?void 0:l.agenda:" - "})]}),(0,S.jsxs)(i.GridItem,{colSpan:{base:2,md:1},children:[(0,S.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Created By "}),(0,S.jsx)(i.Text,{children:null!==l&&void 0!==l&&l.createdByName?null===l||void 0===l?void 0:l.createdByName:" - "})]}),(0,S.jsxs)(i.GridItem,{colSpan:{base:2,md:1},children:[(0,S.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" DateTime "}),(0,S.jsxs)(i.Text,{children:[" ",null!==l&&void 0!==l&&l.dateTime?r()(null===l||void 0===l?void 0:l.dateTime).format("DD-MM-YYYY  h:mma "):" - "," [",null!==l&&void 0!==l&&l.dateTime?r()(null===l||void 0===l?void 0:l.dateTime).toNow():" - ","]"]})]}),(0,S.jsxs)(i.GridItem,{colSpan:{base:2,md:1},children:[(0,S.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Timestamp "}),(0,S.jsxs)(i.Text,{children:[" ",null!==l&&void 0!==l&&l.timestamp?r()(null===l||void 0===l?void 0:l.timestamp).format("DD-MM-YYYY  h:mma "):" - "," [",null!==l&&void 0!==l&&l.timestamp?r()(null===l||void 0===l?void 0:l.timestamp).toNow():" - ","]"]})]}),(0,S.jsxs)(i.GridItem,{colSpan:{base:2,md:1},children:[(0,S.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Location "}),(0,S.jsx)(i.Text,{children:null!==l&&void 0!==l&&l.location?null===l||void 0===l?void 0:l.location:" - "})]}),(0,S.jsxs)(i.GridItem,{colSpan:{base:2,md:1},children:[(0,S.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:"  Notes "}),(0,S.jsx)(i.Text,{children:null!==l&&void 0!==l&&l.notes?null===l||void 0===l?void 0:l.notes:" - "})]}),(0,S.jsxs)(i.GridItem,{colSpan:{base:2,md:1},children:[(0,S.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Attendes "}),"Contact"===(null===l||void 0===l?void 0:l.related)&&null!==G&&void 0!==G&&G.view?(null===l||void 0===l?void 0:l.attendes)&&(null===l||void 0===l?void 0:l.attendes.map((e=>(0,S.jsx)(x.N_,{to:`/contactView/${e._id}`,children:(0,S.jsx)(i.Text,{color:"brand.600",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},children:e.firstName+" "+e.lastName})})))):"Lead"===(null===l||void 0===l?void 0:l.related)&&null!==N&&void 0!==N&&N.view?(null===l||void 0===l?void 0:l.attendesLead)&&(null===l||void 0===l?void 0:l.attendesLead.map((e=>(0,S.jsx)(x.N_,{to:`/leadView/${e._id}`,children:(0,S.jsx)(i.Text,{color:"brand.600",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},children:e.leadName})})))):"contact"===(null===l||void 0===l?void 0:l.related)?(null===l||void 0===l?void 0:l.attendes)&&(null===l||void 0===l?void 0:l.attendes.map((e=>(0,S.jsx)(i.Text,{color:"blackAlpha.900",children:e.firstName+" "+e.lastName})))):"lead"===(null===l||void 0===l?void 0:l.related)?(null===l||void 0===l?void 0:l.attendesLead)&&(null===l||void 0===l?void 0:l.attendesLead.map((e=>(0,S.jsx)(i.Text,{color:"blackAlpha.900",children:e.leadName})))):"-"]})]})})})]}),("superAdmin"===T.role||(null===C||void 0===C?void 0:C.update)||(null===C||void 0===C?void 0:C.delete))&&(0,S.jsx)(d.A,{mt:3,children:(0,S.jsx)(i.Grid,{templateColumns:"repeat(6, 1fr)",gap:1,children:(0,S.jsx)(i.GridItem,{colStart:6,children:(0,S.jsx)(i.Flex,{justifyContent:"right",children:"superAdmin"===T.role||null!==C&&void 0!==C&&C.delete?(0,S.jsx)(n.Button,{size:"sm",style:{background:"red.800"},onClick:()=>f(!0),leftIcon:(0,S.jsx)(j.DeleteIcon,{}),colorScheme:"red",children:"Delete"}):""})})})})]}),(0,S.jsx)(p.A,{isOpen:s,onClose:()=>f(!1),type:"Meetings",handleDeleteData:async e=>{try{I(!0),200===(await(0,v.Gx)("api/meeting/delete/",w.id)).status&&(f(!1),A(-1))}catch(l){console.log(l)}finally{I(!1)}},ids:w.id})]})}}}]);
//# sourceMappingURL=2958.444afd2a.chunk.js.map