"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[1888],{52942:(e,l,i)=>{i.d(l,{A:()=>p});var n=i(14034),t=i(57360),o=i(22554),d=i(4450),s=i(19488),a=i(86178),c=i.n(a),r=i(65043),v=i(67805),x=i(35475),u=i(79621),h=i(73216),m=i(1887),j=i(70579);const p=e=>{const{onClose:l,isOpen:i,id:a,fetchData:p,setAction:b,action:f,access:S,contactAccess:g,leadAccess:T}=e,[k,I]=(0,r.useState)(),[A,w]=(0,r.useState)(!1),[C,z]=(0,r.useState)(!1),y=JSON.parse(localStorage.getItem("user")),[N,G]=(0,r.useState)(!1),D=(0,h.Zp)();(0,r.useEffect)((()=>{(async()=>{if(a){var e;G(!0);let l=await(0,u.x4)("api/task/view/",null!==a&&void 0!==a&&a.event?null===a||void 0===a||null===(e=a.event)||void 0===e?void 0:e.id:a);I(null===l||void 0===l?void 0:l.data),G(!1)}})()}),[f,a]);return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(t.aF,{isOpen:i,size:"md",isCentered:!0,children:[(0,j.jsx)(t.mH,{}),(0,j.jsxs)(t.$m,{children:[(0,j.jsxs)(t.rQ,{justifyContent:"space-between",display:"flex",children:["Task",(0,j.jsx)(o.IconButton,{onClick:()=>l(!1),icon:(0,j.jsx)(n.CloseIcon,{})})]}),N?(0,j.jsx)(d.Flex,{justifyContent:"center",alignItems:"center",mb:30,width:"100%",children:(0,j.jsx)(s.A,{})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(t.cw,{children:(0,j.jsxs)(d.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,j.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,j.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Title "}),(0,j.jsx)(d.Text,{children:null!==k&&void 0!==k&&k.title?null===k||void 0===k?void 0:k.title:" - "})]}),(0,j.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,j.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Related To "}),(0,j.jsx)(d.Text,{children:null!==k&&void 0!==k&&k.category?null===k||void 0===k?void 0:k.category:" - "})]}),(0,j.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,j.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task start "}),(0,j.jsx)(d.Text,{children:null!==k&&void 0!==k&&k.start?c()(null===k||void 0===k?void 0:k.start).format("L LT"):" - "})]}),(0,j.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,j.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task end  "}),(0,j.jsx)(d.Text,{children:null!==k&&void 0!==k&&k.end?c()(null===k||void 0===k?void 0:k.end).format("L LT"):c()(null===k||void 0===k?void 0:k.start).format("L")})]}),(0,j.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,j.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Link "}),null!==k&&void 0!==k&&k.url?(0,j.jsx)("a",{target:"_blank",href:null===k||void 0===k?void 0:k.url,children:(0,j.jsx)(o.IconButton,{borderRadius:"10px",size:"md",icon:(0,j.jsx)(v.o9J,{})})}):"-"]}),(0,j.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,j.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task reminder "}),(0,j.jsx)(d.Text,{children:null!==k&&void 0!==k&&k.reminder?null===k||void 0===k?void 0:k.reminder:" - "})]}),(0,j.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,j.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" assignment To  "}),null!==k&&void 0!==k&&k.assignTo?(0,j.jsx)(x.N_,{to:(null===g||void 0===g?void 0:g.view)&&`/contactView/${null===k||void 0===k?void 0:k.assignTo}`,children:(0,j.jsx)(d.Text,{color:null!==g&&void 0!==g&&g.view?"blue.500":"blackAlpha.900",sx:{"&:hover":{color:null!==g&&void 0!==g&&g.view?"blue.500":"blackAlpha.900",textDecoration:null!==g&&void 0!==g&&g.view?"underline":"none"}},children:null!==k&&void 0!==k&&k.assignToFullName?null===k||void 0===k?void 0:k.assignToFullName:" - "})}):(0,j.jsx)(x.N_,{to:(null===T||void 0===T?void 0:T.view)&&`/leadView/${null===k||void 0===k?void 0:k.assignToLead}`,children:(0,j.jsx)(d.Text,{color:null!==T&&void 0!==T&&T.view?"blue.500":"blackAlpha.900",sx:{"&:hover":{color:null!==T&&void 0!==T&&T.view?"blue.500":"blackAlpha.900",textDecoration:null!==T&&void 0!==T&&T.view?"underline":"none"}},children:null!==k&&void 0!==k&&k.assignToName?null===k||void 0===k?void 0:k.assignToName:" - "})})]}),(0,j.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,j.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task createBy "}),(0,j.jsx)(d.Text,{children:null!==k&&void 0!==k&&k.createByName?null===k||void 0===k?void 0:k.createByName:" - "})]}),(0,j.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,j.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Description"}),(0,j.jsx)(d.Text,{children:null!==k&&void 0!==k&&k.description?null===k||void 0===k?void 0:k.description:" - "})]}),(0,j.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,j.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task notes "}),(0,j.jsx)(d.Text,{children:null!==k&&void 0!==k&&k.notes?null===k||void 0===k?void 0:k.notes:" - "})]})]})}),(0,j.jsxs)(t.tb,{children:[((null===S||void 0===S?void 0:S.view)||"superAdmin"===(null===y||void 0===y?void 0:y.role))&&(0,j.jsx)(o.IconButton,{variant:"outline",colorScheme:"green",onClick:()=>(()=>{var e;null!==a&&void 0!==a&&a.event?D(`/view/${null===a||void 0===a||null===(e=a.event)||void 0===e?void 0:e.id}`):D(`/view/${a}`)})(),borderRadius:"10px",size:"md",icon:(0,j.jsx)(n.ViewIcon,{})}),((null===S||void 0===S?void 0:S.update)||"superAdmin"===(null===y||void 0===y?void 0:y.role))&&(0,j.jsx)(o.IconButton,{variant:"outline",onClick:()=>w(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,j.jsx)(n.EditIcon,{})}),((null===S||void 0===S?void 0:S.delete)||"superAdmin"===(null===y||void 0===y?void 0:y.role))&&(0,j.jsx)(o.IconButton,{colorScheme:"red",onClick:()=>z(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,j.jsx)(n.DeleteIcon,{})}),(0,j.jsx)(m.A,{isOpen:A,fetchData:p,onClose:()=>w(!1),userAction:"edit",id:a,setAction:b})]})]})]})]})})}},61888:(e,l,i)=>{i.r(l),i.d(l,{default:()=>y});var n=i(65043),t=i(79621),o=i(27285),d=(i(10216),i(34625)),s=i(7807),a=i(83806),c=i(93924),r=i(3805),v=i(72886),x=i(52942),u=i(14034),h=i(57360),m=i(22554),j=i(4450),p=i(19488),b=i(86178),f=i.n(b),S=i(35475),g=i(73216),T=i(95574),k=i(70579);const I=e=>{const{onClose:l,isOpen:i,info:o,fetchData:d,setAction:s,action:a,access:c}=e,[r,v]=(0,n.useState)(),[x,b]=(0,n.useState)(!1),[I,A]=(0,n.useState)(!1),[w,C]=(JSON.parse(localStorage.getItem("user")),(0,n.useState)(!1)),z=(0,g.Zp)();(0,n.useEffect)((()=>{(async()=>{if(o){var e;C(!0);let l=await(0,t.x4)("api/meeting/view/",null!==o&&void 0!==o&&o.event?null===o||void 0===o||null===(e=o.event)||void 0===e?void 0:e.id:o);v(null===l||void 0===l?void 0:l.data),C(!1)}})()}),[a,o]);const[y,N]=(0,T.h)(["Contacts","Leads"]);return(0,k.jsxs)(h.aF,{isOpen:i,size:"md",isCentered:!0,children:[(0,k.jsx)(h.mH,{}),(0,k.jsxs)(h.$m,{height:"70%",children:[(0,k.jsxs)(h.rQ,{justifyContent:"space-between",display:"flex",children:["Meeting",(0,k.jsx)(m.IconButton,{onClick:()=>l(!1),icon:(0,k.jsx)(u.CloseIcon,{})})]}),w?(0,k.jsx)(j.Flex,{justifyContent:"center",alignItems:"center",mb:30,width:"100%",children:(0,k.jsx)(p.A,{})}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(h.cw,{overflowY:"auto",children:(0,k.jsxs)(j.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,k.jsxs)(j.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(j.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Agenda "}),(0,k.jsx)(j.Text,{children:null!==r&&void 0!==r&&r.agenda?null===r||void 0===r?void 0:r.agenda:" - "})]}),(0,k.jsxs)(j.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(j.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Date&Time  "}),(0,k.jsx)(j.Text,{children:null!==r&&void 0!==r&&r.dateTime?f()(null===r||void 0===r?void 0:r.dateTime).format("lll "):" - "})]}),(0,k.jsxs)(j.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(j.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Created By "}),(0,k.jsx)(j.Text,{children:null!==r&&void 0!==r&&r.createdByName?null===r||void 0===r?void 0:r.createdByName:"-"})]}),(0,k.jsxs)(j.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(j.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Related "}),(0,k.jsx)(j.Text,{children:null!==r&&void 0!==r&&r.related?null===r||void 0===r?void 0:r.related:"-"})]}),(0,k.jsxs)(j.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(j.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Location "}),(0,k.jsx)(j.Text,{children:null!==r&&void 0!==r&&r.location?null===r||void 0===r?void 0:r.location:"-"})]}),(0,k.jsxs)(j.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(j.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Notes "}),(0,k.jsx)(j.Text,{children:null!==r&&void 0!==r&&r.notes?null===r||void 0===r?void 0:r.notes:"-"})]}),(0,k.jsxs)(j.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(j.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" attendes "}),"Contact"===(null===r||void 0===r?void 0:r.related)&&null!==y&&void 0!==y&&y.view?(null===r||void 0===r?void 0:r.attendes)&&(null===r||void 0===r?void 0:r.attendes.map((e=>(0,k.jsx)(S.N_,{to:`/contactView/${e._id}`,children:(0,k.jsx)(j.Text,{color:"brand.600",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},children:e.firstName+" "+e.lastName})})))):"Lead"===(null===r||void 0===r?void 0:r.related)&&null!==N&&void 0!==N&&N.view?(null===r||void 0===r?void 0:r.attendesLead)&&(null===r||void 0===r?void 0:r.attendesLead.map((e=>(0,k.jsx)(S.N_,{to:`/leadView/${e._id}`,children:(0,k.jsx)(j.Text,{color:"brand.600",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},children:e.leadName})})))):"Contact"===(null===r||void 0===r?void 0:r.related)?(null===r||void 0===r?void 0:r.attendes)&&(null===r||void 0===r?void 0:r.attendes.map((e=>(0,k.jsx)(j.Text,{color:"blackAlpha.900",children:e.firstName+" "+e.lastName})))):"Lead"===(null===r||void 0===r?void 0:r.related)?(null===r||void 0===r?void 0:r.attendesLead)&&(null===r||void 0===r?void 0:r.attendesLead.map((e=>(0,k.jsx)(j.Text,{color:"blackAlpha.900",children:e.leadName})))):"-"]})]})}),(0,k.jsxs)(h.tb,{children:[(null===c||void 0===c?void 0:c.view)&&(0,k.jsx)(m.IconButton,{variant:"outline",colorScheme:"green",onClick:()=>(()=>{var e;null!==o&&void 0!==o&&o.event?z(`/view/${null===o||void 0===o||null===(e=o.event)||void 0===e?void 0:e.id}`):z(`/view/${o}`)})(),borderRadius:"10px",size:"md",icon:(0,k.jsx)(u.ViewIcon,{})}),(null===c||void 0===c?void 0:c.update)&&(0,k.jsx)(m.IconButton,{variant:"outline",onClick:()=>b(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,k.jsx)(u.EditIcon,{})}),(null===c||void 0===c?void 0:c.delete)&&(0,k.jsx)(m.IconButton,{colorScheme:"red",onClick:()=>A(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,k.jsx)(u.DeleteIcon,{})})]})]})]})]})},A=e=>{const{onClose:l,isOpen:i,info:o,action:d,access:s}=e,[a,c]=(0,n.useState)(),[r,v]=(0,n.useState)(!1),[x,b]=(0,n.useState)(!1),[S,T]=(JSON.parse(localStorage.getItem("user")),(0,n.useState)(!1)),I=(0,g.Zp)();(0,n.useEffect)((()=>{(async()=>{if(o){var e;T(!0);let l=await(0,t.x4)("api/phoneCall/view/",null!==o&&void 0!==o&&o.event?null===o||void 0===o||null===(e=o.event)||void 0===e?void 0:e.id:o);c(null===l||void 0===l?void 0:l.data),T(!1)}})()}),[d,o]);return(0,k.jsxs)(h.aF,{isOpen:i,size:"md",isCentered:!0,children:[(0,k.jsx)(h.mH,{}),(0,k.jsxs)(h.$m,{children:[(0,k.jsxs)(h.rQ,{justifyContent:"space-between",display:"flex",children:["Call",(0,k.jsx)(m.IconButton,{onClick:()=>l(!1),icon:(0,k.jsx)(u.CloseIcon,{})})]}),S?(0,k.jsx)(j.Flex,{justifyContent:"center",alignItems:"center",mb:30,width:"100%",children:(0,k.jsx)(p.A,{})}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(h.cw,{children:(0,k.jsxs)(j.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,k.jsxs)(j.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(j.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Recipient "}),(0,k.jsx)(j.Text,{children:null!==a&&void 0!==a&&a.recipient?null===a||void 0===a?void 0:a.recipient:" - "})]}),(0,k.jsxs)(j.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(j.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Sender Name  "}),(0,k.jsx)(j.Text,{children:null!==a&&void 0!==a&&a.senderName?null===a||void 0===a?void 0:a.senderName:"-"})]}),(0,k.jsxs)(j.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(j.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Start Date "}),(0,k.jsx)(j.Text,{children:null!==a&&void 0!==a&&a.startDate?f()(null===a||void 0===a?void 0:a.startDate).format("lll "):" - "})]}),(0,k.jsxs)(j.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(j.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" End Date "}),(0,k.jsx)(j.Text,{children:null!==a&&void 0!==a&&a.endDate?f()(null===a||void 0===a?void 0:a.endDate).format("lll "):" - "})]}),(0,k.jsxs)(j.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(j.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Call Duration"}),(0,k.jsx)(j.Text,{children:null!==a&&void 0!==a&&a.callDuration?null===a||void 0===a?void 0:a.callDuration:"-"})]}),(0,k.jsxs)(j.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(j.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Created By"}),(0,k.jsx)(j.Text,{children:null!==a&&void 0!==a&&a.createByName?null===a||void 0===a?void 0:a.createByName:"-"})]}),(0,k.jsxs)(j.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(j.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Call Notes"}),(0,k.jsx)(j.Text,{children:null!==a&&void 0!==a&&a.callNotes?null===a||void 0===a?void 0:a.callNotes:"-"})]})]})}),(0,k.jsxs)(h.tb,{children:[(null===s||void 0===s?void 0:s.view)&&(0,k.jsx)(m.IconButton,{variant:"outline",colorScheme:"green",onClick:()=>(()=>{var e;null!==o&&void 0!==o&&o.event?I(`/view/${null===o||void 0===o||null===(e=o.event)||void 0===e?void 0:e.id}`):I(`/view/${o}`)})(),borderRadius:"10px",size:"md",icon:(0,k.jsx)(u.ViewIcon,{})}),(null===s||void 0===s?void 0:s.update)&&(0,k.jsx)(m.IconButton,{variant:"outline",onClick:()=>v(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,k.jsx)(u.EditIcon,{})}),(null===s||void 0===s?void 0:s.delete)&&(0,k.jsx)(m.IconButton,{colorScheme:"red",onClick:()=>b(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,k.jsx)(u.DeleteIcon,{})})]})]})]})]})},w=e=>{const{onClose:l,isOpen:i,info:o,fetchData:d,setAction:s,action:a,access:c,contactAccess:r,leadAccess:v}=e,[x,b]=(0,n.useState)(),[S,T]=(0,n.useState)(!1),[I,A]=(0,n.useState)(!1),[w,C]=(JSON.parse(localStorage.getItem("user")),(0,n.useState)(!1)),z=(0,g.Zp)();(0,n.useEffect)((()=>{(async()=>{if(o){var e;C(!0);let l=await(0,t.x4)("api/email/view/",null!==o&&void 0!==o&&o.event?null===o||void 0===o||null===(e=o.event)||void 0===e?void 0:e.id:o);b(null===l||void 0===l?void 0:l.data),C(!1)}})()}),[a,o]);return(0,k.jsxs)(h.aF,{isOpen:i,size:"md",isCentered:!0,children:[(0,k.jsx)(h.mH,{}),(0,k.jsxs)(h.$m,{children:[(0,k.jsxs)(h.rQ,{justifyContent:"space-between",display:"flex",children:["Email",(0,k.jsx)(m.IconButton,{onClick:()=>l(!1),icon:(0,k.jsx)(u.CloseIcon,{})})]}),w?(0,k.jsx)(j.Flex,{justifyContent:"center",alignItems:"center",mb:30,width:"100%",children:(0,k.jsx)(p.A,{})}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(h.cw,{children:(0,k.jsxs)(j.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,k.jsxs)(j.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(j.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Recipient "}),(0,k.jsx)(j.Text,{children:null!==x&&void 0!==x&&x.recipient?null===x||void 0===x?void 0:x.recipient:" - "})]}),(0,k.jsxs)(j.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(j.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Sender Email  "}),(0,k.jsx)(j.Text,{children:null!==x&&void 0!==x&&x.senderEmail?null===x||void 0===x?void 0:x.senderEmail:"-"})]}),(0,k.jsxs)(j.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(j.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Start Date "}),(0,k.jsx)(j.Text,{children:null!==x&&void 0!==x&&x.startDate?f()(null===x||void 0===x?void 0:x.startDate).format("lll "):" - "})]}),(0,k.jsxs)(j.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(j.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" End Date "}),(0,k.jsx)(j.Text,{children:null!==x&&void 0!==x&&x.endDate?f()(null===x||void 0===x?void 0:x.endDate).format("lll "):" - "})]}),(0,k.jsxs)(j.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(j.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Subject "}),(0,k.jsx)(j.Text,{children:null!==x&&void 0!==x&&x.subject?null===x||void 0===x?void 0:x.subject:"-"})]}),(0,k.jsxs)(j.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(j.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Message "}),(0,k.jsx)(j.Text,{children:null!==x&&void 0!==x&&x.message?null===x||void 0===x?void 0:x.message:"-"})]})]})}),(0,k.jsxs)(h.tb,{children:[(null===c||void 0===c?void 0:c.view)&&(0,k.jsx)(m.IconButton,{variant:"outline",colorScheme:"green",onClick:()=>(()=>{var e;null!==o&&void 0!==o&&o.event?z(`/view/${null===o||void 0===o||null===(e=o.event)||void 0===e?void 0:e.id}`):z(`/view/${o}`)})(),borderRadius:"10px",size:"md",icon:(0,k.jsx)(u.ViewIcon,{})}),(null===c||void 0===c?void 0:c.update)&&(0,k.jsx)(m.IconButton,{variant:"outline",onClick:()=>T(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,k.jsx)(u.EditIcon,{})}),(null===c||void 0===c?void 0:c.delete)&&(0,k.jsx)(m.IconButton,{colorScheme:"red",onClick:()=>A(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,k.jsx)(u.DeleteIcon,{})})]})]})]})]})};var C=i(1887);const z=e=>{const{data:l,fetchData:i}=e,[t,u]=(0,n.useState)(!1),[h,m]=(0,n.useState)(!1),[j,p]=(0,n.useState)(!1),[b,f]=(0,n.useState)(!1),[S,g]=(0,n.useState)(),[z,y]=(0,n.useState)(),[N,G]=(0,n.useState)(),[D,W]=(0,n.useState)(),[B,O]=(0,n.useState)(),[E,F,R,$]=(0,T.h)(["Tasks","Meetings","Calls","Emails"]),[L,M]=(0,n.useState)(!1),_=JSON.parse(localStorage.getItem("user")),[V,J]=(0,n.useState)("");(0,n.useEffect)((()=>{J("dayGridMonth")}),[]);return(0,k.jsxs)("div",{className:"container mx-auto p-6 bg-gray-50 rounded-lg shadow-lg",children:[(0,k.jsxs)("div",{className:"mb-6",children:[((null===E||void 0===E?void 0:E.view)||"superAdmin"===(null===_||void 0===_?void 0:_.role))&&(0,k.jsx)(C.A,{isOpen:L,onClose:M,fetchData:i,userAction:"add"}),(0,k.jsx)(x.A,{fetchData:i,isOpen:t,onClose:u,info:S}),(0,k.jsx)(I,{fetchData:i,isOpen:h,onClose:m,info:z}),(0,k.jsx)(A,{fetchData:i,isOpen:j,onClose:p,info:N}),(0,k.jsx)(w,{fetchData:i,isOpen:b,onClose:f,info:D})]}),(0,k.jsxs)("div",{className:"flex justify-end space-x-4 mb-4",children:[((null===R||void 0===R?void 0:R.create)||"superAdmin"===(null===_||void 0===_?void 0:_.role))&&(0,k.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[(0,k.jsx)(v.dnm,{className:"text-green-500 text-lg mr-2"})," Calls"]}),((null===F||void 0===F?void 0:F.create)||"superAdmin"===(null===_||void 0===_?void 0:_.role))&&(0,k.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[(0,k.jsx)(v.dnm,{className:"text-red-500 text-lg mr-2"})," Meetings"]}),((null===$||void 0===$?void 0:$.create)||"superAdmin"===(null===_||void 0===_?void 0:_.role))&&(0,k.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[(0,k.jsx)(v.dnm,{className:"text-blue-500 text-lg mr-2"})," Emails"]})]}),(0,k.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,k.jsx)(o.A,{plugins:[d.A,r.A,a.A,s.Ay,c.A],initialView:V,height:"600px",dateClick:e=>{M(!0),O(e.dateStr)},events:l,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek,multiMonthFourMonth"},eventClick:e=>{var l,i,n,t;e.event.url&&(e.jsEvent.preventDefault(),window.open(e.event.url)),"task"===(null===e||void 0===e||null===(l=e.event)||void 0===l?void 0:l.groupId)?(g(e),u(!0)):"call"===(null===e||void 0===e||null===(i=e.event)||void 0===i?void 0:i.groupId)?(G(e),p(!0)):"meeting"===(null===e||void 0===e||null===(n=e.event)||void 0===n?void 0:n.groupId)?(y(e),m(!0)):"email"===(null===e||void 0===e||null===(t=e.event)||void 0===t?void 0:t.groupId)&&(W(e),f(!0))},buttonText:{today:"Today",dayGridMonth:"Month",timeGridWeek:"Week",timeGridDay:"Day",listWeek:"List"},views:{multiMonthFourMonth:{type:"multiMonth",buttonText:"Multi Month",duration:{months:4}}},eventClassNames:"custom-fullcalendar"})})]})},y=()=>{const[e,l]=(0,n.useState)([]),i=JSON.parse(localStorage.getItem("user")),o=async()=>{let e=await(0,t.x4)("superAdmin"===(null===i||void 0===i?void 0:i.role)?"api/calendar/":`api/calendar/?createBy=${i._id}`);200===(null===e||void 0===e?void 0:e.status)&&l(null===e||void 0===e?void 0:e.data)};return(0,n.useEffect)((()=>{o()}),[]),(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(z,{fetchData:o,data:e})})}}}]);
//# sourceMappingURL=1888.20dfd0a8.chunk.js.map