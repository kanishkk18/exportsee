"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[3136],{41046:(e,a,l)=>{l.d(a,{A:()=>v});var t=l(31206),n=l(4450),o=l(71778),i=l(35066),r=l(65043),s=l(71094),d=l(10216),c=l(76914),u=l(78152),x=l(85369),m=l(70579);function v(e){const{columnsData:a,tableData:l,title:v,type:h,selectedValues:p,setSelectedValues:g}=e,j=(0,r.useMemo)((()=>a),[a]),S=(0,r.useMemo)((()=>l),[l]),[f,y]=(JSON.parse(localStorage.getItem("user")),(0,r.useState)()),C=(0,s.useTable)({columns:j,data:S,initialState:{pageIndex:0}},s.useGlobalFilter,s.useSortBy,s.usePagination),{getTableProps:b,getTableBodyProps:B,headerGroups:T,prepareRow:N,page:z,canPreviousPage:w,canNextPage:D,pageOptions:L,pageCount:A,gotoPage:F,nextPage:I,previousPage:W,setPageSize:k,state:{pageIndex:H,pageSize:O}}=C;L.length<f&&y(L.length);const V=(0,t.dU)("gray.500","white"),_=(0,t.dU)("gray.200","whiteAlpha.100"),G=(e,a)=>{"multi"===h?e.target.checked?g((e=>[...e,a])):g((e=>e.filter((e=>e!==a)))):e.target.checked?g(a):g(null)};return(0,m.jsxs)(d.A,{direction:"column",w:"100%",px:"0px",style:{border:"1px solid gray.200"},overflowX:{sm:"scroll",lg:"hidden"},children:[(0,m.jsx)(n.Flex,{px:"25px",justify:"space-between",mb:"20px",align:"center",children:(0,m.jsxs)(n.Text,{color:V,fontSize:"22px",fontWeight:"700",lineHeight:"100%",children:[v,"  (",(0,m.jsx)(c.A,{targetNumber:null===S||void 0===S?void 0:S.length},null===S||void 0===S?void 0:S.length),")"]})}),(0,m.jsxs)(n.Box,{overflowY:"auto",className:"table-container-property",children:["+ +        ",(0,m.jsxs)(o.XI,{...b(),variant:"simple",color:"gray.500",mb:"24px",children:[(0,m.jsx)(o.d8,{zIndex:1,children:null===T||void 0===T?void 0:T.map(((e,a)=>(0,r.createElement)(o.Tr,{...e.getHeaderGroupProps(),key:a},e.headers.map(((e,a)=>(0,r.createElement)(o.Th,{...e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps()),pe:"10px",key:a,borderColor:_},(0,m.jsxs)(n.Flex,{align:"center",justifyContent:e.center?"center":"start",fontSize:{sm:"14px",lg:"16px"},color:" secondaryGray.900",children:[(0,m.jsx)("span",{style:{textTransform:"capitalize",marginRight:"8px"},children:e.render("Header")}),!1!==e.isSortable&&(0,m.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,m.jsx)(x.GOR,{}):(0,m.jsx)(x.XhJ,{}):(0,m.jsx)(x.MjW,{})})]})))))))}),(0,m.jsxs)(o.NN,{...B(),children:[0===(null===S||void 0===S?void 0:S.length)&&+ +(0,m.jsx)(o.Tr,{children:(0,m.jsx)(o.Td,{colSpan:j.length,children:"img"})}),null===z||void 0===z?void 0:z.map(((e,a)=>{var l;return N(e),(0,r.createElement)(o.Tr,{...null===e||void 0===e?void 0:e.getRowProps(),key:a},null===e||void 0===e||null===(l=e.cells)||void 0===l?void 0:l.map(((e,a)=>{let l="";var t;"#"===(null===e||void 0===e?void 0:e.column.Header)?l=(0,m.jsxs)(n.Flex,{align:"center",children:["multi"===h?(0,m.jsx)(i.Sc,{colorScheme:"brandScheme",value:p,isChecked:p.includes(null===e||void 0===e?void 0:e.value),onChange:a=>G(a,null===e||void 0===e?void 0:e.value),me:"10px"}):(0,m.jsx)(i.Sc,{colorScheme:"brandScheme",value:p,isChecked:p===(null===e||void 0===e?void 0:e.value),onChange:a=>G(a,null===e||void 0===e?void 0:e.value),me:"10px"}),(0,m.jsx)(n.Text,{color:V,fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.index)+1})]}):"title"===(null===e||void 0===e?void 0:e.column.Header)||"first Name"===(null===e||void 0===e?void 0:e.column.Header)||"last Name"===(null===e||void 0===e?void 0:e.column.Header)?l=(0,m.jsx)(n.Text,{me:"10px",color:V,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}):"phone Number"===(null===e||void 0===e?void 0:e.column.Header)||"Email Address"===(null===e||void 0===e?void 0:e.column.Header)?l=(0,m.jsx)(n.Text,{fontSize:"sm",fontWeight:"700",color:V,children:null===e||void 0===e?void 0:e.value}):("physical Address"===(null===e||void 0===e?void 0:e.column.Header)||"mailing Address"===(null===e||void 0===e?void 0:e.column.Header)||"Contact Method"===(null===e||void 0===e?void 0:e.column.Header))&&(l=(0,m.jsx)(n.Text,{color:V,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}));return(0,r.createElement)(o.Td,{...null===e||void 0===e?void 0:e.getCellProps(),key:a,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"},l)})))}))]})]})]}),(null===S||void 0===S?void 0:S.length)>5&&(0,m.jsx)(u.A,{gotoPage:F,gopageValue:f,setGopageValue:y,pageCount:A,canPreviousPage:w,previousPage:W,canNextPage:D,pageOptions:L,setPageSize:k,nextPage:I,pageSize:O,pageIndex:H})]})}},43136:(e,a,l)=>{l.r(a),l.d(a,{default:()=>R});var t=l(65043),n=l(73216),o=l(35475),i=l(14034),r=l(19754),s=l(4450),d=l(85376),c=l(22554),u=l(79621),x=l(95574),m=l(88031),v=l(17368),h=l(86178),p=l.n(h),g=l(57360),j=l(78510),S=l(95104),f=l(84626),y=l(67682),C=l(53186),b=l(49565),B=l(91125),T=l(19488),N=l(60446),z=l.n(N),w=l(63516),D=l(3388),L=l(89849),A=l(70579);const F=e=>{const{onClose:a,isOpen:l,setAction:n}=e,[o,i]=(0,t.useState)(!1),[r,d]=(0,t.useState)([]),[x,m]=(0,t.useState)([]),[v,h]=(0,t.useState)(!1),[p,N]=(0,t.useState)(!1),F=JSON.parse(localStorage.getItem("user")),I=(new Date).toISOString().split(".")[0],W={sender:null===F||void 0===F?void 0:F._id,recipient:"",callDuration:"",callNotes:"",createByContact:"",createByLead:"",startDate:"",category:"contact",createBy:null===F||void 0===F?void 0:F._id},k=(0,w.Wx)({initialValues:W,validationSchema:L.Ar,onSubmit:(e,a)=>{let{resetForm:l}=a;$(),l()}}),{errors:H,touched:O,values:V,handleBlur:_,handleChange:G,handleSubmit:P,setFieldValue:R}=k,$=async()=>{try{i(!0),200===(await(0,u.d_)("api/phoneCall/add",V)).status&&(e.onClose(),n((e=>!e)))}catch(a){console.log(a)}finally{i(!1)}};(0,t.useEffect)((async()=>{V.start=null===e||void 0===e?void 0:e.date;try{let e;var a;if("Contact"===V.category&&x.length<=0)e=await(0,u.x4)("superAdmin"===F.role?"api/contact/":`api/contact/?createBy=${F._id}`),m(null===(a=e)||void 0===a?void 0:a.data);else if("Lead"===V.category&&r.length<=0){var l;e=await(0,u.x4)("superAdmin"===F.role?"api/lead/":`api/lead/?createBy=${F._id}`),d(null===(l=e)||void 0===l?void 0:l.data)}}catch(t){console.log(t)}}),[null===e||void 0===e?void 0:e.date,V.category]);return(0,t.useEffect)((()=>{(async()=>{if(V.createByContact){let e=x.find((e=>e._id===V.createByContact));e&&R("recipient",e.phoneNumber)}else if(V.createByLead){let e=r.find((e=>e._id===V.createByLead));e&&R("recipient",e.leadPhoneNumber)}else R("recipient","")})()}),[V.createByContact,V.createByLead]),(0,A.jsxs)(g.aF,{onClose:a,isOpen:l,isCentered:!0,children:[(0,A.jsx)(g.mH,{}),(0,A.jsxs)(g.$m,{children:[(0,A.jsx)(g.rQ,{children:"Add Call "}),(0,A.jsx)(g.s_,{}),(0,A.jsxs)(g.cw,{children:[(0,A.jsx)(b.A,{isOpen:v,data:x,onClose:h,fieldName:"createByContact",setFieldValue:R}),(0,A.jsx)(B.A,{isOpen:p,data:r,onClose:N,fieldName:"createByLead",setFieldValue:R}),(0,A.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,A.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,A.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Related"}),(0,A.jsx)(S.z6,{onChange:e=>{R("category",e),R("createByContact",""),R("createByLead","")},value:V.category,children:(0,A.jsxs)(s.Stack,{direction:"row",children:[(0,A.jsx)(S.sx,{value:"Contact",children:"Contact"}),(0,A.jsx)(S.sx,{value:"Lead",children:"Lead"})]})}),(0,A.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",H.category&&O.category&&H.category]})]}),(0,A.jsx)(s.GridItem,{colSpan:{base:12},children:"Contact"===V.category?(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,A.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Recipient  (Contact)"}),(0,A.jsxs)(s.Flex,{justifyContent:"space-between",children:[(0,A.jsx)(f.l6,{value:V.createByContact,name:"createByContact",onChange:G,mb:H.createByContact&&O.createByContact?void 0:"10px",fontWeight:"500",placeholder:"Assign To",borderColor:H.createByContact&&O.createByContact?"red.300":null,children:null===x||void 0===x?void 0:x.map((e=>(0,A.jsx)("option",{value:e._id,children:"Contact"===V.category?`${e.fullName}`:e.leadName},e._id)))}),(0,A.jsx)(c.IconButton,{onClick:()=>h(!0),ml:2,fontSize:"25px",icon:(0,A.jsx)(D.G2h,{})})]}),(0,A.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",H.createByContact&&O.createByContact&&H.createByContact]})]})}):"Lead"===V.category?(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,A.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Recipient (Lead)"}),(0,A.jsxs)(s.Flex,{justifyContent:"space-between",children:[(0,A.jsx)(f.l6,{value:V.createByLead,name:"createByLead",onChange:G,mb:H.createByLead&&O.createByLead?void 0:"10px",fontWeight:"500",placeholder:"Assign To",borderColor:H.createByLead&&O.createByLead?"red.300":null,children:null===r||void 0===r?void 0:r.map((e=>(0,A.jsx)("option",{value:e._id,children:"Contact"===V.category?`${e.firstName} ${e.lastName}`:e.leadName},e._id)))}),(0,A.jsx)(c.IconButton,{onClick:()=>N(!0),ml:2,fontSize:"25px",icon:(0,A.jsx)(D.G2h,{})})]}),(0,A.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",H.createByLead&&O.createByLead&&H.createByLead]})]})}):""}),(0,A.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,A.jsxs)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Recipient",(0,A.jsx)(s.Text,{color:"red",children:"*"})]}),(0,A.jsx)(y.Input,{fontSize:"sm",disabled:!0,value:V.recipient?V.recipient:"",name:"recipient",placeholder:"Recipient",fontWeight:"500",borderColor:H.recipient&&O.recipient?"red.300":null})]}),(0,A.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,A.jsxs)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Start Date",(0,A.jsx)(s.Text,{color:"red",children:"*"})]}),(0,A.jsx)(y.Input,{type:"datetime-local",fontSize:"sm",onChange:G,onBlur:_,min:z()(I).format("YYYY-MM-DD HH:mm"),value:V.startDate,name:"startDate",fontWeight:"500",borderColor:null!==H&&void 0!==H&&H.startDate&&null!==O&&void 0!==O&&O.startDate?"red.300":null}),(0,A.jsxs)(s.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",H.startDate&&O.startDate&&H.startDate]})]}),(0,A.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,A.jsxs)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Call Duration",(0,A.jsx)(s.Text,{color:"red",children:"*"})]}),(0,A.jsx)(y.Input,{fontSize:"sm",onChange:G,onBlur:_,value:V.callDuration,name:"callDuration",placeholder:"call Duration",fontWeight:"500",borderColor:H.callDuration&&O.callDuration?"red.300":null}),(0,A.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",H.callDuration&&O.callDuration&&H.callDuration]})]}),(0,A.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,A.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Call Notes"}),(0,A.jsx)(C.T,{resize:"none",fontSize:"sm",placeholder:"Enter Call Notes",onChange:G,onBlur:_,value:V.callNotes,name:"callNotes",fontWeight:"500",borderColor:H.callNotes&&O.callNotes?"red.300":null}),(0,A.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",H.callNotes&&O.callNotes&&H.callNotes]})]})]})]}),(0,A.jsxs)(g.jl,{children:[(0,A.jsx)(c.Button,{variant:"brand",size:"sm",disabled:!!o,onClick:P,children:o?(0,A.jsx)(T.A,{}):"Save"}),(0,A.jsx)(c.Button,{size:"sm",sx:{marginLeft:2,textTransform:"capitalize"},variant:"outline",colorScheme:"red",onClick:()=>{k.resetForm(),a()},children:"Close"})]})]})]})};var I=l(27149),W=l(34960),k=l(80899),H=l(43017),O=l(97508);const V=e=>{const{state:a,allData:l,advanceSearch:t,setAdvanceSearch:n,isLoding:o,setSearchedData:i,setDisplaySearchData:r,setSearchClear:d,setSearchbox:u}=e,x=(0,O.wA)(),m=k.Ik({senderName:k.Yj(),realetedTo:k.Yj(),createByName:k.Yj()}),v=(0,w.Wx)({initialValues:{senderName:"",realetedTo:"",createByName:""},validationSchema:m,onSubmit:(e,a)=>{let{resetForm:t}=a;x((0,H.gB)(e)),x((0,H.DW)({values:e,allData:l,type:"Calls"}));const o=[{name:["senderName"],value:e.senderName},{name:["realetedTo"],value:e.realetedTo},{name:["createByName"],value:e.createByName}];x((0,H.Tr)(o.filter((e=>e.value)))),r(!0),n(!1),t(),u("")}}),{errors:h,touched:p,values:S,handleBlur:C,handleChange:b,handleSubmit:B,setFieldValue:N,resetForm:z,dirty:D}=v;return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(g.aF,{onClose:()=>{n(!1),z()},isOpen:t,isCentered:!0,children:[(0,A.jsx)(g.mH,{}),(0,A.jsxs)(g.$m,{children:[(0,A.jsx)(g.rQ,{children:"Advance Search"}),(0,A.jsx)(g.s_,{onClick:()=>{n(!1),z()}}),(0,A.jsx)(g.cw,{children:(0,A.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:2,children:[(0,A.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,A.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Sender Name"}),(0,A.jsx)(y.Input,{fontSize:"sm",onChange:b,onBlur:C,value:null===S||void 0===S?void 0:S.senderName,name:"senderName",placeholder:"Enter senderName",fontWeight:"500"}),(0,A.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",h.senderName&&p.senderName&&h.senderName]})]}),(0,A.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,A.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Realeted To"}),(0,A.jsxs)(f.l6,{value:null===S||void 0===S?void 0:S.realetedTo,fontSize:"sm",name:"realetedTo",onChange:b,fontWeight:"500",placeholder:"Select Realeted To",children:[(0,A.jsx)("option",{value:"contact",children:"Contact"}),(0,A.jsx)("option",{value:"lead",children:"Lead"})]}),(0,A.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",h.realetedTo&&p.realetedTo&&h.realetedTo]})]}),(0,A.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,A.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Recipient"}),(0,A.jsx)(y.Input,{fontSize:"sm",onChange:b,onBlur:C,value:null===S||void 0===S?void 0:S.createByName,name:"createByName",placeholder:"Enter Recipient",fontWeight:"500"}),(0,A.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",h.createByName&&p.createByName&&h.createByName]})]})]})}),(0,A.jsxs)(g.jl,{children:[(0,A.jsx)(c.Button,{size:"sm",variant:"brand",mr:2,onClick:B,disabled:!(!o&&D),children:o?(0,A.jsx)(T.A,{}):"Search"}),(0,A.jsx)(c.Button,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>z(),children:"Clear"})]})]})]})})};var _=l(94809);const G=(0,_.zD)("fetchPhoneCallData",(async()=>{const e=JSON.parse(localStorage.getItem("user"));try{return await(0,u.x4)("superAdmin"===e.role?"api/phoneCall":`api/phoneCall?sender=${e._id}`)}catch(a){throw a}}));(0,_.Z0)({name:"phoneCallData",initialState:{data:[],isLoading:!1,error:""},extraReducers:e=>{e.addCase(G.pending,(e=>{e.isLoading=!0})).addCase(G.fulfilled,((e,a)=>{e.isLoading=!1,e.data=a.payload,e.error=""})).addCase(G.rejected,((e,a)=>{e.isLoading=!1,e.data=[],e.error=a.error.message}))}}).reducer;var P=l(47503);const R=e=>{const[a,l]=(0,t.useState)(!1),{isOpen:u,onOpen:h,onClose:g}=(0,r.j1)(),[j,S]=(0,t.useState)(!1),[f,y]=(0,t.useState)([]),[C,b]=(0,t.useState)(!1),[B,T]=(0,t.useState)([]),[N,z]=(0,t.useState)(""),w=(JSON.parse(localStorage.getItem("user")),(0,n.Zp)()),[D,L]=(0,t.useState)(!1),[k,H]=(0,t.useState)([]),[_,R]=(0,t.useState)(!1),[$,E]=(0,t.useState)([]),M=(0,O.wA)(),[Y,J,Q]=(0,x.h)(["Calls","Leads","Contacts"]),U={Header:"Action",accessor:"action",isSortable:!1,center:!0,cell:e=>{var a;let{row:l}=e;return(0,A.jsx)(s.Text,{fontSize:"md",fontWeight:"900",textAlign:"center",children:(0,A.jsxs)(d.W1,{isLazy:!0,children:[(0,A.jsx)(d.IU,{children:(0,A.jsx)(v.txp,{})}),(0,A.jsxs)(d.cO,{minW:"fit-content",transform:"translate(1520px, 173px);",children:[(null===Y||void 0===Y?void 0:Y.view)&&(0,A.jsx)(d.Dr,{py:2.5,color:"green",onClick:()=>w(`/phone-call/${null===l||void 0===l?void 0:l.values._id}`),icon:(0,A.jsx)(i.ViewIcon,{mb:"2px",fontSize:15}),children:"View"}),null!==l&&void 0!==l&&null!==(a=l.original)&&void 0!==a&&a.createByContact&&null!==Q&&void 0!==Q&&Q.view?(0,A.jsxs)(d.Dr,{width:"165px",py:2.5,color:"black",onClick:()=>{var e;return w((null===l||void 0===l||null===(e=l.original)||void 0===e?void 0:e.createByContact)&&`/contactView/${null===l||void 0===l?void 0:l.original.createByContact}`)},icon:(null===l||void 0===l?void 0:l.original.createByContact)&&(0,A.jsx)(W.oau,{fontSize:15}),children:["  ",(null===l||void 0===l?void 0:l.original.createByContact)&&(null===Q||void 0===Q?void 0:Q.view)&&"contact"]}):"",null!==l&&void 0!==l&&l.original.createByLead&&null!==J&&void 0!==J&&J.view?(0,A.jsx)(d.Dr,{width:"165px",py:2.5,color:"black",onClick:()=>w(`/leadView/${null===l||void 0===l?void 0:l.original.createByLead}`),icon:(null===l||void 0===l?void 0:l.original.createByLead)&&(null===J||void 0===J?void 0:J.view)&&(0,A.jsx)(I.ju$,{style:{marginBottom:"4px"},fontSize:15}),children:(null===l||void 0===l?void 0:l.original.createByLead)&&(null===J||void 0===J?void 0:J.view)&&"lead"}):""]})]})})}},X=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Recipient",accessor:"createByName",cell:e=>{var a;return(0,A.jsx)(o.N_,{to:`/phone-call/${null===e||void 0===e||null===(a=e.row)||void 0===a?void 0:a.values._id}`,children:(0,A.jsx)(s.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e?void 0:e.value)||" - "})})}},{Header:"Sender Name",accessor:"senderName"},{Header:"Realeted To",accessor:"realeted",cell:e=>{let{row:a}=e;return(0,A.jsxs)(s.Text,{children:[null!==a&&void 0!==a&&a.original.createByContact&&null!==Q&&void 0!==Q&&Q.view?(0,A.jsx)(o.N_,{to:`/contactView/${null===a||void 0===a?void 0:a.original.createByContact}`,children:(0,A.jsx)(s.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===a||void 0===a?void 0:a.original.createByContact)&&"Contact"})}):(0,A.jsx)(s.Text,{me:"10px",fontSize:"sm",fontWeight:"700",children:(null===a||void 0===a?void 0:a.original.createByContact)&&"Contact"}),null!==J&&void 0!==J&&J.view&&null!==a&&void 0!==a&&a.original.createByLead?(0,A.jsx)(o.N_,{to:`/leadView/${null===a||void 0===a?void 0:a.original.createByLead}`,children:(0,A.jsx)(s.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===a||void 0===a?void 0:a.original.createByLead)&&"Lead"})}):(0,A.jsx)(s.Text,{me:"10px",fontSize:"sm",fontWeight:"700",children:(null===a||void 0===a?void 0:a.original.createByLead)&&"Lead"})]})}},{Header:"Timestamp",accessor:"timestamp"},{Header:"Created",accessor:"created",cell:e=>{let{row:a}=e;return(0,A.jsx)(s.Text,{fontSize:"sm",fontWeight:"700",children:p()(null===a||void 0===a?void 0:a.values.timestamp).format("(DD/MM) h:mma")})}},...null!==Y&&void 0!==Y&&Y.update||null!==Y&&void 0!==Y&&Y.view||null!==Y&&void 0!==Y&&Y.delete?[U]:[]];return(0,t.useEffect)((()=>{(async()=>{L(!0);const e=await M(G());var a;200===e.payload.status?H(null===e||void 0===e||null===(a=e.payload)||void 0===a?void 0:a.data):P.oR.error("Failed to fetch data","error"),L(!1)})()}),[a]),(0,A.jsxs)("div",{children:[(0,A.jsx)(m.A,{title:"Calls",isLoding:D,columnData:null!==X&&void 0!==X?X:[],allData:null!==k&&void 0!==k?k:[],tableData:k,searchDisplay:_,setSearchDisplay:R,searchedDataOut:$,setSearchedDataOut:E,tableCustomFields:[],access:Y,onOpen:h,selectedValues:f,setSelectedValues:y,setDelete:S,deleteMany:!0,AdvanceSearch:(0,A.jsx)(c.Button,{variant:"outline",colorScheme:"brand",leftIcon:(0,A.jsx)(i.SearchIcon,{}),mt:{sm:"5px",md:"0"},size:"sm",onClick:()=>b(!0),children:"Advance Search"}),getTagValuesOutSide:B,searchboxOutside:N,setGetTagValuesOutside:T,setSearchboxOutside:z,handleSearchType:"CallsSearch"}),(0,A.jsx)(V,{advanceSearch:C,setAdvanceSearch:b,setSearchedData:E,setDisplaySearchData:R,allData:null!==k&&void 0!==k?k:[],setAction:l,setGetTagValues:T,setSearchbox:z}),(0,A.jsx)(F,{isOpen:u,size:"sm",onClose:g,setAction:l})]})}},49565:(e,a,l)=>{l.d(a,{A:()=>v});var t=l(57360),n=l(4450),o=l(22554),i=l(65043),r=(l(41046),l(19488)),s=l(8860),d=l(88031),c=l(20850),u=l(26547),x=l(97508),m=l(70579);const v=e=>{var a,l;const{onClose:v,isOpen:h,fieldName:p,setFieldValue:g,data:j}=e,[S,f]=(0,i.useState)(),[y,C]=(0,i.useState)([]),[b,B]=(0,i.useState)(!1),[T,N]=(0,i.useState)([]),z=(0,x.wA)();return(0,i.useEffect)((async()=>{await z((0,u.h)()),(async()=>{var e,a,l,t;B(!0);const n=await z((0,c.I)());C(null===n||void 0===n||null===(e=n.payload)||void 0===e?void 0:e.data);const o=[{Header:"#",accessor:"_id",isSortable:!1,width:10},...((null===n||void 0===n||null===(a=n.payload)||void 0===a||null===(l=a.data)||void 0===l||null===(t=l[0])||void 0===t?void 0:t.fields)||[]).filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))).map((e=>({Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name})))];N(o),B(!1)})()}),[]),(0,m.jsxs)(t.aF,{onClose:v,size:"full",isOpen:h,children:[(0,m.jsx)(t.mH,{}),(0,m.jsxs)(t.$m,{children:[(0,m.jsx)(t.rQ,{children:"Select Contact"}),(0,m.jsx)(t.s_,{}),(0,m.jsx)(t.cw,{children:b?(0,m.jsx)(n.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,m.jsx)(r.A,{})}):(0,m.jsx)(d.A,{title:"Contacts",isLoding:b,columnData:null!==T&&void 0!==T?T:[],allData:null!==j&&void 0!==j?j:[],tableData:j,tableCustomFields:(null===y||void 0===y||null===(a=y[0])||void 0===a||null===(l=a.fields)||void 0===l?void 0:l.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],AdvanceSearch:()=>"",ManageGrid:!1,deleteMany:!1,selectedValues:S,setSelectedValues:f,selectType:"single",customSearch:!1})}),(0,m.jsxs)(t.jl,{children:[(0,m.jsxs)(o.Button,{variant:"brand",size:"sm",me:2,onClick:async()=>{try{B(!0),g(p,S),v()}catch(e){console.log(e)}finally{B(!1)}},disabled:!!b,leftIcon:(0,m.jsx)(s.NLY,{}),children:[" ",b?(0,m.jsx)(r.A,{}):"Select"]}),(0,m.jsx)(o.Button,{variant:"outline",size:"sm",colorScheme:"red",onClick:()=>v(),children:"Close"})]})]})]})}},53186:(e,a,l)=>{l.d(a,{T:()=>d});var t=l(78510),n=l(59522),o=l(23216),i=l(65043);function r(){return r=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(e[t]=l[t])}return e},r.apply(this,arguments)}var s=["className","rows"],d=(0,n.Rf)((function(e,a){var l=(0,n.Vl)("Textarea",e),d=(0,n.MN)(e),c=d.className,u=d.rows,x=function(e,a){if(null==e)return{};var l,t,n={},o=Object.keys(e);for(t=0;t<o.length;t++)l=o[t],a.indexOf(l)>=0||(n[l]=e[l]);return n}(d,s),m=(0,t.useFormControl)(x),v=u?(0,o.cJ)(l,["h","minH","height","minHeight"]):l;return i.createElement(n.Bv.textarea,r({ref:a,rows:u},m,{className:(0,o.cx)("chakra-textarea",c),__css:v}))}));o.gt&&(d.displayName="Textarea")},91125:(e,a,l)=>{l.d(a,{A:()=>v});var t=l(57360),n=l(4450),o=l(22554),i=l(65043),r=l(19488),s=l(8860),d=l(88031),c=l(87892),u=l(97508),x=l(37801),m=l(70579);const v=e=>{var a,l;const{onClose:v,isOpen:h,fieldName:p,setFieldValue:g,data:j}=e,S=(0,u.wA)(),[f,y]=(0,i.useState)(!1),[C,b]=(0,i.useState)([]),[B,T]=(0,i.useState)([]),[N,z]=(0,i.useState)([]);return(0,i.useEffect)((()=>{S((0,x.T)()),(async()=>{var e,a,l,t,n,o;y(!0);const i=await S((0,c.y)());T(null===i||void 0===i||null===(e=i.payload)||void 0===e?void 0:e.data);const r=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Status",accessor:"leadStatus",isSortable:!0,center:!0,cell:e=>{let{row:a}=e;return a.original.leadStatus}},...(null===i||void 0===i||null===(a=i.payload)||void 0===a||null===(l=a.data)||void 0===l||null===(t=l[0])||void 0===t||null===(n=t.fields)||void 0===n||null===(o=n.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||void 0===o?void 0:o.map((e=>"leadStatus"!==(null===e||void 0===e?void 0:e.name)&&{Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name})))||[]];b(r),y(!1)})()}),[]),(0,m.jsxs)(t.aF,{onClose:v,size:"full",isOpen:h,children:[(0,m.jsx)(t.mH,{}),(0,m.jsxs)(t.$m,{children:[(0,m.jsx)(t.rQ,{children:"Select Lead"}),(0,m.jsx)(t.s_,{}),(0,m.jsx)(t.cw,{children:f?(0,m.jsx)(n.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,m.jsx)(r.A,{})}):(0,m.jsx)(d.A,{title:"Leads",isLoding:f,columnData:null!==C&&void 0!==C?C:[],allData:null!==j&&void 0!==j?j:[],tableData:j,tableCustomFields:(null===B||void 0===B||null===(a=B[0])||void 0===a||null===(l=a.fields)||void 0===l?void 0:l.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],AdvanceSearch:()=>"",ManageGrid:!1,deleteMany:!1,selectedValues:N,setSelectedValues:z,selectType:"single",customSearch:!1})}),(0,m.jsxs)(t.jl,{children:[(0,m.jsxs)(o.Button,{variant:"brand",size:"sm",me:2,disabled:!!f,leftIcon:(0,m.jsx)(s.NLY,{}),onClick:async()=>{try{y(!0),g(p,N),v()}catch(e){console.log(e)}finally{y(!1)}},children:[" ",f?(0,m.jsx)(r.A,{}):"Select"]}),(0,m.jsx)(o.Button,{variant:"outline",size:"sm",colorScheme:"red",onClick:()=>v(),children:"Close"})]})]})]})}}}]);
//# sourceMappingURL=3136.d1b01414.chunk.js.map