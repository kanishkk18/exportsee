"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[9021],{12312:(e,l,a)=>{a.d(l,{A:()=>m});var t=a(57360),i=a(4450),o=a(22554),n=a(65043),s=a(19488),d=a(8860),r=a(88031),c=a(97508),u=(a(79621),a(30390),a(47503),a(70579));const m=e=>{const{onClose:l,isOpen:a,fieldName:m,setFieldValue:v,data:x,type:h,billingState:b,billingCity:p,billingPostalCode:g,billingCountry:j,billingStreet:f}=e,[S,y]=((0,c.wA)(),(0,n.useState)(!1)),[C,T]=(0,n.useState)([]),[N,_]=(0,n.useState)([]),w=((null===x||void 0===x?void 0:x.length)>0&&(null===x||void 0===x||x.find((e=>(null===e||void 0===e?void 0:e._id)===N))),[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Account Name",accessor:"name"},{Header:"Office Phone",accessor:"officePhone"},{Header:"Fax",accessor:"fax"},{Header:"Email Address",accessor:"emailAddress"}]);return(0,u.jsxs)(t.aF,{onClose:l,size:"full",isOpen:a,children:[(0,u.jsx)(t.mH,{}),(0,u.jsxs)(t.$m,{children:[(0,u.jsx)(t.rQ,{children:"Select Account"}),(0,u.jsx)(t.s_,{}),(0,u.jsx)(t.cw,{children:S?(0,u.jsx)(i.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,u.jsx)(s.A,{})}):(0,u.jsx)(r.A,{title:"Account",isLoding:S,columnData:null!==w&&void 0!==w?w:[],allData:null!==x&&void 0!==x?x:[],tableData:x,AdvanceSearch:()=>"",ManageGrid:!1,deleteMany:!1,selectedValues:N,setSelectedValues:_,selectType:"single",customSearch:!1})}),(0,u.jsxs)(t.jl,{children:[(0,u.jsxs)(o.Button,{variant:"brand",size:"sm",me:2,disabled:!!S,leftIcon:(0,u.jsx)(d.NLY,{}),onClick:async()=>{try{y(!0),v(m,N),l()}catch(e){console.log(e)}finally{y(!1)}},children:[" ",S?(0,u.jsx)(s.A,{}):"Select"]}),(0,u.jsx)(o.Button,{variant:"outline",size:"sm",colorScheme:"red",onClick:()=>l(),children:"Close"})]})]})]})}},14614:(e,l,a)=>{a.d(l,{A:()=>m});var t=a(57360),i=a(4450),o=a(22554),n=a(65043),s=a(19488),d=a(8860),r=a(88031),c=(a(87892),a(97508)),u=(a(79621),a(70579));const m=e=>{const{onClose:l,isOpen:a,fieldName:m,setFieldValue:v,data:x,isLoding:h,setIsLoding:b}=e,[p,g]=((0,c.wA)(),(0,n.useState)([])),[j,f]=(0,n.useState)([]),S=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"email Id",accessor:"username"},{Header:"first Name",accessor:"firstName"},{Header:"last Name",accessor:"lastName"},{Header:"role",accessor:"role"}];return(0,u.jsxs)(t.aF,{onClose:l,size:"full",isOpen:a,children:[(0,u.jsx)(t.mH,{}),(0,u.jsxs)(t.$m,{children:[(0,u.jsx)(t.rQ,{children:"Select User"}),(0,u.jsx)(t.s_,{}),(0,u.jsx)(t.cw,{children:h?(0,u.jsx)(i.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,u.jsx)(s.A,{})}):(0,u.jsx)(r.A,{title:"Users",isLoding:h,columnData:null!==S&&void 0!==S?S:[],allData:null!==x&&void 0!==x?x:[],tableData:x,AdvanceSearch:()=>"",ManageGrid:!1,deleteMany:!1,selectedValues:j,setSelectedValues:f,selectType:"single",customSearch:!1})}),(0,u.jsxs)(t.jl,{children:[(0,u.jsxs)(o.Button,{variant:"brand",size:"sm",me:2,disabled:!!h,leftIcon:(0,u.jsx)(d.NLY,{}),onClick:async()=>{try{b(!0),v(m,j),l()}catch(e){console.log(e)}finally{b(!1)}},children:[" ",h?(0,u.jsx)(s.A,{}):"Select"]}),(0,u.jsx)(o.Button,{variant:"outline",size:"sm",colorScheme:"red",onClick:()=>l(),children:"Close"})]})]})]})}},23848:(e,l,a)=>{a.d(l,{A:()=>r});var t=a(31206),i=a(4450),o=a(3458),n=a(71997),s=a(27149),d=a(70579);function r(e){const{count:l,text:a,onFileSelect:r}=e,c=(0,t.dU)("secondaryGray.900","white"),u=(0,t.dU)("brand.500","white");return(0,d.jsxs)(i.Grid,{templateColumns:"repeat(12, 1fr)",gap:2,children:[(0,d.jsx)(i.GridItem,{colSpan:{base:12},children:(0,d.jsx)(n.A,{w:{base:"100%"},me:"36px",minH:200,img:"Property Photos"===a?"img":"",csv:"csv",height:"100%",onFileSelect:r,isMultipleAllow:!1,content:(0,d.jsxs)(i.Box,{children:[(0,d.jsx)(o.In,{as:s.vpy,w:"80px",h:"80px",color:u}),(0,d.jsx)(i.Flex,{justify:"center",mx:"auto",mb:"12px",children:(0,d.jsx)(i.Text,{fontSize:"xl",fontWeight:"700",color:u,children:"Upload File"})}),l>0&&(0,d.jsxs)(i.Text,{fontSize:"sm",fontWeight:"500",color:"secondaryGray.500",children:["Selected Files : ",l]})]})})}),(0,d.jsx)(i.GridItem,{colSpan:{base:12},children:(0,d.jsxs)(i.Flex,{direction:"column",children:[(0,d.jsxs)(i.Text,{color:c,fontWeight:"bold",textAlign:"start",fontSize:"2xl",mt:{base:"20px"},children:["Upload ",a]}),(0,d.jsx)(i.Text,{color:"gray.400",fontSize:"md",my:{base:"auto"},mx:"auto",textAlign:"start",children:"Accepted File Type (csv, xlsx file - 15MB max) only 1 file"})]})})]})}},36918:(e,l,a)=>{a.r(l),a.d(l,{default:()=>H});var t=a(65043),i=a(73216),o=a(14034),n=a(19754),s=a(4450),d=a(85376),r=a(22554),c=a(79621),u=a(95574),m=a(88031),v=a(17368),x=(a(86178),a(2096)),h=a(97508),b=(a(27560),a(47503)),p=a(63516),g=a(80899),j=a(57360),f=a(78510),S=a(67682),y=a(84626),C=a(19488),T=a(43017),N=a(70579);const _=e=>{const{state:l,allData:a,advanceSearch:t,setAdvanceSearch:i,isLoding:o,setSearchedData:n,setDisplaySearchData:d,setSearchClear:c,setSearchbox:u}=e,m=(0,h.wA)(),v=g.Ik({quoteNumber:g.Yj(),title:g.Yj(),quoteStage:g.Yj(),contactName:g.Yj(),accountName:g.Yj(),grandTotal:g.Yj(),validUntil:g.Yj()}),x=(0,p.Wx)({initialValues:{quoteNumber:"",title:"",quoteStage:"",contactName:"",accountName:"",grandTotal:"",validUntil:""},validationSchema:v,onSubmit:(e,l)=>{let{resetForm:t}=l;m((0,T.gB)(e)),m((0,T.DW)({values:e,allData:a,type:"quotes"}));const o=[{name:["quoteNumber"],value:e.quoteNumber},{name:["title"],value:e.title},{name:["quoteStage"],value:e.quoteStage},{name:["contactName"],value:e.contactName},{name:["accountName"],value:e.accountName},{name:["grandTotal"],value:e.grandTotal},{name:["validUntil"],value:e.validUntil}];m((0,T.Tr)(o.filter((e=>e.value)))),d(!0),i(!1),t(),u("")}}),{errors:b,touched:_,values:w,handleBlur:A,handleChange:D,handleSubmit:F,setFieldValue:z,resetForm:H,dirty:k}=x;return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(j.aF,{onClose:()=>{i(!1),H()},isOpen:t,isCentered:!0,children:[(0,N.jsx)(j.mH,{}),(0,N.jsxs)(j.$m,{children:[(0,N.jsx)(j.rQ,{children:"Advance Search"}),(0,N.jsx)(j.s_,{onClick:()=>{i(!1),H()}}),(0,N.jsx)(j.cw,{children:(0,N.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:2,children:[(0,N.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,N.jsx)(f.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Quote Number"}),(0,N.jsx)(S.Input,{fontSize:"sm",onChange:D,onBlur:A,value:null===w||void 0===w?void 0:w.quoteNumber,name:"quoteNumber",type:"number",placeholder:"Enter Quote Number",fontWeight:"500"}),(0,N.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",b.quoteNumber&&_.quoteNumber&&b.quoteNumber]})]}),(0,N.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,N.jsx)(f.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Title"}),(0,N.jsx)(S.Input,{fontSize:"sm",onChange:D,onBlur:A,value:null===w||void 0===w?void 0:w.title,name:"title",placeholder:"Enter Title",fontWeight:"500"}),(0,N.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",b.title&&_.title&&b.title]})]}),(0,N.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,N.jsx)(f.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Quote Stage"}),(0,N.jsxs)(y.l6,{value:w.quoteStage,name:"quoteStage",onChange:D,mb:b.quoteStage&&_.quoteStage?void 0:"10px",fontWeight:"500",placeholder:"Quote Stage",borderColor:b.quoteStage&&_.quoteStage?"red.300":null,children:[(0,N.jsx)("option",{value:"Draft",children:"Draft"}),(0,N.jsx)("option",{value:"Negotiation",children:"Negotiation"}),(0,N.jsx)("option",{value:"Delivered",children:"Delivered"}),(0,N.jsx)("option",{value:"On Hold",children:"On Hold"}),(0,N.jsx)("option",{value:"Confirmed",children:"Confirmed"}),(0,N.jsx)("option",{value:"Closed Accepted",children:"Closed Accepted"}),(0,N.jsx)("option",{value:"Closed Lost",children:"Closed Lost"}),(0,N.jsx)("option",{value:"Closed Dead",children:"Closed Dead"})]}),(0,N.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",b.quoteStage&&_.quoteStage&&b.quoteStage]})]}),(0,N.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,N.jsx)(f.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Contact"}),(0,N.jsx)(S.Input,{fontSize:"sm",onChange:D,onBlur:A,value:null===w||void 0===w?void 0:w.contactName,name:"contactName",placeholder:"Enter Contact Name",fontWeight:"500"}),(0,N.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",b.contactName&&_.contactName&&b.contactName]})]}),(0,N.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,N.jsx)(f.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Account"}),(0,N.jsx)(S.Input,{fontSize:"sm",onChange:D,onBlur:A,value:null===w||void 0===w?void 0:w.accountName,name:"accountName",placeholder:"Enter Account Name",fontWeight:"500"}),(0,N.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",b.accountName&&_.accountName&&b.accountName]})]}),(0,N.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,N.jsx)(f.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Grand Total"}),(0,N.jsx)(S.Input,{fontSize:"sm",onChange:D,onBlur:A,value:null===w||void 0===w?void 0:w.grandTotal,name:"grandTotal",placeholder:"Enter Grand Total",fontWeight:"500"}),(0,N.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",b.grandTotal&&_.grandTotal&&b.grandTotal]})]}),(0,N.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,N.jsx)(f.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Valid Untile"}),(0,N.jsx)(S.Input,{fontSize:"sm",onChange:D,onBlur:A,value:null===w||void 0===w?void 0:w.validUntil,name:"validUntil",type:"date",fontWeight:"500"}),(0,N.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",b.validUntil&&_.validUntil&&b.validUntil]})]})]})}),(0,N.jsxs)(j.jl,{children:[(0,N.jsx)(r.Button,{size:"sm",variant:"brand",mr:2,onClick:F,disabled:!(!o&&k),children:o?(0,N.jsx)(C.A,{}):"Search"}),(0,N.jsx)(r.Button,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>H(),children:"Clear"})]})]})]})})};var w=a(48177),A=a(23848);const D=e=>{const{onClose:l,isOpen:a,text:o,customFields:n}=e,[d,c]=(0,t.useState)(!1),u=(0,i.Zp)(),m=(0,p.Wx)({initialValues:{quotes:""},onSubmit:(e,l)=>{let{resetForm:a}=l;T(),a()}}),{errors:v,touched:x,values:h,handleBlur:b,handleChange:g,handleSubmit:f,setFieldValue:S,resetForm:y}=m,T=async()=>{try{c(!0),y(),h.quotes&&(l(),u("/quotesImport",{state:{fileData:h.quotes,customFields:n}}))}catch(e){console.log(e)}finally{c(!1)}};return(0,N.jsxs)(j.aF,{onClose:l,isOpen:a,isCentered:!0,children:[(0,N.jsx)(j.mH,{}),(0,N.jsxs)(j.$m,{children:[(0,N.jsx)(j.rQ,{children:"Import Quotes"}),(0,N.jsx)(j.s_,{}),(0,N.jsx)(j.cw,{children:(0,N.jsx)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:(0,N.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,N.jsx)(A.A,{count:h.quotes.length,onFileSelect:e=>S("quotes",e),text:o}),(0,N.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",v.quotes&&x.quotes&&(0,N.jsxs)(N.Fragment,{children:["Please Select ",o]})]})]})})}),(0,N.jsxs)(j.jl,{children:[(0,N.jsx)(r.Button,{size:"sm",variant:"brand",onClick:f,disabled:!!d,children:d?(0,N.jsx)(C.A,{}):"Save"}),(0,N.jsx)(r.Button,{sx:{marginLeft:2,textTransform:"capitalize"},variant:"outline",colorScheme:"red",size:"sm",onClick:()=>{l(),m.resetForm()},children:"Close"})]})]})]})};var F=a(72888),z=a(24966);const H=e=>{const[l,a]=(0,t.useState)(!1),{isOpen:p,onOpen:g,onClose:j}=(0,n.j1)(),[f,S]=(0,t.useState)([]),[y,C]=(0,t.useState)(!1),[T,A]=(0,t.useState)([]),[H,k]=(0,t.useState)(""),I=JSON.parse(localStorage.getItem("user")),q=(0,i.Zp)(),O=(0,h.wA)(),[V,W]=(0,t.useState)(!1),[G,B]=(0,t.useState)([]),[P,M]=(0,t.useState)(!1),[L,Q]=(0,t.useState)([]),[U,E]=(0,t.useState)(),[Y,$]=(0,t.useState)(!1),[R,J]=(0,t.useState)(!1),[X,Z]=(0,t.useState)(""),[K,ee]=(0,t.useState)(!1),[le,ae,te]=(0,u.h)(["Quotes","Account","Contacts"]),ie={Header:"Action",accessor:"action",isSortable:!1,center:!0,cell:e=>{let{row:l,i:a}=e;return(0,N.jsx)(s.Text,{fontSize:"md",fontWeight:"900",textAlign:"center",children:(0,N.jsxs)(d.W1,{isLazy:!0,children:[(0,N.jsx)(d.IU,{children:(0,N.jsx)(v.txp,{})}),(0,N.jsxs)(d.cO,{minW:"fit-content",transform:"translate(1520px, 173px);",children:[(null===le||void 0===le?void 0:le.update)&&(0,N.jsx)(d.Dr,{py:2.5,icon:(0,N.jsx)(o.EditIcon,{fontSize:15,mb:1}),onClick:()=>{var e;Z("edit"),g(),E(null===l||void 0===l||null===(e=l.values)||void 0===e?void 0:e._id)},children:"Edit"}),(null===le||void 0===le?void 0:le.view)&&(0,N.jsx)(d.Dr,{py:2.5,color:"green",icon:(0,N.jsx)(o.ViewIcon,{mb:1,fontSize:15}),onClick:()=>{var e;q(`/quotesView/${null===l||void 0===l||null===(e=l.values)||void 0===e?void 0:e._id}`)},children:"View"}),(0,N.jsx)(d.Dr,{py:2.5,color:"black",icon:(0,N.jsx)(z.y4Q,{fontSize:15,mb:1}),onClick:()=>{var e;se(null===l||void 0===l||null===(e=l.values)||void 0===e?void 0:e._id)},children:"Convert To Invoice"}),(null===le||void 0===le?void 0:le.delete)&&(0,N.jsx)(d.Dr,{py:2.5,color:"red",icon:(0,N.jsx)(o.DeleteIcon,{fontSize:15,mb:1}),onClick:()=>{var e;$(!0),S([null===l||void 0===l||null===(e=l.values)||void 0===e?void 0:e._id])},children:"Delete"})]})]})})}},oe=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Quote Number",accessor:"quoteNumber",isSortable:!1,width:10},{Header:"Title",accessor:"title",cell:e=>(0,N.jsx)("div",{className:"selectOpt",children:(0,N.jsx)(s.Text,{onClick:()=>{var l;return ne(null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.original._id)},me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"},cursor:"pointer"},color:"brand.600",fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value})})},{Header:"Quote Stage",accessor:"quoteStage"},{Header:"Contact",accessor:"contact",cell:e=>{var l,a,t,i,o,n,d,r;return"superAdmin"===I.role||null!==te&&void 0!==te&&te.view?(0,N.jsx)("div",{className:"selectOpt",children:(0,N.jsx)(s.Text,{onClick:()=>{var l,a;return q(null!==(null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.original.contact)&&`/contactView/${null===e||void 0===e||null===(a=e.row)||void 0===a?void 0:a.original.contact}`)},me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"},cursor:"pointer"},color:"brand.600",fontSize:"sm",fontWeight:"700",children:null!==e&&void 0!==e&&null!==(l=e.row)&&void 0!==l&&null!==(a=l.original)&&void 0!==a&&a.contactName?null===e||void 0===e||null===(t=e.row)||void 0===t||null===(i=t.original)||void 0===i?void 0:i.contactName:"-"})}):(0,N.jsx)(s.Text,{children:null!==e&&void 0!==e&&null!==(o=e.row)&&void 0!==o&&null!==(n=o.original)&&void 0!==n&&n.contactName?null===e||void 0===e||null===(d=e.row)||void 0===d||null===(r=d.original)||void 0===r?void 0:r.contactName:"-"})}},{Header:"Account",accessor:"account",cell:e=>{var l,a,t,i,o,n,d,r;return"superAdmin"===I.role||null!==ae&&void 0!==ae&&ae.view?(0,N.jsx)("div",{className:"selectOpt",children:(0,N.jsx)(s.Text,{onClick:()=>{var l,a;return q(null!==(null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.original.account)&&`/accountView/${null===e||void 0===e||null===(a=e.row)||void 0===a?void 0:a.original.account}`)},me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"},cursor:"pointer"},color:"brand.600",fontSize:"sm",fontWeight:"700",children:null!==e&&void 0!==e&&null!==(l=e.row)&&void 0!==l&&null!==(a=l.original)&&void 0!==a&&a.accountName?null===e||void 0===e||null===(t=e.row)||void 0===t||null===(i=t.original)||void 0===i?void 0:i.accountName:"-"})}):(0,N.jsx)(s.Text,{children:null!==e&&void 0!==e&&null!==(o=e.row)&&void 0!==o&&null!==(n=o.original)&&void 0!==n&&n.accountName?null===e||void 0===e||null===(d=e.row)||void 0===d||null===(r=d.original)||void 0===r?void 0:r.accountName:"-"})}},{Header:"Grand Total",accessor:"grandTotal",cell:e=>{var l,a,t,i,o,n;return(0,N.jsx)("div",{className:"selectOpt",children:(0,N.jsx)(s.Text,{children:null!==e&&void 0!==e&&null!==(l=e.row)&&void 0!==l&&null!==(a=l.original)&&void 0!==a&&a.grandTotal?`${null===e||void 0===e||null===(t=e.row)||void 0===t||null===(i=t.original)||void 0===i?void 0:i.currency} ${null===e||void 0===e||null===(o=e.row)||void 0===o||null===(n=o.original)||void 0===n?void 0:n.grandTotal}`:"-"})})}},{Header:"valid Until",accessor:"validUntil"},...null!==le&&void 0!==le&&le.update||null!==le&&void 0!==le&&le.view||null!==le&&void 0!==le&&le.delete?[ie]:[]],ne=e=>{q(`/quotesView/${e}`)},se=async e=>{try{W(!0),200===(await(0,c.d_)("api/quotes/convertToInvoice",{_id:e})).status&&(b.oR.success("Invoice Convert successfully"),a((e=>!e)))}catch(l){console.log(l),b.oR.error("server error")}finally{W(!1)}};return(0,t.useEffect)((()=>{(async()=>{W(!0);const e=await O((0,F.m)());var l;200===e.payload.status?B(null===e||void 0===e||null===(l=e.payload)||void 0===l?void 0:l.data):b.oR.error("Failed to fetch data","error"),W(!1)})()}),[l]),(0,N.jsxs)("div",{children:[(0,N.jsx)(m.A,{title:"Quotes",isLoding:V,columnData:null!==oe&&void 0!==oe?oe:[],allData:null!==G&&void 0!==G?G:[],tableData:G,searchDisplay:P,setSearchDisplay:M,searchedDataOut:L,setSearchedDataOut:Q,tableCustomFields:[],access:le,onClose:onclose,setIsImport:ee,onOpen:()=>{g(),Z("add")},selectedValues:f,setSelectedValues:S,setDelete:$,deleteMany:!1,AdvanceSearch:(0,N.jsx)(r.Button,{variant:"outline",colorScheme:"brand",leftIcon:(0,N.jsx)(o.SearchIcon,{}),mt:{sm:"5px",md:"0"},size:"sm",onClick:()=>C(!0),children:"Advance Search"}),getTagValuesOutSide:T,searchboxOutside:H,setGetTagValuesOutside:A,setSearchboxOutside:k,handleSearchType:"QuotesSearch"}),(0,N.jsx)(_,{advanceSearch:y,setAdvanceSearch:C,setSearchedData:Q,setDisplaySearchData:M,allData:null!==G&&void 0!==G?G:[],setAction:a,setGetTagValues:A,setSearchbox:k}),(0,N.jsx)(x.A,{isOpen:p,size:"lg",onClose:j,setAction:a,type:X,selectedId:U}),(0,N.jsx)(w.A,{isOpen:Y,onClose:()=>$(!1),type:"Quotes",handleDeleteData:async e=>{try{W(!0),200===(await(0,c.Vn)("api/quotes/deleteMany",e)).status&&(b.oR.success("Quotes Delete successfully"),S([]),$(!1),a((e=>!e)))}catch(l){console.log(l),b.oR.error("server error")}finally{W(!1)}},ids:f}),(0,N.jsx)(D,{text:"Quotes file",isOpen:K,onClose:ee,customFields:[{name:"quoteNumber",label:"Quote Number",type:"number",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:"",_id:"669508bc20a9be3594c8652f"},{name:"",value:"",_id:"669508bc20a9be3594c86530"}],validation:[{require:!0,message:"Quote Number is required",_id:"669508bc20a9be3594c86531"},{min:!1,value:"",message:"",_id:"669508bc20a9be3594c86532"},{max:!1,value:"",message:"",_id:"669508bc20a9be3594c86533"},{value:"",message:"",match:!1,_id:"669508bc20a9be3594c86534"},{message:"",formikType:"",_id:"669508bc20a9be3594c86535"}],_id:"669508bc20a9be3594c8652e"},{name:"title",label:"Title",type:"text",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:"",_id:"669508f820a9be3594c8686c"},{name:"",value:"",_id:"669508f820a9be3594c8686d"}],validation:[{require:!0,message:"Title is required ",_id:"669508f820a9be3594c8686e"},{min:!1,value:"",message:"",_id:"669508f820a9be3594c8686f"},{max:!1,value:"",message:"",_id:"669508f820a9be3594c86870"},{value:"",message:"",match:!1,_id:"669508f820a9be3594c86871"},{message:"",formikType:"",_id:"669508f820a9be3594c86872"}],_id:"669508f820a9be3594c8686b"},{name:"quoteStage",label:"Quote Stage",type:"select",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"Draft",value:"Draft",_id:"6695095120a9be3594c86bc1"},{name:"Negotiation",value:"Negotiation",_id:"6695095120a9be3594c86bc2"},{name:"Delivered",value:"Delivered",_id:"6695095120a9be3594c86bc3"},{name:"On Hold",value:"On Hold",_id:"6695095120a9be3594c86bc4"},{name:"Confirmed",value:"Confirmed",_id:"6695095120a9be3594c86bc5"},{name:"Closed Accepted",value:"Closed Accepted",_id:"6695095120a9be3594c86bc6"},{name:"Closed Lost",value:"Closed Lost",_id:"6695095120a9be3594c86bc7"},{name:"Closed Dead",value:"Closed Dead",_id:"6695095120a9be3594c86bc8"}],validation:[{require:!1,message:"",_id:"6695095120a9be3594c86bc9"},{min:!1,value:"",message:"",_id:"6695095120a9be3594c86bca"},{max:!1,value:"",message:"",_id:"6695095120a9be3594c86bcb"},{value:"",message:"",match:!1,_id:"6695095120a9be3594c86bcc"},{message:"",formikType:"",_id:"6695095120a9be3594c86bcd"}],_id:"6695095120a9be3594c86bc0"},{name:"contact",label:"Contact",type:"text",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:"",_id:"6695099520a9be3594c86f46"},{name:"",value:"",_id:"6695099520a9be3594c86f47"}],validation:[{require:!1,message:"",_id:"6695099520a9be3594c86f48"},{min:!1,value:"",message:"",_id:"6695099520a9be3594c86f49"},{max:!1,value:"",message:"",_id:"6695099520a9be3594c86f4a"},{value:"",message:"",match:!1,_id:"6695099520a9be3594c86f4b"},{message:"",formikType:"",_id:"6695099520a9be3594c86f4c"}],_id:"6695099520a9be3594c86f45"},{name:"account",label:"Account",type:"text",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:"",_id:"669509a320a9be3594c872dd"},{name:"",value:"",_id:"669509a320a9be3594c872de"}],validation:[{require:!1,message:"",_id:"669509a320a9be3594c872df"},{min:!1,value:"",message:"",_id:"669509a320a9be3594c872e0"},{max:!1,value:"",message:"",_id:"669509a320a9be3594c872e1"},{value:"",message:"",match:!1,_id:"669509a320a9be3594c872e2"},{message:"",formikType:"",_id:"669509a320a9be3594c872e3"}],_id:"669509a320a9be3594c872dc"},{name:"grandTotal",label:"Grand Total",type:"number",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:"",_id:"669509b120a9be3594c8768c"},{name:"",value:"",_id:"669509b120a9be3594c8768d"}],validation:[{require:!1,message:"",_id:"669509b120a9be3594c8768e"},{min:!1,value:"",message:"",_id:"669509b120a9be3594c8768f"},{max:!1,value:"",message:"",_id:"669509b120a9be3594c87690"},{value:"",message:"",match:!1,_id:"669509b120a9be3594c87691"},{message:"",formikType:"",_id:"669509b120a9be3594c87692"}],_id:"669509b120a9be3594c8768b"},{name:"validUntil",label:"Valid Until",type:"date",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:"",_id:"669509d320a9be3594c87a53"},{name:"",value:"",_id:"669509d320a9be3594c87a54"}],validation:[{require:!1,message:"",_id:"669509d320a9be3594c87a55"},{min:!1,value:"",message:"",_id:"669509d320a9be3594c87a56"},{max:!1,value:"",message:"",_id:"669509d320a9be3594c87a57"},{value:"",message:"",match:!1,_id:"669509d320a9be3594c87a58"},{message:"",formikType:"date",_id:"669509d320a9be3594c87a59"}],_id:"669509d320a9be3594c87a52"}]})]})}},40619:(e,l,a)=>{a.d(l,{A:()=>x});var t=a(57360),i=a(4450),o=a(22554),n=a(65043),s=a(19488),d=a(8860),r=a(88031),c=a(97508),u=(a(79621),a(30390),a(47503),a(86178)),m=a.n(u),v=a(70579);const x=e=>{const{onClose:l,isOpen:a,fieldName:u,setFieldValue:x,data:h}=e,[b,p]=((0,c.wA)(),(0,n.useState)(!1)),[g,j]=(0,n.useState)([]),f=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Opportunity Name",accessor:"opportunityName"},{Header:"Account Name",accessor:"accountName"},{Header:"Opportunity Amount",accessor:"opportunityAmount"},{Header:"Expected Close Date",accessor:"expectedCloseDate",cell:e=>(0,v.jsx)("div",{children:m()(null===e||void 0===e?void 0:e.value).format("YYYY-MM-DD")})},{Header:"Sales Stage",accessor:"salesStage"}],[S,y]=(0,n.useState)([...f]),[C,T]=(0,n.useState)([...f]);null===f||void 0===f||f.filter((e=>null===C||void 0===C?void 0:C.find((l=>(null===l||void 0===l?void 0:l.Header)===e.Header))));return(0,v.jsxs)(t.aF,{onClose:l,size:"full",isOpen:a,children:[(0,v.jsx)(t.mH,{}),(0,v.jsxs)(t.$m,{children:[(0,v.jsx)(t.rQ,{children:"Select Opportunity"}),(0,v.jsx)(t.s_,{}),(0,v.jsx)(t.cw,{children:b?(0,v.jsx)(i.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,v.jsx)(s.A,{})}):(0,v.jsx)(r.A,{title:"Opprtunities",isLoding:b,columnData:null!==S&&void 0!==S?S:[],allData:null!==h&&void 0!==h?h:[],tableData:h,AdvanceSearch:()=>"",ManageGrid:!1,deleteMany:!1,selectedValues:g,setSelectedValues:j,selectType:"single",customSearch:!1})}),(0,v.jsxs)(t.jl,{children:[(0,v.jsxs)(o.Button,{variant:"brand",size:"sm",me:2,disabled:!!b,leftIcon:(0,v.jsx)(d.NLY,{}),onClick:async()=>{try{p(!0),x(u,g),l()}catch(e){console.log(e)}finally{p(!1)}},children:[" ",b?(0,v.jsx)(s.A,{}):"Select"]}),(0,v.jsx)(o.Button,{variant:"outline",size:"sm",colorScheme:"red",onClick:()=>l(),children:"Close"})]})]})]})}},41046:(e,l,a)=>{a.d(l,{A:()=>x});var t=a(31206),i=a(4450),o=a(71778),n=a(35066),s=a(65043),d=a(71094),r=a(10216),c=a(76914),u=a(78152),m=a(85369),v=a(70579);function x(e){const{columnsData:l,tableData:a,title:x,type:h,selectedValues:b,setSelectedValues:p}=e,g=(0,s.useMemo)((()=>l),[l]),j=(0,s.useMemo)((()=>a),[a]),[f,S]=(JSON.parse(localStorage.getItem("user")),(0,s.useState)()),y=(0,d.useTable)({columns:g,data:j,initialState:{pageIndex:0}},d.useGlobalFilter,d.useSortBy,d.usePagination),{getTableProps:C,getTableBodyProps:T,headerGroups:N,prepareRow:_,page:w,canPreviousPage:A,canNextPage:D,pageOptions:F,pageCount:z,gotoPage:H,nextPage:k,previousPage:I,setPageSize:q,state:{pageIndex:O,pageSize:V}}=y;F.length<f&&S(F.length);const W=(0,t.dU)("gray.500","white"),G=(0,t.dU)("gray.200","whiteAlpha.100"),B=(e,l)=>{"multi"===h?e.target.checked?p((e=>[...e,l])):p((e=>e.filter((e=>e!==l)))):e.target.checked?p(l):p(null)};return(0,v.jsxs)(r.A,{direction:"column",w:"100%",px:"0px",style:{border:"1px solid gray.200"},overflowX:{sm:"scroll",lg:"hidden"},children:[(0,v.jsx)(i.Flex,{px:"25px",justify:"space-between",mb:"20px",align:"center",children:(0,v.jsxs)(i.Text,{color:W,fontSize:"22px",fontWeight:"700",lineHeight:"100%",children:[x,"  (",(0,v.jsx)(c.A,{targetNumber:null===j||void 0===j?void 0:j.length},null===j||void 0===j?void 0:j.length),")"]})}),(0,v.jsxs)(i.Box,{overflowY:"auto",className:"table-container-property",children:["+ +        ",(0,v.jsxs)(o.XI,{...C(),variant:"simple",color:"gray.500",mb:"24px",children:[(0,v.jsx)(o.d8,{zIndex:1,children:null===N||void 0===N?void 0:N.map(((e,l)=>(0,s.createElement)(o.Tr,{...e.getHeaderGroupProps(),key:l},e.headers.map(((e,l)=>(0,s.createElement)(o.Th,{...e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps()),pe:"10px",key:l,borderColor:G},(0,v.jsxs)(i.Flex,{align:"center",justifyContent:e.center?"center":"start",fontSize:{sm:"14px",lg:"16px"},color:" secondaryGray.900",children:[(0,v.jsx)("span",{style:{textTransform:"capitalize",marginRight:"8px"},children:e.render("Header")}),!1!==e.isSortable&&(0,v.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,v.jsx)(m.GOR,{}):(0,v.jsx)(m.XhJ,{}):(0,v.jsx)(m.MjW,{})})]})))))))}),(0,v.jsxs)(o.NN,{...T(),children:[0===(null===j||void 0===j?void 0:j.length)&&+ +(0,v.jsx)(o.Tr,{children:(0,v.jsx)(o.Td,{colSpan:g.length,children:"img"})}),null===w||void 0===w?void 0:w.map(((e,l)=>{var a;return _(e),(0,s.createElement)(o.Tr,{...null===e||void 0===e?void 0:e.getRowProps(),key:l},null===e||void 0===e||null===(a=e.cells)||void 0===a?void 0:a.map(((e,l)=>{let a="";var t;"#"===(null===e||void 0===e?void 0:e.column.Header)?a=(0,v.jsxs)(i.Flex,{align:"center",children:["multi"===h?(0,v.jsx)(n.Sc,{colorScheme:"brandScheme",value:b,isChecked:b.includes(null===e||void 0===e?void 0:e.value),onChange:l=>B(l,null===e||void 0===e?void 0:e.value),me:"10px"}):(0,v.jsx)(n.Sc,{colorScheme:"brandScheme",value:b,isChecked:b===(null===e||void 0===e?void 0:e.value),onChange:l=>B(l,null===e||void 0===e?void 0:e.value),me:"10px"}),(0,v.jsx)(i.Text,{color:W,fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.index)+1})]}):"title"===(null===e||void 0===e?void 0:e.column.Header)||"first Name"===(null===e||void 0===e?void 0:e.column.Header)||"last Name"===(null===e||void 0===e?void 0:e.column.Header)?a=(0,v.jsx)(i.Text,{me:"10px",color:W,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}):"phone Number"===(null===e||void 0===e?void 0:e.column.Header)||"Email Address"===(null===e||void 0===e?void 0:e.column.Header)?a=(0,v.jsx)(i.Text,{fontSize:"sm",fontWeight:"700",color:W,children:null===e||void 0===e?void 0:e.value}):("physical Address"===(null===e||void 0===e?void 0:e.column.Header)||"mailing Address"===(null===e||void 0===e?void 0:e.column.Header)||"Contact Method"===(null===e||void 0===e?void 0:e.column.Header))&&(a=(0,v.jsx)(i.Text,{color:W,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}));return(0,s.createElement)(o.Td,{...null===e||void 0===e?void 0:e.getCellProps(),key:l,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"},a)})))}))]})]})]}),(null===j||void 0===j?void 0:j.length)>5&&(0,v.jsx)(u.A,{gotoPage:H,gopageValue:f,setGopageValue:S,pageCount:z,canPreviousPage:A,previousPage:I,canNextPage:D,pageOptions:F,setPageSize:q,nextPage:k,pageSize:V,pageIndex:O})]})}},49565:(e,l,a)=>{a.d(l,{A:()=>x});var t=a(57360),i=a(4450),o=a(22554),n=a(65043),s=(a(41046),a(19488)),d=a(8860),r=a(88031),c=a(20850),u=a(26547),m=a(97508),v=a(70579);const x=e=>{var l,a;const{onClose:x,isOpen:h,fieldName:b,setFieldValue:p,data:g}=e,[j,f]=(0,n.useState)(),[S,y]=(0,n.useState)([]),[C,T]=(0,n.useState)(!1),[N,_]=(0,n.useState)([]),w=(0,m.wA)();return(0,n.useEffect)((async()=>{await w((0,u.h)()),(async()=>{var e,l,a,t;T(!0);const i=await w((0,c.I)());y(null===i||void 0===i||null===(e=i.payload)||void 0===e?void 0:e.data);const o=[{Header:"#",accessor:"_id",isSortable:!1,width:10},...((null===i||void 0===i||null===(l=i.payload)||void 0===l||null===(a=l.data)||void 0===a||null===(t=a[0])||void 0===t?void 0:t.fields)||[]).filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))).map((e=>({Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name})))];_(o),T(!1)})()}),[]),(0,v.jsxs)(t.aF,{onClose:x,size:"full",isOpen:h,children:[(0,v.jsx)(t.mH,{}),(0,v.jsxs)(t.$m,{children:[(0,v.jsx)(t.rQ,{children:"Select Contact"}),(0,v.jsx)(t.s_,{}),(0,v.jsx)(t.cw,{children:C?(0,v.jsx)(i.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,v.jsx)(s.A,{})}):(0,v.jsx)(r.A,{title:"Contacts",isLoding:C,columnData:null!==N&&void 0!==N?N:[],allData:null!==g&&void 0!==g?g:[],tableData:g,tableCustomFields:(null===S||void 0===S||null===(l=S[0])||void 0===l||null===(a=l.fields)||void 0===a?void 0:a.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],AdvanceSearch:()=>"",ManageGrid:!1,deleteMany:!1,selectedValues:j,setSelectedValues:f,selectType:"single",customSearch:!1})}),(0,v.jsxs)(t.jl,{children:[(0,v.jsxs)(o.Button,{variant:"brand",size:"sm",me:2,onClick:async()=>{try{T(!0),p(b,j),x()}catch(e){console.log(e)}finally{T(!1)}},disabled:!!C,leftIcon:(0,v.jsx)(d.NLY,{}),children:[" ",C?(0,v.jsx)(s.A,{}):"Select"]}),(0,v.jsx)(o.Button,{variant:"outline",size:"sm",colorScheme:"red",onClick:()=>x(),children:"Close"})]})]})]})}},53186:(e,l,a)=>{a.d(l,{T:()=>r});var t=a(78510),i=a(59522),o=a(23216),n=a(65043);function s(){return s=Object.assign||function(e){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},s.apply(this,arguments)}var d=["className","rows"],r=(0,i.Rf)((function(e,l){var a=(0,i.Vl)("Textarea",e),r=(0,i.MN)(e),c=r.className,u=r.rows,m=function(e,l){if(null==e)return{};var a,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)a=o[t],l.indexOf(a)>=0||(i[a]=e[a]);return i}(r,d),v=(0,t.useFormControl)(m),x=u?(0,o.cJ)(a,["h","minH","height","minHeight"]):a;return n.createElement(i.Bv.textarea,s({ref:l,rows:u},v,{className:(0,o.cx)("chakra-textarea",c),__css:x}))}));o.gt&&(r.displayName="Textarea")}}]);
//# sourceMappingURL=9021.75d58166.chunk.js.map